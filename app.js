!function(){"use strict";const e={accessibilityContainer:document.querySelector("#accessibility-container"),animationSwitch:document.querySelector("#animation-switch"),githubLogo:document.querySelector("#lower-nav img"),themeSwitch:document.querySelector("#theme-switch")},t=()=>{localStorage.setItem("theme",document.documentElement.getAttribute("theme")),localStorage.setItem("animations-enabled",e.animationSwitch.getAttribute("aria-checked"))},n=((()=>{const n=e=>{"light"===document.documentElement.getAttribute("theme")?a():o(),t()},a=()=>{e.themeSwitch.setAttribute("aria-checked","false"),document.documentElement.setAttribute("theme","dark"),e.themeSwitch.style.backgroundPosition="center bottom -0.8rem",e.githubLogo.setAttribute("src","assets/images/logos/GitHub-Mark-Light-32px.png")},o=()=>{e.themeSwitch.setAttribute("aria-checked","true"),document.documentElement.setAttribute("theme","light"),e.themeSwitch.style.backgroundPosition="center top 2px",e.githubLogo.setAttribute("src","assets/images/logos/GitHub-Mark-32px.png")};e.themeSwitch.addEventListener("click",n),e.themeSwitch.addEventListener("keydown",(e=>{" "===e.key&&(e.preventDefault(),n())})),window.addEventListener("load",(()=>{"light"===localStorage.getItem("theme")?o():a()}))})(),(()=>{const n=()=>{"true"===e.animationSwitch.getAttribute("aria-checked")?o():a(),t()},a=()=>{e.animationSwitch.setAttribute("aria-checked","true"),document.documentElement.style.scrollBehavior="smooth",e.accessibilityContainer.style.transition="top 0.75s ease-in-out",e.animationSwitch.textContent="Animations Enabled",e.themeSwitch.style.transition="background-position 0.3s ease-in",document.querySelector("#main-nav").style.transition="left 0.5s",Array.from(document.querySelectorAll(".label-arrow")).forEach((e=>{e.style.transition="transform 0.75s"}))},o=()=>{e.animationSwitch.setAttribute("aria-checked","false"),document.documentElement.style.scrollBehavior="auto",e.animationSwitch.setAttribute("aria-checked","false"),e.animationSwitch.textContent="Animations Disabled",Array.from(document.querySelectorAll(".animated")).forEach((e=>{e.style.transition="none"}))};return e.animationSwitch.addEventListener("click",n),e.animationSwitch.addEventListener("keydown",(e=>{" "===e.key&&(e.preventDefault(),n())})),window.addEventListener("load",(()=>{"false"===localStorage.getItem("animations-enabled")?o():a()})),{animationsEnabled:a,animationsDisabled:o}})()),a={modalBox:document.querySelector(".modal-box"),modalContainer:document.querySelector(".modal-container")},o=(()=>{const e=()=>{for(;a.modalBox.firstChild;)a.modalBox.removeChild(a.modalBox.firstChild);a.modalContainer.style.display="none",a.modalBox.dataset.indexRef="",a.modalBox.dataset.groupRef=""};return window.addEventListener("keydown",(t=>{"Escape"===t.key&&e()})),{createCloseBtn:()=>{const e=document.createElement("button");e.setAttribute("type","button"),e.setAttribute("aria-label","Close modal"),e.classList.add("modal-close-button","close-btn","focusable"),e.addEventListener("click",o.onClose),a.modalBox.appendChild(e)},onClose:e,onOpen:()=>{a.modalContainer.style.display="flex",document.querySelector(".modal-close-button").focus()}}})(),r=((()=>{const e=e=>{e.target.classList.contains("disable-button")?n.animationsDisabled():e.target.classList.contains("enable-button")&&n.animationsEnabled(),t(),o.onClose()};window.addEventListener("load",(()=>{0===localStorage.length&&(()=>{const t=document.createElement("h1");t.textContent="This site uses minimal animation effects.";const n=document.createElement("p");n.textContent="Effects include moving menus and smooth scrolling. If you suffer from a vestibular disorder or otherwise prefer no animations, you can turn them off by clicking the first button below.";const o=document.createElement("p");o.textContent="You can later change this setting in the Display & Accessibility tab at the top of the page.";const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("disable-button","focusable","primary-btn"),r.textContent="DISABLE ANIMATIONS",r.addEventListener("click",e);const i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("enable-button","focusable","secondary-btn"),i.textContent="ENABLE ANIMATIONS",i.addEventListener("click",e),a.modalBox.appendChild(t),a.modalBox.appendChild(n),a.modalBox.appendChild(o),a.modalBox.appendChild(r),a.modalBox.appendChild(i),a.modalContainer.style.display="flex"})()}))})(),(()=>{const e=["Important","Next 7 Days","Later","Eventually"],t=document.querySelector(".selected-group"),n=n=>{const r=document.createElement("form"),i=document.createElement("fieldset"),s=document.createElement("legend"),l=document.createElement("div"),d=document.createElement("input"),u=document.createElement("label");u.setAttribute("for","name-input"),u.textContent="Group Name";const c=document.createElement("input");if(c.setAttribute("type","text"),c.setAttribute("required","true"),c.setAttribute("id","name-input"),c.setAttribute("autocomplete","off"),c.classList.add("focusable"),n.target.classList.contains("add-group-btn"))s.textContent="Add a Group",d.setAttribute("type","submit"),d.setAttribute("value","ADD GROUP"),d.classList.add("submit-group-btn","primary-btn","focusable","submit"),l.appendChild(d);else if(n.target.classList.contains("group-option-btn")){s.textContent="Group Options",d.setAttribute("type","submit"),d.setAttribute("value","UPDATE"),d.classList.add("update-group-btn","secondary-btn","focusable","submit");const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add("delete-group-btn","delete-btn","focusable"),n.textContent="DELETE GROUP";const a=document.createElement("button");a.setAttribute("type","button"),a.classList.add("delete-completed-btn","delete-btn","focusable"),a.textContent="DELETE COMPLETED TASKS",e.indexOf(t.textContent)>=0&&(u.style.opacity="0.38",c.setAttribute("disabled","true"),c.style.opacity="0.38",d.setAttribute("disabled","true"),d.style.opacity="0.38",n.setAttribute("disabled","true"),n.style.opacity="0.38"),l.appendChild(d),l.appendChild(n),l.appendChild(a)}i.appendChild(s),i.appendChild(u),i.appendChild(c),i.appendChild(l),r.appendChild(i),o.createCloseBtn(),a.modalBox.appendChild(r)};document.querySelector(".group-option-btn").addEventListener("click",(e=>{n(e),o.onOpen()})),document.querySelector(".add-group-btn").addEventListener("click",(e=>{n(e),o.onOpen()}))})(),(()=>{const e=["Normal","Important"];return{render:(t,n)=>{const r=document.createElement("form"),i=document.createElement("fieldset"),s=document.createElement("legend"),l=document.createElement("div"),d=document.createElement("label");d.setAttribute("for","name-input"),d.textContent="Task Name (required)";const u=document.createElement("input");u.setAttribute("type","text"),u.setAttribute("id","name-input"),u.setAttribute("placeholder","Enter a task name"),u.setAttribute("required","true"),u.setAttribute("autocomplete","off"),u.className="focusable";const c=document.createElement("label");c.setAttribute("for","group-select"),c.textContent="Group";const m=document.createElement("select");m.setAttribute("id","group-select"),m.className="focusable";for(let e=0;e<n.length;e++){const t=document.createElement("option");t.setAttribute("value",n[e]),t.textContent=n[e],m.appendChild(t)}const p=document.createElement("label");p.setAttribute("for","priority-select"),p.textContent="Priority";const h=document.createElement("select");h.setAttribute("id","priority-select"),h.className="focusable";for(let t=0;t<e.length;t++){const n=document.createElement("option");n.setAttribute("value",e[t]),n.textContent=e[t],h.appendChild(n)}const b=document.createElement("label");b.setAttribute("for","date-select"),b.textContent="Due Date (optional)";const f=document.createElement("input");f.setAttribute("type","date"),f.setAttribute("id","date-select"),f.className="focusable";const g=document.createElement("label");g.setAttribute("for","notes-input"),g.textContent="Additional Notes";const y=document.createElement("textarea");if(y.setAttribute("id","notes-input"),y.setAttribute("placeholder","Enter any additional notes for the task"),y.className="focusable",t.target.textContent.includes("ADD TASK")){s.textContent="Add a Task";const e=document.createElement("input");e.setAttribute("type","submit"),e.setAttribute("value","ADD ONE"),e.setAttribute("aria-label","Add task and close modal"),e.classList.add("add-single-btn","primary-btn","submit","focusable");const t=document.createElement("input");t.setAttribute("type","submit"),t.setAttribute("value","ADD MANY"),t.setAttribute("aria-label","Add task and keep modal open"),t.classList.add("add-many-btn","secondary-btn","submit","focusable"),l.appendChild(e),l.appendChild(t)}else if("EDIT"===t.target.textContent){s.textContent="Edit Task";const e=document.createElement("input");e.setAttribute("type","submit"),e.setAttribute("value","UPDATE"),e.setAttribute("aria-label","Update task and close modal"),e.classList.add("update-task-btn","primary-btn","focusable"),m.setAttribute("disabled","true"),c.style.opacity="0.38",m.style.opacity="0.38",l.appendChild(e)}i.appendChild(s),i.appendChild(d),i.appendChild(u),i.appendChild(c),i.appendChild(document.createElement("br")),i.appendChild(m),i.appendChild(document.createElement("br")),i.appendChild(p),i.appendChild(document.createElement("br")),i.appendChild(h),i.appendChild(document.createElement("br")),i.appendChild(b),i.appendChild(document.createElement("br")),i.appendChild(f),i.appendChild(document.createElement("br")),i.appendChild(g),i.appendChild(y),i.appendChild(l),r.appendChild(i),o.createCloseBtn(),a.modalBox.appendChild(r)}}})());var i=6e4;function s(e){return e.getTime()%i}function l(e){var t=new Date(e.getTime()),n=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var a=n>0?(i+s(t))%i:s(t);return n*i+a}function d(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function u(e){d(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function c(e,t){d(2,arguments);var n=u(e),a=u(t),o=n.getTime()-a.getTime();return o<0?-1:o>0?1:o}function m(e,t){d(2,arguments);var n=u(e),a=u(t);return n.getTime()-a.getTime()}function p(e,t){d(2,arguments);var n=m(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}function h(e){return function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})t.hasOwnProperty(n)&&(e[n]=t[n]);return e}({},e)}var b={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function f(e){return function(t){var n=t||{},a=n.width?String(n.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}var g={date:f({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:f({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:f({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},y={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function v(e){return function(t,n){var a,o=n||{};if("formatting"===(o.context?String(o.context):"standalone")&&e.formattingValues){var r=e.defaultFormattingWidth||e.defaultWidth,i=o.width?String(o.width):r;a=e.formattingValues[i]||e.formattingValues[r]}else{var s=e.defaultWidth,l=o.width?String(o.width):e.defaultWidth;a=e.values[l]||e.values[s]}return a[e.argumentCallback?e.argumentCallback(t):t]}}function k(e){return function(t,n){var a=String(t),o=n||{},r=o.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=a.match(i);if(!s)return null;var l,d=s[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth];return l="[object Array]"===Object.prototype.toString.call(u)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].test(d))return n}(u):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n].test(d))return n}(u),l=e.valueCallback?e.valueCallback(l):l,{value:l=o.valueCallback?o.valueCallback(l):l,rest:a.slice(d.length)}}}var C,E={code:"en-US",formatDistance:function(e,t,n){var a;return n=n||{},a="string"==typeof b[e]?b[e]:1===t?b[e].one:b[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+a:a+" ago":a},formatLong:g,formatRelative:function(e,t,n,a){return y[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:v({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:v({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:v({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:v({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:v({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(C={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e,t){var n=String(e),a=t||{},o=n.match(C.matchPattern);if(!o)return null;var r=o[0],i=n.match(C.parsePattern);if(!i)return null;var s=C.valueCallback?C.valueCallback(i[0]):i[0];return{value:s=a.valueCallback?a.valueCallback(s):s,rest:n.slice(r.length)}}),era:k({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:k({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:k({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:k({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:k({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},w=1440,A=43200,x=525600;function S(e,t,n){d(2,arguments);var a=n||{},o=a.locale||E;if(!o.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var r=c(e,t);if(isNaN(r))throw new RangeError("Invalid time value");var i,s,m=h(a);m.addSuffix=Boolean(a.addSuffix),m.comparison=r,r>0?(i=u(t),s=u(e)):(i=u(e),s=u(t));var b,f=null==a.roundingMethod?"round":String(a.roundingMethod);if("floor"===f)b=Math.floor;else if("ceil"===f)b=Math.ceil;else{if("round"!==f)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");b=Math.round}var g,y=p(s,i),v=(l(s)-l(i))/1e3,k=b((y-v)/60);if("second"===(g=null==a.unit?k<1?"second":k<60?"minute":k<w?"hour":k<A?"day":k<x?"month":"year":String(a.unit)))return o.formatDistance("xSeconds",y,m);if("minute"===g)return o.formatDistance("xMinutes",k,m);if("hour"===g){var C=b(k/60);return o.formatDistance("xHours",C,m)}if("day"===g){var S=b(k/w);return o.formatDistance("xDays",S,m)}if("month"===g){var L=b(k/A);return o.formatDistance("xMonths",L,m)}if("year"===g){var D=b(k/x);return o.formatDistance("xYears",D,m)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function L(e){d(1,arguments);var t=u(e);return t.setHours(0,0,0,0),t}var D=864e5;function q(e,t){d(2,arguments);var n=L(e),a=L(t),o=n.getTime()-l(n),r=a.getTime()-l(a);return Math.round((o-r)/D)}const N=(()=>{const e=document.querySelector(".custom-groups-container");return{render:t=>{(()=>{for(;e.firstChild;)e.removeChild(e.firstChild)})(),Object.keys(t).forEach((t=>{const n=document.createElement("button");n.setAttribute("type","button"),n.setAttribute("aria-label",`Group name: ${t}`),n.classList.add("custom-group","focusable","group-btn"),n.textContent=t,e.appendChild(n)}))}}})(),M=(()=>{const e=document.querySelector(".selected-group"),t=document.querySelector(".task-container"),n=(e,n,a)=>{const o=document.createElement("section");o.setAttribute("data-group",n),o.setAttribute("data-index",a),o.className="task-item";const r=document.createElement("span");if(r.setAttribute("aria-label",`${e.priority} task`),r.className="task-priority","Important"===e.priority){const e=document.createElement("span");e.className="material-icons",e.textContent="priority_high",r.appendChild(e)}const i=document.createElement("span");i.setAttribute("role","checkbox"),i.setAttribute("aria-checked","false"),i.setAttribute("tabindex","0"),i.setAttribute("aria-label",e.taskName),i.classList.add("task-status","focusable"),e.completed&&(i.style.backgroundImage="url(assets/images/icons/done-black-24dp.svg)");const s=document.createElement("span");s.setAttribute("role","button"),s.setAttribute("tabindex","0"),s.setAttribute("aria-label",`Details for ${e.taskName}`),s.classList.add("task-name","focusable"),s.textContent=e.taskName;const l=document.createElement("span");l.setAttribute("aria-label",`Due date for task ${e.taskName}: ${e.dueDate}`),l.className="task-date",l.textContent=(e=>{const t=new Date,n=new Date(e.split("-").join(", "));switch(!0){case""===e:return"No due date";case q(n,t)<0:return"Due date passed";case 0===q(n,t):return"Today";case 1===q(n,t):return"Tomorrow";default:return function(e,t){return d(1,arguments),S(e,Date.now(),t)}(n)}})(e.dueDate);const u=document.createElement("div");u.setAttribute("data-task",e.taskName),u.setAttribute("data-group",n),u.setAttribute("data-index",a),u.className="task-details";const c=document.createElement("p");c.className="task-notes",c.textContent=e.notes;const m=document.createElement("button");m.setAttribute("type","button"),m.setAttribute("aria-label",`Edit task ${e.taskName}`),m.classList.add("edit-btn","focusable"),m.textContent="EDIT";const p=document.createElement("button");p.setAttribute("type","button"),p.setAttribute("aria-label",`Delete task ${e.taskName}`),p.classList.add("delete-btn","focusable"),p.textContent="DELETE",u.appendChild(c),u.appendChild(m),u.appendChild(p),o.appendChild(r),o.appendChild(i),o.appendChild(s),o.appendChild(l),o.appendChild(u),t.appendChild(o)};return{loadGroupTasks:(e,a)=>{const o=Object.keys(e);switch((()=>{for(;t.firstChild;)t.removeChild(t.firstChild)})(),a){case document.getElementById("important"):Object.values(e).forEach(((e,t)=>{for(let a=0;a<e.length;a++)"Important"===e[a].priority&&n(e[a],o[t],a)}));break;default:e[a.textContent].forEach(((e,t)=>{n(e,a.textContent,t)}))}if(0===t.children.length){const e=document.createElement("h2");e.textContent="No tasks for this group!",t.appendChild(e)}},updateHeader:t=>{e.textContent=t.textContent}}})(),T={defaultGroups:["Important","Next 7 Days","Later","Eventually"],modalBox:document.querySelector(".modal-box"),taskHeader:document.querySelector(".selected-group")},P=(()=>{const e=document.getElementById("important"),t=JSON.parse(localStorage.getItem("toDo-list"))||{Example:[{taskName:"Do the dishes",completed:!1,priority:"Normal",dueDate:"",notes:"Let the pans soak, put the plates in the dishwasher, wash the mugs by hand.\n\nWash pans after 30 minutes soaking."},{taskName:"Bring Muffin to vet",completed:!1,priority:"Important",dueDate:"2021-03-05",notes:"Pack her favorite toy so she stays calm."}]};return window.addEventListener("load",(n=>{M.loadGroupTasks(t,e),N.render(t)})),{masterList:t,saveToLocal:()=>{localStorage.setItem("toDo-list",JSON.stringify(list))}}})(),O=(()=>{const e=()=>{Array.from(document.getElementsByClassName("group-btn")).forEach((e=>{e.classList.remove("active")}))},t=e=>{e.classList.add("active")};return document.getElementById("main-nav").addEventListener("click",(n=>{n.target.classList.contains("group-btn")&&(e(),t(n.target),M.updateHeader(n.target),M.loadGroupTasks(P.masterList,n.target))})),{checkName:e=>T.defaultGroups.indexOf(e)>=0||Object.keys(P.masterList).indexOf(e)>=0||e.match(/^\s{1,}$/)||""===e,create:e=>{P.masterList[e]=[],console.log(P.masterList)},update:(e,t)=>{delete Object.assign(P.masterList,{[t]:P.masterList[e]})[e],console.log(P.masterList)},remove:e=>{delete P.masterList[e],console.log(P.masterList)},setActive:t,setInactive:e}})(),W=(()=>{const e=document.querySelector(".task-container"),t=e=>{switch(!0){case e.target.classList.contains("task-status"):(e=>{const t=e.dataset.group,n=e.dataset.index;null===e.children[1].getAttribute("style")?(P.masterList[t][n].completed=!0,e.children[1].style.backgroundImage="url(assets/images/icons/done-black-24dp.svg)"):(P.masterList[t][n].completed=!1,e.children[1].removeAttribute("style")),console.log(P.masterList)})(e.target.parentElement);break;case e.target.classList.contains("task-name"):e.target.parentElement.children[4].classList.toggle("expanded");break;case e.target.classList.contains("edit-btn"):r.render(e,Object.keys(P.masterList)),(e=>{const t=e.dataset.group,n=e.dataset.index;T.modalBox.dataset.indexRef=n,T.modalBox.dataset.groupRef=t,document.querySelector("#name-input").value=P.masterList[t][n].taskName,document.querySelector("#group-select").value=t,document.querySelector("#priority-select").value=P.masterList[t][n].priority,document.querySelector("#date-select").value=P.masterList[t][n].dueDate,document.querySelector("#notes-input").value=P.masterList[t][n].notes})(e.target.parentElement),o.onOpen();break;case e.target.classList.contains("delete-btn"):confirm(`Please click "OK" to confirm deletion of task \n            "${e.target.parentElement.dataset.task}".`)&&n(e.target.parentElement);break;default:return}},n=e=>{P.masterList[e.dataset.group].splice(e.dataset.index,1),e.remove(),console.log(P.masterList)};return document.querySelector(".add-task-btn").addEventListener("click",(e=>{0!==Object.keys(P.masterList).length?(r.render(e,Object.keys(P.masterList)),o.onOpen()):alert("No groups exist. Please create a group before adding a task.")})),e.addEventListener("click",t),e.addEventListener("keydown",(e=>{" "===e.key&&t(e)})),{checkName:e=>e.match(/^\s{1,}$/)||""===e,confirmMassRemove:()=>T.defaultGroups.indexOf(T.taskHeader.textContent)>=0?confirm('This will delete all completed tasks in every group. \n\nPlease click "OK" to confirm deletion.'):confirm(`This will delete all completed tasks in the ${T.taskHeader.textContent} group.\n\nPlease click "OK" to confirm deletion.`),create:(e,t,n,a,o)=>({taskName:e,priority:t,dueDate:n,notes:a,completed:o}),removeCompleted:e=>{if(T.defaultGroups.indexOf(e)>=0){const e=Object.keys(P.masterList);Object.values(P.masterList).forEach(((t,n)=>{for(let a=t.length-1;a>=0;a--)!0===t[a].completed&&P.masterList[e[n]].splice(a,1)}))}else P.masterList[e].forEach((t=>{for(let n=P.masterList[e].length-1;n>=0;n--)!0===t.completed&&P.masterList[e].splice(n,1)}))},removeSingle:n,update:()=>{const e=T.modalBox.getAttribute("data-group-ref"),t=T.modalBox.getAttribute("data-index-ref");P.masterList[e][t].taskName=document.querySelector("#name-input").value,P.masterList[e][t].priority=document.querySelector("#priority-select").value,P.masterList[e][t].dueDate=document.querySelector("#date-select").value,P.masterList[e][t].notes=document.querySelector("#notes-input").value}}})();T.modalBox.addEventListener("click",(e=>{const t=document.querySelector("#name-input"),n=document.querySelector("#group-select");switch(e.target){case document.querySelector(".submit-group-btn"):case document.querySelector(".update-group-btn"):if(e.preventDefault(),O.checkName(t.value))return void alert("Group name cannot be blank and cannot already be taken.\n\nPlease enter a new name.");e.target.classList.contains("submit-group-btn")?(O.create(t.value),N.render(P.masterList)):(O.update(T.taskHeader.textContent,t.value),document.querySelector(".active").textContent=t.value,M.updateHeader(document.querySelector(".active"))),o.onClose();break;case document.querySelector(".delete-group-btn"):confirm(`This will delete the ${T.taskHeader.textContent} group, along with any tasks within it.\n\nPlease click "OK" to confirm deletion.`)&&(O.remove(T.taskHeader.textContent),o.onClose(),N.render(P.masterList));break;case document.querySelector(".delete-completed-btn"):W.confirmMassRemove()&&(W.removeCompleted(T.taskHeader.textContent),o.onClose(),console.log(P.masterList));break;case document.querySelector(".add-single-btn"):case document.querySelector(".add-many-btn"):if(e.preventDefault(),W.checkName(t.value))return void alert("Task name cannot be blank.\n\nPlease enter a new name.");{const a=W.create(t.value,document.querySelector("#priority-select").value,document.querySelector("#date-select").value,document.querySelector("#notes-input").value,!1);P.masterList[n.value].push(a),e.target.classList.contains("add-many-btn")?(t.focus(),t.value="",n.selectedIndex=0,document.querySelector("#priority-select").selectedIndex=0,document.querySelector("#date-select").value="",document.querySelector("#notes-input").value=""):o.onClose(),console.log(P.masterList)}break;case document.querySelector(".update-task-btn"):if(e.preventDefault(),W.checkName(t.value))return void alert("Task name cannot be blank.\n\nPlease enter a new name.");W.update(),o.onClose(),console.log(P.masterList);break;default:return}})),console.log(P.masterList),(()=>{const e=document.querySelector("#main-nav"),t=document.querySelector(".menu-button"),n=document.querySelector(".menu-close-button"),a=()=>{document.documentElement.scrollWidth>763?(e.style.visibility="visible",e.style.left="0"):(e.style.visibility="hidden",e.style.left="-800px")};window.addEventListener("resize",a),window.addEventListener("load",a);const o=()=>{"hidden"===e.style.visibility?(e.style.visibility="visible",e.style.left="0",n.focus()):(e.style.left="-800px",setTimeout((()=>{e.style.visibility="hidden"}),600),t.focus())};t.addEventListener("click",o),n.addEventListener("click",o)})()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc2l0ZS1zZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbW9kYWxzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi9nZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS90b0RhdGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9jb21wYXJlQXNjL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vZGlmZmVyZW5jZUluU2Vjb25kcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL19saWIvY2xvbmVPYmplY3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9fbGliL2Fzc2lnbi9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2xvY2FsZS9lbi1VUy9fbGliL2Zvcm1hdERpc3RhbmNlL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vbG9jYWxlL19saWIvYnVpbGRGb3JtYXRMb25nRm4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9sb2NhbGUvZW4tVVMvX2xpYi9mb3JtYXRMb25nL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vbG9jYWxlL2VuLVVTL19saWIvZm9ybWF0UmVsYXRpdmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9sb2NhbGUvX2xpYi9idWlsZExvY2FsaXplRm4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9sb2NhbGUvX2xpYi9idWlsZE1hdGNoRm4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9sb2NhbGUvZW4tVVMvX2xpYi9tYXRjaC9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2xvY2FsZS9fbGliL2J1aWxkTWF0Y2hQYXR0ZXJuRm4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9sb2NhbGUvZW4tVVMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9sb2NhbGUvZW4tVVMvX2xpYi9sb2NhbGl6ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2Zvcm1hdERpc3RhbmNlU3RyaWN0L2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vc3RhcnRPZkRheS9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2RpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvcmVuZGVyLWNvbnRhaW5lcnMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9mb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0L2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9sb2dpYy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiRE9NIiwiYWNjZXNzaWJpbGl0eUNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFuaW1hdGlvblN3aXRjaCIsImdpdGh1YkxvZ28iLCJ0aGVtZVN3aXRjaCIsInNldHRpbmdzIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImRvY3VtZW50RWxlbWVudCIsImdldEF0dHJpYnV0ZSIsImFjY2Vzc2liaWxpdHlPcHRpb25zIiwiX3RvZ2dsZVRoZW1lIiwiZSIsIl9kYXJrVGhlbWUiLCJfbGlnaHRUaGVtZSIsInNldEF0dHJpYnV0ZSIsInN0eWxlIiwiYmFja2dyb3VuZFBvc2l0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImtleSIsInByZXZlbnREZWZhdWx0Iiwid2luZG93IiwiZ2V0SXRlbSIsIl90b2dnbGVBbmltYXRpb25zIiwiYW5pbWF0aW9uc0Rpc2FibGVkIiwiYW5pbWF0aW9uc0VuYWJsZWQiLCJzY3JvbGxCZWhhdmlvciIsInRyYW5zaXRpb24iLCJ0ZXh0Q29udGVudCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiaXRlbSIsIm1vZGFsQm94IiwibW9kYWxDb250YWluZXIiLCJnZW5lcmFsTW9kYWwiLCJvbkNsb3NlIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiZGlzcGxheSIsImRhdGFzZXQiLCJpbmRleFJlZiIsImdyb3VwUmVmIiwiY3JlYXRlQ2xvc2VCdG4iLCJjbG9zZUJ0biIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsIm9uT3BlbiIsImZvY3VzIiwidGFza01vZGFsIiwiX3NlbGVjdE9wdGlvbiIsInRhcmdldCIsImNvbnRhaW5zIiwibGVuZ3RoIiwiaGVhZGluZyIsInBhcmExIiwicGFyYTIiLCJkaXNhYmxlQnV0dG9uIiwiZW5hYmxlQnV0dG9uIiwiX3JlbmRlciIsIl9kZWZhdWx0R3JvdXBzIiwiX3Rhc2tIZWFkZXIiLCJmb3JtIiwiZmllbGRzZXQiLCJsZWdlbmQiLCJkaXYiLCJtYWluQnRuIiwibmFtZUxhYmVsIiwibmFtZUlucHV0IiwiZGVsZXRlR3JvdXAiLCJkZWxldGVDb21wbGV0ZWQiLCJpbmRleE9mIiwib3BhY2l0eSIsIl9wcmlvcml0eUFycmF5IiwicmVuZGVyIiwiZ3JvdXBMaXN0IiwiY2xhc3NOYW1lIiwiZ3JvdXBMYWJlbCIsImdyb3VwU2VsZWN0IiwiaSIsImdyb3VwT3B0aW9uIiwicHJpb3JpdHlMYWJlbCIsInByaW9yaXR5U2VsZWN0IiwicHJpb3JpdHlPcHRpb24iLCJkYXRlTGFiZWwiLCJkYXRlSW5wdXQiLCJub3Rlc0xhYmVsIiwibm90ZXNJbnB1dCIsImluY2x1ZGVzIiwiYWRkT25lQnRuIiwiYWRkTWFueUJ0biIsImVkaXRCdG4iLCJNSUxMSVNFQ09ORFNfSU5fTUlOVVRFIiwiZ2V0RGF0ZU1pbGxpc2Vjb25kc1BhcnQiLCJkYXRlIiwiZ2V0VGltZSIsImdldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMiLCJkaXJ0eURhdGUiLCJEYXRlIiwiYmFzZVRpbWV6b25lT2Zmc2V0IiwiTWF0aCIsImNlaWwiLCJnZXRUaW1lem9uZU9mZnNldCIsInNldFNlY29uZHMiLCJtaWxsaXNlY29uZHNQYXJ0T2ZUaW1lem9uZU9mZnNldCIsInJlcXVpcmVkQXJncyIsInJlcXVpcmVkIiwiYXJncyIsIlR5cGVFcnJvciIsInRvRGF0ZSIsImFyZ3VtZW50IiwiYXJndW1lbnRzIiwiYXJnU3RyIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwiY29uc29sZSIsIndhcm4iLCJFcnJvciIsInN0YWNrIiwiTmFOIiwiY29tcGFyZUFzYyIsImRpcnR5RGF0ZUxlZnQiLCJkaXJ0eURhdGVSaWdodCIsImRhdGVMZWZ0IiwiZGF0ZVJpZ2h0IiwiZGlmZiIsImRpZmZlcmVuY2VJbk1pbGxpc2Vjb25kcyIsImRpZmZlcmVuY2VJblNlY29uZHMiLCJmbG9vciIsImNsb25lT2JqZWN0IiwiZGlydHlPYmplY3QiLCJwcm9wZXJ0eSIsImhhc093blByb3BlcnR5IiwiZm9ybWF0RGlzdGFuY2VMb2NhbGUiLCJsZXNzVGhhblhTZWNvbmRzIiwib25lIiwib3RoZXIiLCJ4U2Vjb25kcyIsImhhbGZBTWludXRlIiwibGVzc1RoYW5YTWludXRlcyIsInhNaW51dGVzIiwiYWJvdXRYSG91cnMiLCJ4SG91cnMiLCJ4RGF5cyIsImFib3V0WFdlZWtzIiwieFdlZWtzIiwiYWJvdXRYTW9udGhzIiwieE1vbnRocyIsImFib3V0WFllYXJzIiwieFllYXJzIiwib3ZlclhZZWFycyIsImFsbW9zdFhZZWFycyIsImJ1aWxkRm9ybWF0TG9uZ0ZuIiwiZGlydHlPcHRpb25zIiwib3B0aW9ucyIsIndpZHRoIiwiU3RyaW5nIiwiZGVmYXVsdFdpZHRoIiwiZm9ybWF0cyIsImZvcm1hdExvbmciLCJmdWxsIiwibG9uZyIsIm1lZGl1bSIsInNob3J0IiwidGltZSIsImRhdGVUaW1lIiwiZm9ybWF0UmVsYXRpdmVMb2NhbGUiLCJsYXN0V2VlayIsInllc3RlcmRheSIsInRvZGF5IiwidG9tb3Jyb3ciLCJuZXh0V2VlayIsImJ1aWxkTG9jYWxpemVGbiIsImRpcnR5SW5kZXgiLCJ2YWx1ZXNBcnJheSIsImNvbnRleHQiLCJmb3JtYXR0aW5nVmFsdWVzIiwiZGVmYXVsdEZvcm1hdHRpbmdXaWR0aCIsIl9kZWZhdWx0V2lkdGgiLCJfd2lkdGgiLCJ2YWx1ZXMiLCJhcmd1bWVudENhbGxiYWNrIiwiYnVpbGRNYXRjaEZuIiwiZGlydHlTdHJpbmciLCJzdHJpbmciLCJtYXRjaFBhdHRlcm4iLCJtYXRjaFBhdHRlcm5zIiwiZGVmYXVsdE1hdGNoV2lkdGgiLCJtYXRjaFJlc3VsdCIsIm1hdGNoIiwidmFsdWUiLCJtYXRjaGVkU3RyaW5nIiwicGFyc2VQYXR0ZXJucyIsImRlZmF1bHRQYXJzZVdpZHRoIiwiYXJyYXkiLCJwcmVkaWNhdGUiLCJ0ZXN0IiwiZmluZEluZGV4Iiwib2JqZWN0IiwiZmluZEtleSIsInZhbHVlQ2FsbGJhY2siLCJyZXN0Iiwic2xpY2UiLCJjb2RlIiwiZm9ybWF0RGlzdGFuY2UiLCJ0b2tlbiIsImNvdW50IiwicmVzdWx0IiwicmVwbGFjZSIsImFkZFN1ZmZpeCIsImNvbXBhcmlzb24iLCJmb3JtYXRSZWxhdGl2ZSIsIl9kYXRlIiwiX2Jhc2VEYXRlIiwiX29wdGlvbnMiLCJsb2NhbGl6ZSIsIm9yZGluYWxOdW1iZXIiLCJkaXJ0eU51bWJlciIsIl9kaXJ0eU9wdGlvbnMiLCJudW1iZXIiLCJOdW1iZXIiLCJyZW0xMDAiLCJlcmEiLCJuYXJyb3ciLCJhYmJyZXZpYXRlZCIsIndpZGUiLCJxdWFydGVyIiwibW9udGgiLCJkYXkiLCJkYXlQZXJpb2QiLCJhbSIsInBtIiwibWlkbmlnaHQiLCJub29uIiwibW9ybmluZyIsImFmdGVybm9vbiIsImV2ZW5pbmciLCJuaWdodCIsInBhcnNlUGF0dGVybiIsInBhcnNlSW50IiwicGFyc2VSZXN1bHQiLCJhbnkiLCJpbmRleCIsIndlZWtTdGFydHNPbiIsImZpcnN0V2Vla0NvbnRhaW5zRGF0ZSIsIk1JTlVURVNfSU5fREFZIiwiTUlOVVRFU19JTl9NT05USCIsIk1JTlVURVNfSU5fWUVBUiIsImZvcm1hdERpc3RhbmNlU3RyaWN0IiwiZGlydHlCYXNlRGF0ZSIsImxvY2FsZSIsIlJhbmdlRXJyb3IiLCJpc05hTiIsImxvY2FsaXplT3B0aW9ucyIsIkJvb2xlYW4iLCJyb3VuZGluZ01ldGhvZEZuIiwicm91bmRpbmdNZXRob2QiLCJyb3VuZCIsInVuaXQiLCJzZWNvbmRzIiwib2Zmc2V0SW5TZWNvbmRzIiwibWludXRlcyIsImhvdXJzIiwiZGF5cyIsIm1vbnRocyIsInllYXJzIiwic3RhcnRPZkRheSIsInNldEhvdXJzIiwiTUlMTElTRUNPTkRTX0lOX0RBWSIsImRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyIsInN0YXJ0T2ZEYXlMZWZ0Iiwic3RhcnRPZkRheVJpZ2h0IiwidGltZXN0YW1wTGVmdCIsInRpbWVzdGFtcFJpZ2h0IiwiZ3JvdXBDb250YWluZXIiLCJfY3VzdG9tR3JvdXBzIiwibGlzdCIsIl9jbGVhciIsImtleXMiLCJncm91cCIsImJ1dHRvbiIsInRhc2tDb250YWluZXIiLCJfdGFza3NMaXN0IiwidGFzayIsInRhc2tJdGVtIiwicHJpb3JpdHlCb3giLCJwcmlvcml0eSIsImljb24iLCJzdGF0dXNCb3giLCJ0YXNrTmFtZSIsImNvbXBsZXRlZCIsImJhY2tncm91bmRJbWFnZSIsIm5hbWVGaWVsZCIsImRhdGVGaWVsZCIsImR1ZURhdGUiLCJub3ciLCJuZXdEYXRlIiwic3BsaXQiLCJqb2luIiwiZm9ybWF0RGlzdGFuY2VUb05vd1N0cmljdCIsIl9mb3JtYXR0ZWREYXRlIiwiZGV0YWlscyIsIm5vdGVzRmllbGQiLCJub3RlcyIsImRlbGV0ZUJ0biIsImxvYWRHcm91cFRhc2tzIiwia2V5QXJyYXkiLCJnZXRFbGVtZW50QnlJZCIsImNoaWxkcmVuIiwiaDIiLCJ1cGRhdGVIZWFkZXIiLCJkZWZhdWx0R3JvdXBzIiwidGFza0hlYWRlciIsInRvRG8iLCJfYWN0aXZlT25Mb2FkIiwibWFzdGVyTGlzdCIsIkpTT04iLCJwYXJzZSIsIkV4YW1wbGUiLCJzYXZlVG9Mb2NhbCIsInN0cmluZ2lmeSIsImdyb3VwcyIsInNldEluYWN0aXZlIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInJlbW92ZSIsInNldEFjdGl2ZSIsImNoZWNrTmFtZSIsIm5hbWUiLCJjcmVhdGUiLCJsb2ciLCJ1cGRhdGUiLCJvbGROYW1lIiwibmV3TmFtZSIsImFzc2lnbiIsInRhc2tzIiwiX3Rhc2tMaXN0IiwiX2NoZWNrVGFza0V2ZW50Iiwibm9kZSIsImdyb3VwRGF0YSIsInRhc2tJbmRleCIsInJlbW92ZUF0dHJpYnV0ZSIsIl9jaGFuZ2VTdGF0dXMiLCJwYXJlbnRFbGVtZW50IiwidG9nZ2xlIiwiX2dldEluZm8iLCJjb25maXJtIiwicmVtb3ZlU2luZ2xlIiwic3BsaWNlIiwiYWxlcnQiLCJjb25maXJtTWFzc1JlbW92ZSIsInJlbW92ZUNvbXBsZXRlZCIsInRhc2tSZWYiLCJuZXdUYXNrIiwicHVzaCIsInNlbGVjdGVkSW5kZXgiLCJtZW51Q29udGFpbmVyIiwibWVudU9wZW5CdXR0b24iLCJtZW51Q2xvc2VCdXR0b24iLCJfb25TY3JlZW5TaXplIiwic2Nyb2xsV2lkdGgiLCJ2aXNpYmlsaXR5IiwibGVmdCIsIl90b2dnbGVNZW51Iiwic2V0VGltZW91dCJdLCJtYXBwaW5ncyI6InlCQUVBLE1BQU1BLEVBUUcsQ0FDTEMsdUJBUElDLFNBQVNDLGNBQWMsNEJBUTNCQyxnQkFOSUYsU0FBU0MsY0FBYyxxQkFPM0JFLFdBTmlCSCxTQUFTQyxjQUFjLGtCQU94Q0csWUFOa0JKLFNBQVNDLGNBQWMsa0JBVXZDSSxFQUNnQixLQUNsQkMsYUFBYUMsUUFDWCxRQUFTUCxTQUFTUSxnQkFBZ0JDLGFBQWEsVUFFakRILGFBQWFDLFFBQVEscUJBQ2pCVCxFQUFJSSxnQkFBZ0JPLGFBQWEsa0JBcURuQ0MsR0E3Q2lCLE1BQ3JCLE1BUU1DLEVBQWdCQyxJQUNtQyxVQUFuRFosU0FBU1EsZ0JBQWdCQyxhQUFhLFNBQ3hDSSxJQUVBQyxJQUVGVCxLQUdJUSxFQUFhLEtBQ2pCZixFQUFJTSxZQUFZVyxhQUFhLGVBQWdCLFNBQzdDZixTQUFTUSxnQkFBZ0JPLGFBQWEsUUFBUyxRQUMvQ2pCLEVBQUlNLFlBQVlZLE1BQU1DLG1CQUFxQix3QkFDM0NuQixFQUFJSyxXQUFXWSxhQUFhLE1BQ3hCLG1EQUdBRCxFQUFjLEtBQ2xCaEIsRUFBSU0sWUFBWVcsYUFBYSxlQUFnQixRQUM3Q2YsU0FBU1EsZ0JBQWdCTyxhQUFhLFFB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VixXQUFhLFdBQ2hDLEtBQ0hKLEVBQWV0VCxVQUluQnNULEVBQWV2VixpQkFBaUIsUUFBUzZWLEdBQ3pDTCxFQUFnQnhWLGlCQUFpQixRQUFTNlYsSUFqQ3JCLEciLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IERPTSA9ICgoKSA9PiB7XG4gIGNvbnN0IGFjY2Vzc2liaWxpdHlDb250YWluZXIgPSBcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhY2Nlc3NpYmlsaXR5LWNvbnRhaW5lclwiKTtcbiAgY29uc3QgYW5pbWF0aW9uU3dpdGNoID0gXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYW5pbWF0aW9uLXN3aXRjaFwiKTtcbiAgY29uc3QgZ2l0aHViTG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG93ZXItbmF2IGltZ1wiKTtcbiAgY29uc3QgdGhlbWVTd2l0Y2ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RoZW1lLXN3aXRjaFwiKTtcblxuICByZXR1cm4ge1xuICAgIGFjY2Vzc2liaWxpdHlDb250YWluZXIsXG4gICAgYW5pbWF0aW9uU3dpdGNoLFxuICAgIGdpdGh1YkxvZ28sXG4gICAgdGhlbWVTd2l0Y2hcbiAgfVxufSkoKTtcblxuY29uc3Qgc2V0dGluZ3MgPSAoKCkgPT4ge1xuICBjb25zdCBzYXZlVG9Mb2NhbCA9ICgpID0+IHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcbiAgICAgIFwidGhlbWVcIiwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcInRoZW1lXCIpKTtcblxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiYW5pbWF0aW9ucy1lbmFibGVkXCIsIFxuICAgICAgICBET00uYW5pbWF0aW9uU3dpdGNoLmdldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiKSk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBzYXZlVG9Mb2NhbFxuICB9O1xufSkoKTtcblxuY29uc3QgZGlzcGxheU9wdGlvbnMgPSAoKCkgPT4ge1xuICBjb25zdCBfb25Mb2FkID0gKCkgPT4ge1xuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRoZW1lXCIpID09PSBcImxpZ2h0XCIpIHtcbiAgICAgIF9saWdodFRoZW1lKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9kYXJrVGhlbWUoKTtcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IF90b2dnbGVUaGVtZSA9IChlKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0aGVtZVwiKSA9PT0gXCJsaWdodFwiKSB7XG4gICAgICBfZGFya1RoZW1lKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9saWdodFRoZW1lKCk7XG4gICAgfTtcbiAgICBzZXR0aW5ncy5zYXZlVG9Mb2NhbCgpO1xuICB9O1xuXG4gIGNvbnN0IF9kYXJrVGhlbWUgPSAoKSA9PiB7XG4gICAgRE9NLnRoZW1lU3dpdGNoLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBcImZhbHNlXCIpO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0aGVtZVwiLCBcImRhcmtcIik7XG4gICAgRE9NLnRoZW1lU3dpdGNoLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9IFwiY2VudGVyIGJvdHRvbSAtMC44cmVtXCI7XG4gICAgRE9NLmdpdGh1YkxvZ28uc2V0QXR0cmlidXRlKFwic3JjXCIsXG4gICAgICAgIFwiYXNzZXRzL2ltYWdlcy9sb2dvcy9HaXRIdWItTWFyay1MaWdodC0zMnB4LnBuZ1wiKTtcbiAgfTtcblxuICBjb25zdCBfbGlnaHRUaGVtZSA9ICgpID0+IHtcbiAgICBET00udGhlbWVTd2l0Y2guc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwidHJ1ZVwiKTtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidGhlbWVcIiwgXCJsaWdodFwiKTtcbiAgICBET00udGhlbWVTd2l0Y2guc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gXCJjZW50ZXIgdG9wIDJweFwiO1xuICAgIERPTS5naXRodWJMb2dvLnNldEF0dHJpYnV0ZShcInNyY1wiLFxuICAgIFwiYXNzZXRzL2ltYWdlcy9sb2dvcy9HaXRIdWItTWFyay0zMnB4LnBuZ1wiKTtcbiAgfTtcblxuICBET00udGhlbWVTd2l0Y2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF90b2dnbGVUaGVtZSk7XG4gIERPTS50aGVtZVN3aXRjaC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCIgXCIpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIF90b2dnbGVUaGVtZSgpO1xuICAgIH07XG4gIH0pO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBfb25Mb2FkKTtcbn0pKCk7XG5cbmNvbnN0IGFjY2Vzc2liaWxpdHlPcHRpb25zID0gKCgpID0+IHtcbiAgY29uc3QgX29uTG9hZCA9ICgpID0+IHtcbiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJhbmltYXRpb25zLWVuYWJsZWRcIikgPT09IFwiZmFsc2VcIikge1xuICAgICAgYW5pbWF0aW9uc0Rpc2FibGVkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFuaW1hdGlvbnNFbmFibGVkKCk7XG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBfdG9nZ2xlQW5pbWF0aW9ucyA9ICgpID0+IHtcbiAgICBpZiAoRE9NLmFuaW1hdGlvblN3aXRjaC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIikgPT09IFwidHJ1ZVwiKSB7XG4gICAgICBhbmltYXRpb25zRGlzYWJsZWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYW5pbWF0aW9uc0VuYWJsZWQoKTtcbiAgICB9O1xuICAgIHNldHRpbmdzLnNhdmVUb0xvY2FsKCk7XG4gIH07XG5cbiAgY29uc3QgYW5pbWF0aW9uc0VuYWJsZWQgPSAoKSA9PiB7XG4gICAgRE9NLmFuaW1hdGlvblN3aXRjaC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIiwgXCJ0cnVlXCIpO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zY3JvbGxCZWhhdmlvciA9IFwic21vb3RoXCI7XG4gICAgRE9NLmFjY2Vzc2liaWxpdHlDb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9IFwidG9wIDAuNzVzIGVhc2UtaW4tb3V0XCI7XG4gICAgRE9NLmFuaW1hdGlvblN3aXRjaC50ZXh0Q29udGVudCA9IFwiQW5pbWF0aW9ucyBFbmFibGVkXCI7XG4gICAgRE9NLnRoZW1lU3dpdGNoLnN0eWxlLnRyYW5zaXRpb24gPSBcImJhY2tncm91bmQtcG9zaXRpb24gMC4zcyBlYXNlLWluXCI7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtYWluLW5hdlwiKS5zdHlsZS50cmFuc2l0aW9uID0gXCJsZWZ0IDAuNXNcIjtcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubGFiZWwtYXJyb3dcIikpLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBpdGVtLnN0eWxlLnRyYW5zaXRpb24gPSBcInRyYW5zZm9ybSAwLjc1c1wiO1xuICAgIH0pO1xuICB9O1xuICAgICAgICBcbiAgY29uc3QgYW5pbWF0aW9uc0Rpc2FibGVkID0gKCkgPT4ge1xuICAgIERPTS5hbmltYXRpb25Td2l0Y2guc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNjcm9sbEJlaGF2aW9yID0gXCJhdXRvXCI7XG4gICAgRE9NLmFuaW1hdGlvblN3aXRjaC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICBET00uYW5pbWF0aW9uU3dpdGNoLnRleHRDb250ZW50ID0gXCJBbmltYXRpb25zIERpc2FibGVkXCI7XG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFuaW1hdGVkXCIpKS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgaXRlbS5zdHlsZS50cmFuc2l0aW9uID0gXCJub25lXCI7XG4gICAgfSk7XG4gIH07XG5cbiAgRE9NLmFuaW1hdGlvblN3aXRjaC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgX3RvZ2dsZUFuaW1hdGlvbnMpO1xuICBET00uYW5pbWF0aW9uU3dpdGNoLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIiBcIikge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgX3RvZ2dsZUFuaW1hdGlvbnMoKTtcbiAgICB9O1xuICB9KTtcbiAgXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBfb25Mb2FkKTtcblxuICByZXR1cm4ge1xuICAgIGFuaW1hdGlvbnNFbmFibGVkLFxuICAgIGFuaW1hdGlvbnNEaXNhYmxlZFxuICB9XG59KSgpO1xuXG5leHBvcnQge2FjY2Vzc2liaWxpdHlPcHRpb25zLCBkaXNwbGF5T3B0aW9ucywgc2V0dGluZ3N9IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IGFjY2Vzc2liaWxpdHlPcHRpb25zLCBzZXR0aW5ncyB9IGZyb20gXCIuL3NpdGUtc2V0dGluZ3NcIjtcblxuY29uc3QgRE9NID0gKCgpID0+IHtcbiAgY29uc3QgbW9kYWxCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWJveFwiKTtcbiAgY29uc3QgbW9kYWxDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWNvbnRhaW5lclwiKTtcblxuICByZXR1cm4ge1xuICAgIG1vZGFsQm94LFxuICAgIG1vZGFsQ29udGFpbmVyXG4gIH1cbn0pKCk7XG5cbmNvbnN0IGdlbmVyYWxNb2RhbCA9ICgoKSA9PiB7XG4gIGNvbnN0IG9uQ2xvc2UgPSAoKSA9PiB7XG4gICAgd2hpbGUgKERPTS5tb2RhbEJveC5maXJzdENoaWxkKSB7XG4gICAgICBET00ubW9kYWxCb3gucmVtb3ZlQ2hpbGQoRE9NLm1vZGFsQm94LmZpcnN0Q2hpbGQpXG4gICAgfTtcbiAgICBET00ubW9kYWxDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIERPTS5tb2RhbEJveC5kYXRhc2V0LmluZGV4UmVmID0gXCJcIjtcbiAgICBET00ubW9kYWxCb3guZGF0YXNldC5ncm91cFJlZiA9IFwiXCI7XG4gIH07XG5cbiAgY29uc3Qgb25PcGVuID0gKCkgPT4ge1xuICAgIERPTS5tb2RhbENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1jbG9zZS1idXR0b25cIikuZm9jdXMoKTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVDbG9zZUJ0biA9ICgpID0+IHtcbiAgICBjb25zdCBjbG9zZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY2xvc2VCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcbiAgICBjbG9zZUJ0bi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIFwiQ2xvc2UgbW9kYWxcIik7XG4gICAgY2xvc2VCdG4uY2xhc3NMaXN0LmFkZChcIm1vZGFsLWNsb3NlLWJ1dHRvblwiLCBcImNsb3NlLWJ0blwiLCBcImZvY3VzYWJsZVwiKTtcbiAgICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZ2VuZXJhbE1vZGFsLm9uQ2xvc2UpO1xuICAgIERPTS5tb2RhbEJveC5hcHBlbmRDaGlsZChjbG9zZUJ0bik7XG4gIH07XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICBvbkNsb3NlKCk7XG4gICAgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBjcmVhdGVDbG9zZUJ0bixcbiAgICBvbkNsb3NlLFxuICAgIG9uT3BlblxuICB9XG59KSgpO1xuXG5jb25zdCB3YXJuaW5nTW9kYWwgPSAoKCkgPT4ge1xuICBjb25zdCBfc2VsZWN0T3B0aW9uID0gKGUpID0+IHtcbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGlzYWJsZS1idXR0b25cIikpIHtcbiAgICAgIGFjY2Vzc2liaWxpdHlPcHRpb25zLmFuaW1hdGlvbnNEaXNhYmxlZCgpO1xuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZW5hYmxlLWJ1dHRvblwiKSkge1xuICAgICAgYWNjZXNzaWJpbGl0eU9wdGlvbnMuYW5pbWF0aW9uc0VuYWJsZWQoKTtcbiAgICB9O1xuICAgIHNldHRpbmdzLnNhdmVUb0xvY2FsKCk7XG4gICAgZ2VuZXJhbE1vZGFsLm9uQ2xvc2UoKTtcbiAgfTtcblxuICBjb25zdCBfcmVuZGVyID0gKCkgPT4ge1xuICAgIGNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7XG4gICAgaGVhZGluZy50ZXh0Q29udGVudCA9IFwiVGhpcyBzaXRlIHVzZXMgbWluaW1hbCBhbmltYXRpb24gZWZmZWN0cy5cIjtcblxuICAgIGNvbnN0IHBhcmExID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgcGFyYTEudGV4dENvbnRlbnQgPSBcIkVmZmVjdHMgaW5jbHVkZSBtb3ZpbmcgbWVudXMgYW5kIHNtb290aCBzY3JvbGxpbmcuIElmIHlvdSBzdWZmZXIgZnJvbSBhIHZlc3RpYnVsYXIgZGlzb3JkZXIgb3Igb3RoZXJ3aXNlIHByZWZlciBubyBhbmltYXRpb25zLCB5b3UgY2FuIHR1cm4gdGhlbSBvZmYgYnkgY2xpY2tpbmcgdGhlIGZpcnN0IGJ1dHRvbiBiZWxvdy5cIjtcblxuICAgIGNvbnN0IHBhcmEyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgcGFyYTIudGV4dENvbnRlbnQ9IFwiWW91IGNhbiBsYXRlciBjaGFuZ2UgdGhpcyBzZXR0aW5nIGluIHRoZSBEaXNwbGF5ICYgQWNjZXNzaWJpbGl0eSB0YWIgYXQgdGhlIHRvcCBvZiB0aGUgcGFnZS5cIjtcblxuICAgIGNvbnN0IGRpc2FibGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGRpc2FibGVCdXR0b24uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcbiAgICBkaXNhYmxlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlLWJ1dHRvblwiLCBcImZvY3VzYWJsZVwiLCBcInByaW1hcnktYnRuXCIpO1xuICAgIGRpc2FibGVCdXR0b24udGV4dENvbnRlbnQgPSBcIkRJU0FCTEUgQU5JTUFUSU9OU1wiO1xuICAgIGRpc2FibGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF9zZWxlY3RPcHRpb24pO1xuXG4gICAgY29uc3QgZW5hYmxlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBlbmFibGVCdXR0b24uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcbiAgICBlbmFibGVCdXR0b24uY2xhc3NMaXN0LmFkZChcImVuYWJsZS1idXR0b25cIiwgXCJmb2N1c2FibGVcIiwgXCJzZWNvbmRhcnktYnRuXCIpO1xuICAgIGVuYWJsZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiRU5BQkxFIEFOSU1BVElPTlNcIjtcbiAgICBlbmFibGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF9zZWxlY3RPcHRpb24pO1xuXG4gICAgRE9NLm1vZGFsQm94LmFwcGVuZENoaWxkKGhlYWRpbmcpO1xuICAgIERPTS5tb2RhbEJveC5hcHBlbmRDaGlsZChwYXJhMSk7XG4gICAgRE9NLm1vZGFsQm94LmFwcGVuZENoaWxkKHBhcmEyKTtcbiAgICBET00ubW9kYWxCb3guYXBwZW5kQ2hpbGQoZGlzYWJsZUJ1dHRvbik7XG4gICAgRE9NLm1vZGFsQm94LmFwcGVuZENoaWxkKGVuYWJsZUJ1dHRvbik7XG5cbiAgICBET00ubW9kYWxDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICB9O1xuXG4gIGNvbnN0IF9vbkxvYWQgPSAoKSA9PiB7XG4gICAgaWYgKGxvY2FsU3RvcmFnZS5sZW5ndGggPT09IDApIHtcbiAgICAgIF9yZW5kZXIoKTtcbiAgICB9O1xuICB9O1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBfb25Mb2FkKTtcbn0pKCk7XG5cbmNvbnN0IGdyb3VwTW9kYWwgPSAoKCkgPT4ge1xuICBjb25zdCBfZGVmYXVsdEdyb3VwcyA9IFtcIkltcG9ydGFudFwiLCBcIk5leHQgNyBEYXlzXCIsIFwiTGF0ZXJcIiwgXCJFdmVudHVhbGx5XCJdO1xuICBjb25zdCBfdGFza0hlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VsZWN0ZWQtZ3JvdXBcIik7XG5cbiAgY29uc3QgX3JlbmRlciA9IChlKSA9PiB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO1xuICAgIGNvbnN0IGZpZWxkc2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpO1xuICAgIGNvbnN0IGxlZ2VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsZWdlbmRcIik7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCBtYWluQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuXG4gICAgY29uc3QgbmFtZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIG5hbWVMYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJuYW1lLWlucHV0XCIpO1xuICAgIG5hbWVMYWJlbC50ZXh0Q29udGVudCA9IFwiR3JvdXAgTmFtZVwiO1xuXG4gICAgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIG5hbWVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgICBuYW1lSW5wdXQuc2V0QXR0cmlidXRlKFwicmVxdWlyZWRcIiwgXCJ0cnVlXCIpO1xuICAgIG5hbWVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm5hbWUtaW5wdXRcIik7XG4gICAgbmFtZUlucHV0LnNldEF0dHJpYnV0ZShcImF1dG9jb21wbGV0ZVwiLCBcIm9mZlwiKTtcbiAgICBuYW1lSW5wdXQuY2xhc3NMaXN0LmFkZChcImZvY3VzYWJsZVwiKTtcblxuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJhZGQtZ3JvdXAtYnRuXCIpKSB7XG4gICAgICBsZWdlbmQudGV4dENvbnRlbnQgPSBcIkFkZCBhIEdyb3VwXCI7XG4gICAgICBtYWluQnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJzdWJtaXRcIik7XG4gICAgICBtYWluQnRuLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiQUREIEdST1VQXCIpO1xuICAgICAgbWFpbkJ0bi5jbGFzc0xpc3QuYWRkKFwic3VibWl0LWdyb3VwLWJ0blwiLCBcInByaW1hcnktYnRuXCIsIFwiZm9jdXNhYmxlXCIsIFwic3VibWl0XCIpO1xuICAgICAgZGl2LmFwcGVuZENoaWxkKG1haW5CdG4pO1xuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZ3JvdXAtb3B0aW9uLWJ0blwiKSkge1xuICAgICAgbGVnZW5kLnRleHRDb250ZW50ID0gXCJHcm91cCBPcHRpb25zXCI7XG4gICAgICBtYWluQnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJzdWJtaXRcIik7XG4gICAgICBtYWluQnRuLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiVVBEQVRFXCIpO1xuICAgICAgbWFpbkJ0bi5jbGFzc0xpc3QuYWRkKFwidXBkYXRlLWdyb3VwLWJ0blwiLCBcInNlY29uZGFyeS1idG5cIiwgXCJmb2N1c2FibGVcIiwgXCJzdWJtaXRcIik7XG5cbiAgICAgIGNvbnN0IGRlbGV0ZUdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgIGRlbGV0ZUdyb3VwLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gICAgICBkZWxldGVHcm91cC5jbGFzc0xpc3QuYWRkKFwiZGVsZXRlLWdyb3VwLWJ0blwiLCBcImRlbGV0ZS1idG5cIiwgXCJmb2N1c2FibGVcIik7XG4gICAgICBkZWxldGVHcm91cC50ZXh0Q29udGVudCA9IFwiREVMRVRFIEdST1VQXCI7XG5cbiAgICAgIGNvbnN0IGRlbGV0ZUNvbXBsZXRlZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICBkZWxldGVDb21wbGV0ZWQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcbiAgICAgIGRlbGV0ZUNvbXBsZXRlZC5jbGFzc0xpc3QuYWRkKFwiZGVsZXRlLWNvbXBsZXRlZC1idG5cIiwgXCJkZWxldGUtYnRuXCIsIFwiZm9jdXNhYmxlXCIpO1xuICAgICAgZGVsZXRlQ29tcGxldGVkLnRleHRDb250ZW50ID0gXCJERUxFVEUgQ09NUExFVEVEIFRBU0tTXCI7XG5cbiAgICAgIGlmIChfZGVmYXVsdEdyb3Vwcy5pbmRleE9mKF90YXNrSGVhZGVyLnRleHRDb250ZW50KSA+PSAwKSB7XG4gICAgICAgIG5hbWVMYWJlbC5zdHlsZS5vcGFjaXR5ID0gXCIwLjM4XCI7XG4gICAgICAgIG5hbWVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XG4gICAgICAgIG5hbWVJbnB1dC5zdHlsZS5vcGFjaXR5ID0gXCIwLjM4XCI7XG4gICAgICAgIG1haW5CdG4uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICBtYWluQnRuLnN0eWxlLm9wYWNpdHkgPSBcIjAuMzhcIjtcbiAgICAgICAgZGVsZXRlR3JvdXAuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICBkZWxldGVHcm91cC5zdHlsZS5vcGFjaXR5ID0gXCIwLjM4XCI7XG4gICAgICB9O1xuXG4gICAgICBkaXYuYXBwZW5kQ2hpbGQobWFpbkJ0bik7XG4gICAgICBkaXYuYXBwZW5kQ2hpbGQoZGVsZXRlR3JvdXApO1xuICAgICAgZGl2LmFwcGVuZENoaWxkKGRlbGV0ZUNvbXBsZXRlZCk7XG4gICAgfTtcblxuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKGxlZ2VuZCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQobmFtZUxhYmVsKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChuYW1lSW5wdXQpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKGRpdik7XG4gICAgZm9ybS5hcHBlbmRDaGlsZChmaWVsZHNldCk7XG4gICAgZ2VuZXJhbE1vZGFsLmNyZWF0ZUNsb3NlQnRuKCk7XG4gICAgRE9NLm1vZGFsQm94LmFwcGVuZENoaWxkKGZvcm0pO1xuICB9O1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3JvdXAtb3B0aW9uLWJ0blwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICBfcmVuZGVyKGUpO1xuICAgIGdlbmVyYWxNb2RhbC5vbk9wZW4oKTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtZ3JvdXAtYnRuXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIF9yZW5kZXIoZSk7XG4gICAgZ2VuZXJhbE1vZGFsLm9uT3BlbigpO1xuICB9KTtcbn0pKCk7XG5cbmNvbnN0IHRhc2tNb2RhbCA9ICgoKSA9PiB7XG4gIGNvbnN0IF9wcmlvcml0eUFycmF5ID0gW1wiTm9ybWFsXCIsIFwiSW1wb3J0YW50XCJdO1xuXG4gIC8vIHBhc3MgZ3JvdXAgbGlzdCBmcm9tIHRhc2sgbW9kdWxlIHBhdHRlcm4gaW4gbG9naWMuanMgZmlsZSBhcyBhcmd1bWVudFxuICBjb25zdCByZW5kZXIgPSAoZSwgZ3JvdXBMaXN0KSA9PiB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO1xuICAgIGNvbnN0IGZpZWxkc2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpO1xuICAgIGNvbnN0IGxlZ2VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsZWdlbmRcIik7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGNvbnN0IG5hbWVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICBuYW1lTGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwibmFtZS1pbnB1dFwiKTtcbiAgICBuYW1lTGFiZWwudGV4dENvbnRlbnQgPSBcIlRhc2sgTmFtZSAocmVxdWlyZWQpXCI7XG5cbiAgICBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgbmFtZUlucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgIG5hbWVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm5hbWUtaW5wdXRcIik7XG4gICAgbmFtZUlucHV0LnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIFwiRW50ZXIgYSB0YXNrIG5hbWVcIik7XG4gICAgbmFtZUlucHV0LnNldEF0dHJpYnV0ZShcInJlcXVpcmVkXCIsIFwidHJ1ZVwiKTtcbiAgICBuYW1lSW5wdXQuc2V0QXR0cmlidXRlKFwiYXV0b2NvbXBsZXRlXCIsIFwib2ZmXCIpO1xuICAgIG5hbWVJbnB1dC5jbGFzc05hbWUgPSBcImZvY3VzYWJsZVwiO1xuXG4gICAgY29uc3QgZ3JvdXBMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICBncm91cExhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBcImdyb3VwLXNlbGVjdFwiKTtcbiAgICBncm91cExhYmVsLnRleHRDb250ZW50ID0gXCJHcm91cFwiO1xuXG4gICAgY29uc3QgZ3JvdXBTZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xuICAgIGdyb3VwU2VsZWN0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZ3JvdXAtc2VsZWN0XCIpO1xuICAgIGdyb3VwU2VsZWN0LmNsYXNzTmFtZSA9IFwiZm9jdXNhYmxlXCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cExpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGdyb3VwT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICAgIGdyb3VwT3B0aW9uLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGdyb3VwTGlzdFtpXSk7XG4gICAgICBncm91cE9wdGlvbi50ZXh0Q29udGVudCA9IGdyb3VwTGlzdFtpXTtcbiAgICAgIGdyb3VwU2VsZWN0LmFwcGVuZENoaWxkKGdyb3VwT3B0aW9uKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcHJpb3JpdHlMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICBwcmlvcml0eUxhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBcInByaW9yaXR5LXNlbGVjdFwiKTtcbiAgICBwcmlvcml0eUxhYmVsLnRleHRDb250ZW50ID0gXCJQcmlvcml0eVwiO1xuXG4gICAgY29uc3QgcHJpb3JpdHlTZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xuICAgIHByaW9yaXR5U2VsZWN0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwicHJpb3JpdHktc2VsZWN0XCIpO1xuICAgIHByaW9yaXR5U2VsZWN0LmNsYXNzTmFtZSA9IFwiZm9jdXNhYmxlXCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfcHJpb3JpdHlBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcHJpb3JpdHlPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgcHJpb3JpdHlPcHRpb24uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgX3ByaW9yaXR5QXJyYXlbaV0pO1xuICAgICAgcHJpb3JpdHlPcHRpb24udGV4dENvbnRlbnQgPSBfcHJpb3JpdHlBcnJheVtpXTtcbiAgICAgIHByaW9yaXR5U2VsZWN0LmFwcGVuZENoaWxkKHByaW9yaXR5T3B0aW9uKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGF0ZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIGRhdGVMYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJkYXRlLXNlbGVjdFwiKTtcbiAgICBkYXRlTGFiZWwudGV4dENvbnRlbnQgPSBcIkR1ZSBEYXRlIChvcHRpb25hbClcIjtcblxuICAgIGNvbnN0IGRhdGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBkYXRlSW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImRhdGVcIik7XG4gICAgZGF0ZUlucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZGF0ZS1zZWxlY3RcIik7XG4gICAgZGF0ZUlucHV0LmNsYXNzTmFtZSA9IFwiZm9jdXNhYmxlXCI7XG5cbiAgICBjb25zdCBub3Rlc0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIG5vdGVzTGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwibm90ZXMtaW5wdXRcIik7XG4gICAgbm90ZXNMYWJlbC50ZXh0Q29udGVudCA9IFwiQWRkaXRpb25hbCBOb3Rlc1wiO1xuXG4gICAgY29uc3Qgbm90ZXNJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgICBub3Rlc0lucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwibm90ZXMtaW5wdXRcIik7XG4gICAgbm90ZXNJbnB1dC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBcIkVudGVyIGFueSBhZGRpdGlvbmFsIG5vdGVzIGZvciB0aGUgdGFza1wiKTtcbiAgICBub3Rlc0lucHV0LmNsYXNzTmFtZSA9IFwiZm9jdXNhYmxlXCI7XG5cbiAgICBpZiAoZS50YXJnZXQudGV4dENvbnRlbnQuaW5jbHVkZXMoXCJBREQgVEFTS1wiKSkge1xuICAgICAgbGVnZW5kLnRleHRDb250ZW50ID0gXCJBZGQgYSBUYXNrXCI7XG5cbiAgICAgIGNvbnN0IGFkZE9uZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIGFkZE9uZUJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwic3VibWl0XCIpO1xuICAgICAgYWRkT25lQnRuLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiQUREIE9ORVwiKTtcbiAgICAgIGFkZE9uZUJ0bi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIFwiQWRkIHRhc2sgYW5kIGNsb3NlIG1vZGFsXCIpO1xuICAgICAgYWRkT25lQnRuLmNsYXNzTGlzdC5hZGQoXCJhZGQtc2luZ2xlLWJ0blwiLCBcInByaW1hcnktYnRuXCIsXCJzdWJtaXRcIiwgXCJmb2N1c2FibGVcIik7XG5cbiAgICAgIGNvbnN0IGFkZE1hbnlCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICBhZGRNYW55QnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJzdWJtaXRcIik7XG4gICAgICBhZGRNYW55QnRuLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiQUREIE1BTllcIik7XG4gICAgICBhZGRNYW55QnRuLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJBZGQgdGFzayBhbmQga2VlcCBtb2RhbCBvcGVuXCIpO1xuICAgICAgYWRkTWFueUJ0bi5jbGFzc0xpc3QuYWRkKFwiYWRkLW1hbnktYnRuXCIsIFwic2Vjb25kYXJ5LWJ0blwiLCBcInN1Ym1pdFwiLCBcImZvY3VzYWJsZVwiKTtcblxuICAgICAgZGl2LmFwcGVuZENoaWxkKGFkZE9uZUJ0bik7XG4gICAgICBkaXYuYXBwZW5kQ2hpbGQoYWRkTWFueUJ0bik7XG4gICAgfSBlbHNlIGlmIChlLnRhcmdldC50ZXh0Q29udGVudCA9PT0gKFwiRURJVFwiKSkge1xuICAgICAgbGVnZW5kLnRleHRDb250ZW50ID0gXCJFZGl0IFRhc2tcIjtcblxuICAgICAgY29uc3QgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIGVkaXRCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInN1Ym1pdFwiKTtcbiAgICAgIGVkaXRCdG4uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJVUERBVEVcIik7XG4gICAgICBlZGl0QnRuLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJVcGRhdGUgdGFzayBhbmQgY2xvc2UgbW9kYWxcIik7XG4gICAgICBlZGl0QnRuLmNsYXNzTGlzdC5hZGQoXCJ1cGRhdGUtdGFzay1idG5cIiwgXCJwcmltYXJ5LWJ0blwiLCBcImZvY3VzYWJsZVwiKTtcblxuICAgICAgZ3JvdXBTZWxlY3Quc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgZ3JvdXBMYWJlbC5zdHlsZS5vcGFjaXR5ID0gXCIwLjM4XCI7XG4gICAgICBncm91cFNlbGVjdC5zdHlsZS5vcGFjaXR5ID0gXCIwLjM4XCI7XG5cbiAgICAgIGRpdi5hcHBlbmRDaGlsZChlZGl0QnRuKTtcbiAgICB9O1xuXG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQobGVnZW5kKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChuYW1lTGFiZWwpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKG5hbWVJbnB1dCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQoZ3JvdXBMYWJlbCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChncm91cFNlbGVjdCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChwcmlvcml0eUxhYmVsKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKHByaW9yaXR5U2VsZWN0KTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKGRhdGVMYWJlbCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChkYXRlSW5wdXQpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQobm90ZXNMYWJlbCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQobm90ZXNJbnB1dCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICBmb3JtLmFwcGVuZENoaWxkKGZpZWxkc2V0KTtcbiAgICBnZW5lcmFsTW9kYWwuY3JlYXRlQ2xvc2VCdG4oKTtcbiAgICBET00ubW9kYWxCb3guYXBwZW5kQ2hpbGQoZm9ybSk7XG4gIH07XG5cbiAgcmV0dXJuIHtyZW5kZXJ9XG59KSgpO1xuXG5leHBvcnQgeyBnZW5lcmFsTW9kYWwsIGdyb3VwTW9kYWwsIHRhc2tNb2RhbCwgd2FybmluZ01vZGFsIH0iLCJ2YXIgTUlMTElTRUNPTkRTX0lOX01JTlVURSA9IDYwMDAwO1xuXG5mdW5jdGlvbiBnZXREYXRlTWlsbGlzZWNvbmRzUGFydChkYXRlKSB7XG4gIHJldHVybiBkYXRlLmdldFRpbWUoKSAlIE1JTExJU0VDT05EU19JTl9NSU5VVEU7XG59XG4vKipcbiAqIEdvb2dsZSBDaHJvbWUgYXMgb2YgNjcuMC4zMzk2Ljg3IGludHJvZHVjZWQgdGltZXpvbmVzIHdpdGggb2Zmc2V0IHRoYXQgaW5jbHVkZXMgc2Vjb25kcy5cbiAqIFRoZXkgdXN1YWxseSBhcHBlYXIgZm9yIGRhdGVzIHRoYXQgZGVub3RlIHRpbWUgYmVmb3JlIHRoZSB0aW1lem9uZXMgd2VyZSBpbnRyb2R1Y2VkXG4gKiAoZS5nLiBmb3IgJ0V1cm9wZS9QcmFndWUnIHRpbWV6b25lIHRoZSBvZmZzZXQgaXMgR01UKzAwOjU3OjQ0IGJlZm9yZSAxIE9jdG9iZXIgMTg5MVxuICogYW5kIEdNVCswMTowMDowMCBhZnRlciB0aGF0IGRhdGUpXG4gKlxuICogRGF0ZSNnZXRUaW1lem9uZU9mZnNldCByZXR1cm5zIHRoZSBvZmZzZXQgaW4gbWludXRlcyBhbmQgd291bGQgcmV0dXJuIDU3IGZvciB0aGUgZXhhbXBsZSBhYm92ZSxcbiAqIHdoaWNoIHdvdWxkIGxlYWQgdG8gaW5jb3JyZWN0IGNhbGN1bGF0aW9ucy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHRpbWV6b25lIG9mZnNldCBpbiBtaWxsaXNlY29uZHMgdGhhdCB0YWtlcyBzZWNvbmRzIGluIGFjY291bnQuXG4gKi9cblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzKGRpcnR5RGF0ZSkge1xuICB2YXIgZGF0ZSA9IG5ldyBEYXRlKGRpcnR5RGF0ZS5nZXRUaW1lKCkpO1xuICB2YXIgYmFzZVRpbWV6b25lT2Zmc2V0ID0gTWF0aC5jZWlsKGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSk7XG4gIGRhdGUuc2V0U2Vjb25kcygwLCAwKTtcbiAgdmFyIGhhc05lZ2F0aXZlVVRDT2Zmc2V0ID0gYmFzZVRpbWV6b25lT2Zmc2V0ID4gMDtcbiAgdmFyIG1pbGxpc2Vjb25kc1BhcnRPZlRpbWV6b25lT2Zmc2V0ID0gaGFzTmVnYXRpdmVVVENPZmZzZXQgPyAoTUlMTElTRUNPTkRTX0lOX01JTlVURSArIGdldERhdGVNaWxsaXNlY29uZHNQYXJ0KGRhdGUpKSAlIE1JTExJU0VDT05EU19JTl9NSU5VVEUgOiBnZXREYXRlTWlsbGlzZWNvbmRzUGFydChkYXRlKTtcbiAgcmV0dXJuIGJhc2VUaW1lem9uZU9mZnNldCAqIE1JTExJU0VDT05EU19JTl9NSU5VVEUgKyBtaWxsaXNlY29uZHNQYXJ0T2ZUaW1lem9uZU9mZnNldDtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXF1aXJlZEFyZ3MocmVxdWlyZWQsIGFyZ3MpIHtcbiAgaWYgKGFyZ3MubGVuZ3RoIDwgcmVxdWlyZWQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHJlcXVpcmVkICsgJyBhcmd1bWVudCcgKyAocmVxdWlyZWQgPiAxID8gJ3MnIDogJycpICsgJyByZXF1aXJlZCwgYnV0IG9ubHkgJyArIGFyZ3MubGVuZ3RoICsgJyBwcmVzZW50Jyk7XG4gIH1cbn0iLCJpbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gJy4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzJztcbi8qKlxuICogQG5hbWUgdG9EYXRlXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBpdHMgY2xvbmUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyLCBpdCBpcyB0cmVhdGVkIGFzIGEgdGltZXN0YW1wLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBub25lIG9mIHRoZSBhYm92ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgSW52YWxpZCBEYXRlLlxuICpcbiAqICoqTm90ZSoqOiAqYWxsKiBEYXRlIGFyZ3VtZW50cyBwYXNzZWQgdG8gYW55ICpkYXRlLWZucyogZnVuY3Rpb24gaXMgcHJvY2Vzc2VkIGJ5IGB0b0RhdGVgLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGFyZ3VtZW50IC0gdGhlIHZhbHVlIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgcGFyc2VkIGRhdGUgaW4gdGhlIGxvY2FsIHRpbWUgem9uZVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENsb25lIHRoZSBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKG5ldyBEYXRlKDIwMTQsIDEsIDExLCAxMSwgMzAsIDMwKSlcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENvbnZlcnQgdGhlIHRpbWVzdGFtcCB0byBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKDEzOTIwOTg0MzAwMDApXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvRGF0ZShhcmd1bWVudCkge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgdmFyIGFyZ1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudCk7IC8vIENsb25lIHRoZSBkYXRlXG5cbiAgaWYgKGFyZ3VtZW50IGluc3RhbmNlb2YgRGF0ZSB8fCB0eXBlb2YgYXJndW1lbnQgPT09ICdvYmplY3QnICYmIGFyZ1N0ciA9PT0gJ1tvYmplY3QgRGF0ZV0nKSB7XG4gICAgLy8gUHJldmVudCB0aGUgZGF0ZSB0byBsb3NlIHRoZSBtaWxsaXNlY29uZHMgd2hlbiBwYXNzZWQgdG8gbmV3IERhdGUoKSBpbiBJRTEwXG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50LmdldFRpbWUoKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50ID09PSAnbnVtYmVyJyB8fCBhcmdTdHIgPT09ICdbb2JqZWN0IE51bWJlcl0nKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoKHR5cGVvZiBhcmd1bWVudCA9PT0gJ3N0cmluZycgfHwgYXJnU3RyID09PSAnW29iamVjdCBTdHJpbmddJykgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKFwiU3RhcnRpbmcgd2l0aCB2Mi4wLjAtYmV0YS4xIGRhdGUtZm5zIGRvZXNuJ3QgYWNjZXB0IHN0cmluZ3MgYXMgZGF0ZSBhcmd1bWVudHMuIFBsZWFzZSB1c2UgYHBhcnNlSVNPYCB0byBwYXJzZSBzdHJpbmdzLiBTZWU6IGh0dHBzOi8vZ2l0LmlvL2ZqdWxlXCIpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuXG4gICAgICBjb25zb2xlLndhcm4obmV3IEVycm9yKCkuc3RhY2spO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICB9XG59IiwiaW1wb3J0IHRvRGF0ZSBmcm9tICcuLi90b0RhdGUvaW5kZXguanMnO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tICcuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qcyc7XG4vKipcbiAqIEBuYW1lIGNvbXBhcmVBc2NcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgQ29tcGFyZSB0aGUgdHdvIGRhdGVzIGFuZCByZXR1cm4gLTEsIDAgb3IgMS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbXBhcmUgdGhlIHR3byBkYXRlcyBhbmQgcmV0dXJuIDEgaWYgdGhlIGZpcnN0IGRhdGUgaXMgYWZ0ZXIgdGhlIHNlY29uZCxcbiAqIC0xIGlmIHRoZSBmaXJzdCBkYXRlIGlzIGJlZm9yZSB0aGUgc2Vjb25kIG9yIDAgaWYgZGF0ZXMgYXJlIGVxdWFsLlxuICpcbiAqICMjIyB2Mi4wLjAgYnJlYWtpbmcgY2hhbmdlczpcbiAqXG4gKiAtIFtDaGFuZ2VzIHRoYXQgYXJlIGNvbW1vbiBmb3IgdGhlIHdob2xlIGxpYnJhcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNDb21tb24tQ2hhbmdlcykuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZUxlZnQgLSB0aGUgZmlyc3QgZGF0ZSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlUmlnaHQgLSB0aGUgc2Vjb25kIGRhdGUgdG8gY29tcGFyZVxuICogQHJldHVybnMge051bWJlcn0gdGhlIHJlc3VsdCBvZiB0aGUgY29tcGFyaXNvblxuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDb21wYXJlIDExIEZlYnJ1YXJ5IDE5ODcgYW5kIDEwIEp1bHkgMTk4OTpcbiAqIHZhciByZXN1bHQgPSBjb21wYXJlQXNjKG5ldyBEYXRlKDE5ODcsIDEsIDExKSwgbmV3IERhdGUoMTk4OSwgNiwgMTApKVxuICogLy89PiAtMVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTb3J0IHRoZSBhcnJheSBvZiBkYXRlczpcbiAqIHZhciByZXN1bHQgPSBbXG4gKiAgIG5ldyBEYXRlKDE5OTUsIDYsIDIpLFxuICogICBuZXcgRGF0ZSgxOTg3LCAxLCAxMSksXG4gKiAgIG5ldyBEYXRlKDE5ODksIDYsIDEwKVxuICogXS5zb3J0KGNvbXBhcmVBc2MpXG4gKiAvLz0+IFtcbiAqIC8vICAgV2VkIEZlYiAxMSAxOTg3IDAwOjAwOjAwLFxuICogLy8gICBNb24gSnVsIDEwIDE5ODkgMDA6MDA6MDAsXG4gKiAvLyAgIFN1biBKdWwgMDIgMTk5NSAwMDowMDowMFxuICogLy8gXVxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbXBhcmVBc2MoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQpIHtcbiAgcmVxdWlyZWRBcmdzKDIsIGFyZ3VtZW50cyk7XG4gIHZhciBkYXRlTGVmdCA9IHRvRGF0ZShkaXJ0eURhdGVMZWZ0KTtcbiAgdmFyIGRhdGVSaWdodCA9IHRvRGF0ZShkaXJ0eURhdGVSaWdodCk7XG4gIHZhciBkaWZmID0gZGF0ZUxlZnQuZ2V0VGltZSgpIC0gZGF0ZVJpZ2h0LmdldFRpbWUoKTtcblxuICBpZiAoZGlmZiA8IDApIHtcbiAgICByZXR1cm4gLTE7XG4gIH0gZWxzZSBpZiAoZGlmZiA+IDApIHtcbiAgICByZXR1cm4gMTsgLy8gUmV0dXJuIDAgaWYgZGlmZiBpcyAwOyByZXR1cm4gTmFOIGlmIGRpZmYgaXMgTmFOXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGRpZmY7XG4gIH1cbn0iLCJpbXBvcnQgdG9EYXRlIGZyb20gJy4uL3RvRGF0ZS9pbmRleC5qcyc7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gJy4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzJztcbi8qKlxuICogQG5hbWUgZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzXG4gKiBAY2F0ZWdvcnkgTWlsbGlzZWNvbmQgSGVscGVyc1xuICogQHN1bW1hcnkgR2V0IHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGJldHdlZW4gdGhlIGdpdmVuIGRhdGVzLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogR2V0IHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGJldHdlZW4gdGhlIGdpdmVuIGRhdGVzLlxuICpcbiAqICMjIyB2Mi4wLjAgYnJlYWtpbmcgY2hhbmdlczpcbiAqXG4gKiAtIFtDaGFuZ2VzIHRoYXQgYXJlIGNvbW1vbiBmb3IgdGhlIHdob2xlIGxpYnJhcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNDb21tb24tQ2hhbmdlcykuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZUxlZnQgLSB0aGUgbGF0ZXIgZGF0ZVxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZVJpZ2h0IC0gdGhlIGVhcmxpZXIgZGF0ZVxuICogQHJldHVybnMge051bWJlcn0gdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHNcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMiBhcmd1bWVudHMgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSG93IG1hbnkgbWlsbGlzZWNvbmRzIGFyZSBiZXR3ZWVuXG4gKiAvLyAyIEp1bHkgMjAxNCAxMjozMDoyMC42MDAgYW5kIDIgSnVseSAyMDE0IDEyOjMwOjIxLjcwMD9cbiAqIHZhciByZXN1bHQgPSBkaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMoXG4gKiAgIG5ldyBEYXRlKDIwMTQsIDYsIDIsIDEyLCAzMCwgMjEsIDcwMCksXG4gKiAgIG5ldyBEYXRlKDIwMTQsIDYsIDIsIDEyLCAzMCwgMjAsIDYwMClcbiAqIClcbiAqIC8vPT4gMTEwMFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRpZmZlcmVuY2VJbk1pbGxpc2Vjb25kcyhkaXJ0eURhdGVMZWZ0LCBkaXJ0eURhdGVSaWdodCkge1xuICByZXF1aXJlZEFyZ3MoMiwgYXJndW1lbnRzKTtcbiAgdmFyIGRhdGVMZWZ0ID0gdG9EYXRlKGRpcnR5RGF0ZUxlZnQpO1xuICB2YXIgZGF0ZVJpZ2h0ID0gdG9EYXRlKGRpcnR5RGF0ZVJpZ2h0KTtcbiAgcmV0dXJuIGRhdGVMZWZ0LmdldFRpbWUoKSAtIGRhdGVSaWdodC5nZXRUaW1lKCk7XG59IiwiaW1wb3J0IGRpZmZlcmVuY2VJbk1pbGxpc2Vjb25kcyBmcm9tICcuLi9kaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMvaW5kZXguanMnO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tICcuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qcyc7XG4vKipcbiAqIEBuYW1lIGRpZmZlcmVuY2VJblNlY29uZHNcbiAqIEBjYXRlZ29yeSBTZWNvbmQgSGVscGVyc1xuICogQHN1bW1hcnkgR2V0IHRoZSBudW1iZXIgb2Ygc2Vjb25kcyBiZXR3ZWVuIHRoZSBnaXZlbiBkYXRlcy5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdldCB0aGUgbnVtYmVyIG9mIHNlY29uZHMgYmV0d2VlbiB0aGUgZ2l2ZW4gZGF0ZXMuXG4gKlxuICogIyMjIHYyLjAuMCBicmVha2luZyBjaGFuZ2VzOlxuICpcbiAqIC0gW0NoYW5nZXMgdGhhdCBhcmUgY29tbW9uIGZvciB0aGUgd2hvbGUgbGlicmFyeV0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdXBncmFkZUd1aWRlLm1kI0NvbW1vbi1DaGFuZ2VzKS5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlTGVmdCAtIHRoZSBsYXRlciBkYXRlXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlUmlnaHQgLSB0aGUgZWFybGllciBkYXRlXG4gKiBAcmV0dXJucyB7TnVtYmVyfSB0aGUgbnVtYmVyIG9mIHNlY29uZHNcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMiBhcmd1bWVudHMgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSG93IG1hbnkgc2Vjb25kcyBhcmUgYmV0d2VlblxuICogLy8gMiBKdWx5IDIwMTQgMTI6MzA6MDcuOTk5IGFuZCAyIEp1bHkgMjAxNCAxMjozMDoyMC4wMDA/XG4gKiB2YXIgcmVzdWx0ID0gZGlmZmVyZW5jZUluU2Vjb25kcyhcbiAqICAgbmV3IERhdGUoMjAxNCwgNiwgMiwgMTIsIDMwLCAyMCwgMCksXG4gKiAgIG5ldyBEYXRlKDIwMTQsIDYsIDIsIDEyLCAzMCwgNywgOTk5KVxuICogKVxuICogLy89PiAxMlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRpZmZlcmVuY2VJblNlY29uZHMoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQpIHtcbiAgcmVxdWlyZWRBcmdzKDIsIGFyZ3VtZW50cyk7XG4gIHZhciBkaWZmID0gZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzKGRpcnR5RGF0ZUxlZnQsIGRpcnR5RGF0ZVJpZ2h0KSAvIDEwMDA7XG4gIHJldHVybiBkaWZmID4gMCA/IE1hdGguZmxvb3IoZGlmZikgOiBNYXRoLmNlaWwoZGlmZik7XG59IiwiaW1wb3J0IGFzc2lnbiBmcm9tICcuLi9hc3NpZ24vaW5kZXguanMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xvbmVPYmplY3QoZGlydHlPYmplY3QpIHtcbiAgcmV0dXJuIGFzc2lnbih7fSwgZGlydHlPYmplY3QpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIGRpcnR5T2JqZWN0KSB7XG4gIGlmICh0YXJnZXQgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Fzc2lnbiByZXF1aXJlcyB0aGF0IGlucHV0IHBhcmFtZXRlciBub3QgYmUgbnVsbCBvciB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIGRpcnR5T2JqZWN0ID0gZGlydHlPYmplY3QgfHwge307XG5cbiAgZm9yICh2YXIgcHJvcGVydHkgaW4gZGlydHlPYmplY3QpIHtcbiAgICBpZiAoZGlydHlPYmplY3QuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgICB0YXJnZXRbcHJvcGVydHldID0gZGlydHlPYmplY3RbcHJvcGVydHldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59IiwidmFyIGZvcm1hdERpc3RhbmNlTG9jYWxlID0ge1xuICBsZXNzVGhhblhTZWNvbmRzOiB7XG4gICAgb25lOiAnbGVzcyB0aGFuIGEgc2Vjb25kJyxcbiAgICBvdGhlcjogJ2xlc3MgdGhhbiB7e2NvdW50fX0gc2Vjb25kcydcbiAgfSxcbiAgeFNlY29uZHM6IHtcbiAgICBvbmU6ICcxIHNlY29uZCcsXG4gICAgb3RoZXI6ICd7e2NvdW50fX0gc2Vjb25kcydcbiAgfSxcbiAgaGFsZkFNaW51dGU6ICdoYWxmIGEgbWludXRlJyxcbiAgbGVzc1RoYW5YTWludXRlczoge1xuICAgIG9uZTogJ2xlc3MgdGhhbiBhIG1pbnV0ZScsXG4gICAgb3RoZXI6ICdsZXNzIHRoYW4ge3tjb3VudH19IG1pbnV0ZXMnXG4gIH0sXG4gIHhNaW51dGVzOiB7XG4gICAgb25lOiAnMSBtaW51dGUnLFxuICAgIG90aGVyOiAne3tjb3VudH19IG1pbnV0ZXMnXG4gIH0sXG4gIGFib3V0WEhvdXJzOiB7XG4gICAgb25lOiAnYWJvdXQgMSBob3VyJyxcbiAgICBvdGhlcjogJ2Fib3V0IHt7Y291bnR9fSBob3VycydcbiAgfSxcbiAgeEhvdXJzOiB7XG4gICAgb25lOiAnMSBob3VyJyxcbiAgICBvdGhlcjogJ3t7Y291bnR9fSBob3VycydcbiAgfSxcbiAgeERheXM6IHtcbiAgICBvbmU6ICcxIGRheScsXG4gICAgb3RoZXI6ICd7e2NvdW50fX0gZGF5cydcbiAgfSxcbiAgYWJvdXRYV2Vla3M6IHtcbiAgICBvbmU6ICdhYm91dCAxIHdlZWsnLFxuICAgIG90aGVyOiAnYWJvdXQge3tjb3VudH19IHdlZWtzJ1xuICB9LFxuICB4V2Vla3M6IHtcbiAgICBvbmU6ICcxIHdlZWsnLFxuICAgIG90aGVyOiAne3tjb3VudH19IHdlZWtzJ1xuICB9LFxuICBhYm91dFhNb250aHM6IHtcbiAgICBvbmU6ICdhYm91dCAxIG1vbnRoJyxcbiAgICBvdGhlcjogJ2Fib3V0IHt7Y291bnR9fSBtb250aHMnXG4gIH0sXG4gIHhNb250aHM6IHtcbiAgICBvbmU6ICcxIG1vbnRoJyxcbiAgICBvdGhlcjogJ3t7Y291bnR9fSBtb250aHMnXG4gIH0sXG4gIGFib3V0WFllYXJzOiB7XG4gICAgb25lOiAnYWJvdXQgMSB5ZWFyJyxcbiAgICBvdGhlcjogJ2Fib3V0IHt7Y291bnR9fSB5ZWFycydcbiAgfSxcbiAgeFllYXJzOiB7XG4gICAgb25lOiAnMSB5ZWFyJyxcbiAgICBvdGhlcjogJ3t7Y291bnR9fSB5ZWFycydcbiAgfSxcbiAgb3ZlclhZZWFyczoge1xuICAgIG9uZTogJ292ZXIgMSB5ZWFyJyxcbiAgICBvdGhlcjogJ292ZXIge3tjb3VudH19IHllYXJzJ1xuICB9LFxuICBhbG1vc3RYWWVhcnM6IHtcbiAgICBvbmU6ICdhbG1vc3QgMSB5ZWFyJyxcbiAgICBvdGhlcjogJ2FsbW9zdCB7e2NvdW50fX0geWVhcnMnXG4gIH1cbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb3JtYXREaXN0YW5jZSh0b2tlbiwgY291bnQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciByZXN1bHQ7XG5cbiAgaWYgKHR5cGVvZiBmb3JtYXREaXN0YW5jZUxvY2FsZVt0b2tlbl0gPT09ICdzdHJpbmcnKSB7XG4gICAgcmVzdWx0ID0gZm9ybWF0RGlzdGFuY2VMb2NhbGVbdG9rZW5dO1xuICB9IGVsc2UgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgcmVzdWx0ID0gZm9ybWF0RGlzdGFuY2VMb2NhbGVbdG9rZW5dLm9uZTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSBmb3JtYXREaXN0YW5jZUxvY2FsZVt0b2tlbl0ub3RoZXIucmVwbGFjZSgne3tjb3VudH19JywgY291bnQpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuYWRkU3VmZml4KSB7XG4gICAgaWYgKG9wdGlvbnMuY29tcGFyaXNvbiA+IDApIHtcbiAgICAgIHJldHVybiAnaW4gJyArIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc3VsdCArICcgYWdvJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkRm9ybWF0TG9uZ0ZuKGFyZ3MpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChkaXJ0eU9wdGlvbnMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGRpcnR5T3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgd2lkdGggPSBvcHRpb25zLndpZHRoID8gU3RyaW5nKG9wdGlvbnMud2lkdGgpIDogYXJncy5kZWZhdWx0V2lkdGg7XG4gICAgdmFyIGZvcm1hdCA9IGFyZ3MuZm9ybWF0c1t3aWR0aF0gfHwgYXJncy5mb3JtYXRzW2FyZ3MuZGVmYXVsdFdpZHRoXTtcbiAgICByZXR1cm4gZm9ybWF0O1xuICB9O1xufSIsImltcG9ydCBidWlsZEZvcm1hdExvbmdGbiBmcm9tICcuLi8uLi8uLi9fbGliL2J1aWxkRm9ybWF0TG9uZ0ZuL2luZGV4LmpzJztcbnZhciBkYXRlRm9ybWF0cyA9IHtcbiAgZnVsbDogJ0VFRUUsIE1NTU0gZG8sIHknLFxuICBsb25nOiAnTU1NTSBkbywgeScsXG4gIG1lZGl1bTogJ01NTSBkLCB5JyxcbiAgc2hvcnQ6ICdNTS9kZC95eXl5J1xufTtcbnZhciB0aW1lRm9ybWF0cyA9IHtcbiAgZnVsbDogJ2g6bW06c3MgYSB6enp6JyxcbiAgbG9uZzogJ2g6bW06c3MgYSB6JyxcbiAgbWVkaXVtOiAnaDptbTpzcyBhJyxcbiAgc2hvcnQ6ICdoOm1tIGEnXG59O1xudmFyIGRhdGVUaW1lRm9ybWF0cyA9IHtcbiAgZnVsbDogXCJ7e2RhdGV9fSAnYXQnIHt7dGltZX19XCIsXG4gIGxvbmc6IFwie3tkYXRlfX0gJ2F0JyB7e3RpbWV9fVwiLFxuICBtZWRpdW06ICd7e2RhdGV9fSwge3t0aW1lfX0nLFxuICBzaG9ydDogJ3t7ZGF0ZX19LCB7e3RpbWV9fSdcbn07XG52YXIgZm9ybWF0TG9uZyA9IHtcbiAgZGF0ZTogYnVpbGRGb3JtYXRMb25nRm4oe1xuICAgIGZvcm1hdHM6IGRhdGVGb3JtYXRzLFxuICAgIGRlZmF1bHRXaWR0aDogJ2Z1bGwnXG4gIH0pLFxuICB0aW1lOiBidWlsZEZvcm1hdExvbmdGbih7XG4gICAgZm9ybWF0czogdGltZUZvcm1hdHMsXG4gICAgZGVmYXVsdFdpZHRoOiAnZnVsbCdcbiAgfSksXG4gIGRhdGVUaW1lOiBidWlsZEZvcm1hdExvbmdGbih7XG4gICAgZm9ybWF0czogZGF0ZVRpbWVGb3JtYXRzLFxuICAgIGRlZmF1bHRXaWR0aDogJ2Z1bGwnXG4gIH0pXG59O1xuZXhwb3J0IGRlZmF1bHQgZm9ybWF0TG9uZzsiLCJ2YXIgZm9ybWF0UmVsYXRpdmVMb2NhbGUgPSB7XG4gIGxhc3RXZWVrOiBcIidsYXN0JyBlZWVlICdhdCcgcFwiLFxuICB5ZXN0ZXJkYXk6IFwiJ3llc3RlcmRheSBhdCcgcFwiLFxuICB0b2RheTogXCIndG9kYXkgYXQnIHBcIixcbiAgdG9tb3Jyb3c6IFwiJ3RvbW9ycm93IGF0JyBwXCIsXG4gIG5leHRXZWVrOiBcImVlZWUgJ2F0JyBwXCIsXG4gIG90aGVyOiAnUCdcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb3JtYXRSZWxhdGl2ZSh0b2tlbiwgX2RhdGUsIF9iYXNlRGF0ZSwgX29wdGlvbnMpIHtcbiAgcmV0dXJuIGZvcm1hdFJlbGF0aXZlTG9jYWxlW3Rva2VuXTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBidWlsZExvY2FsaXplRm4oYXJncykge1xuICByZXR1cm4gZnVuY3Rpb24gKGRpcnR5SW5kZXgsIGRpcnR5T3B0aW9ucykge1xuICAgIHZhciBvcHRpb25zID0gZGlydHlPcHRpb25zIHx8IHt9O1xuICAgIHZhciBjb250ZXh0ID0gb3B0aW9ucy5jb250ZXh0ID8gU3RyaW5nKG9wdGlvbnMuY29udGV4dCkgOiAnc3RhbmRhbG9uZSc7XG4gICAgdmFyIHZhbHVlc0FycmF5O1xuXG4gICAgaWYgKGNvbnRleHQgPT09ICdmb3JtYXR0aW5nJyAmJiBhcmdzLmZvcm1hdHRpbmdWYWx1ZXMpIHtcbiAgICAgIHZhciBkZWZhdWx0V2lkdGggPSBhcmdzLmRlZmF1bHRGb3JtYXR0aW5nV2lkdGggfHwgYXJncy5kZWZhdWx0V2lkdGg7XG4gICAgICB2YXIgd2lkdGggPSBvcHRpb25zLndpZHRoID8gU3RyaW5nKG9wdGlvbnMud2lkdGgpIDogZGVmYXVsdFdpZHRoO1xuICAgICAgdmFsdWVzQXJyYXkgPSBhcmdzLmZvcm1hdHRpbmdWYWx1ZXNbd2lkdGhdIHx8IGFyZ3MuZm9ybWF0dGluZ1ZhbHVlc1tkZWZhdWx0V2lkdGhdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX2RlZmF1bHRXaWR0aCA9IGFyZ3MuZGVmYXVsdFdpZHRoO1xuXG4gICAgICB2YXIgX3dpZHRoID0gb3B0aW9ucy53aWR0aCA/IFN0cmluZyhvcHRpb25zLndpZHRoKSA6IGFyZ3MuZGVmYXVsdFdpZHRoO1xuXG4gICAgICB2YWx1ZXNBcnJheSA9IGFyZ3MudmFsdWVzW193aWR0aF0gfHwgYXJncy52YWx1ZXNbX2RlZmF1bHRXaWR0aF07XG4gICAgfVxuXG4gICAgdmFyIGluZGV4ID0gYXJncy5hcmd1bWVudENhbGxiYWNrID8gYXJncy5hcmd1bWVudENhbGxiYWNrKGRpcnR5SW5kZXgpIDogZGlydHlJbmRleDtcbiAgICByZXR1cm4gdmFsdWVzQXJyYXlbaW5kZXhdO1xuICB9O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkTWF0Y2hGbihhcmdzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZGlydHlTdHJpbmcsIGRpcnR5T3B0aW9ucykge1xuICAgIHZhciBzdHJpbmcgPSBTdHJpbmcoZGlydHlTdHJpbmcpO1xuICAgIHZhciBvcHRpb25zID0gZGlydHlPcHRpb25zIHx8IHt9O1xuICAgIHZhciB3aWR0aCA9IG9wdGlvbnMud2lkdGg7XG4gICAgdmFyIG1hdGNoUGF0dGVybiA9IHdpZHRoICYmIGFyZ3MubWF0Y2hQYXR0ZXJuc1t3aWR0aF0gfHwgYXJncy5tYXRjaFBhdHRlcm5zW2FyZ3MuZGVmYXVsdE1hdGNoV2lkdGhdO1xuICAgIHZhciBtYXRjaFJlc3VsdCA9IHN0cmluZy5tYXRjaChtYXRjaFBhdHRlcm4pO1xuXG4gICAgaWYgKCFtYXRjaFJlc3VsdCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoZWRTdHJpbmcgPSBtYXRjaFJlc3VsdFswXTtcbiAgICB2YXIgcGFyc2VQYXR0ZXJucyA9IHdpZHRoICYmIGFyZ3MucGFyc2VQYXR0ZXJuc1t3aWR0aF0gfHwgYXJncy5wYXJzZVBhdHRlcm5zW2FyZ3MuZGVmYXVsdFBhcnNlV2lkdGhdO1xuICAgIHZhciB2YWx1ZTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocGFyc2VQYXR0ZXJucykgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHZhbHVlID0gZmluZEluZGV4KHBhcnNlUGF0dGVybnMsIGZ1bmN0aW9uIChwYXR0ZXJuKSB7XG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobWF0Y2hlZFN0cmluZyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgPSBmaW5kS2V5KHBhcnNlUGF0dGVybnMsIGZ1bmN0aW9uIChwYXR0ZXJuKSB7XG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobWF0Y2hlZFN0cmluZyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YWx1ZSA9IGFyZ3MudmFsdWVDYWxsYmFjayA/IGFyZ3MudmFsdWVDYWxsYmFjayh2YWx1ZSkgOiB2YWx1ZTtcbiAgICB2YWx1ZSA9IG9wdGlvbnMudmFsdWVDYWxsYmFjayA/IG9wdGlvbnMudmFsdWVDYWxsYmFjayh2YWx1ZSkgOiB2YWx1ZTtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgcmVzdDogc3RyaW5nLnNsaWNlKG1hdGNoZWRTdHJpbmcubGVuZ3RoKVxuICAgIH07XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZpbmRLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgIGlmIChvYmplY3QuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBwcmVkaWNhdGUob2JqZWN0W2tleV0pKSB7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSkge1xuICBmb3IgKHZhciBrZXkgPSAwOyBrZXkgPCBhcnJheS5sZW5ndGg7IGtleSsrKSB7XG4gICAgaWYgKHByZWRpY2F0ZShhcnJheVtrZXldKSkge1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgYnVpbGRNYXRjaFBhdHRlcm5GbiBmcm9tICcuLi8uLi8uLi9fbGliL2J1aWxkTWF0Y2hQYXR0ZXJuRm4vaW5kZXguanMnO1xuaW1wb3J0IGJ1aWxkTWF0Y2hGbiBmcm9tICcuLi8uLi8uLi9fbGliL2J1aWxkTWF0Y2hGbi9pbmRleC5qcyc7XG52YXIgbWF0Y2hPcmRpbmFsTnVtYmVyUGF0dGVybiA9IC9eKFxcZCspKHRofHN0fG5kfHJkKT8vaTtcbnZhciBwYXJzZU9yZGluYWxOdW1iZXJQYXR0ZXJuID0gL1xcZCsvaTtcbnZhciBtYXRjaEVyYVBhdHRlcm5zID0ge1xuICBuYXJyb3c6IC9eKGJ8YSkvaSxcbiAgYWJicmV2aWF0ZWQ6IC9eKGJcXC4/XFxzP2NcXC4/fGJcXC4/XFxzP2NcXC4/XFxzP2VcXC4/fGFcXC4/XFxzP2RcXC4/fGNcXC4/XFxzP2VcXC4/KS9pLFxuICB3aWRlOiAvXihiZWZvcmUgY2hyaXN0fGJlZm9yZSBjb21tb24gZXJhfGFubm8gZG9taW5pfGNvbW1vbiBlcmEpL2lcbn07XG52YXIgcGFyc2VFcmFQYXR0ZXJucyA9IHtcbiAgYW55OiBbL15iL2ksIC9eKGF8YykvaV1cbn07XG52YXIgbWF0Y2hRdWFydGVyUGF0dGVybnMgPSB7XG4gIG5hcnJvdzogL15bMTIzNF0vaSxcbiAgYWJicmV2aWF0ZWQ6IC9ecVsxMjM0XS9pLFxuICB3aWRlOiAvXlsxMjM0XSh0aHxzdHxuZHxyZCk/IHF1YXJ0ZXIvaVxufTtcbnZhciBwYXJzZVF1YXJ0ZXJQYXR0ZXJucyA9IHtcbiAgYW55OiBbLzEvaSwgLzIvaSwgLzMvaSwgLzQvaV1cbn07XG52YXIgbWF0Y2hNb250aFBhdHRlcm5zID0ge1xuICBuYXJyb3c6IC9eW2pmbWFzb25kXS9pLFxuICBhYmJyZXZpYXRlZDogL14oamFufGZlYnxtYXJ8YXByfG1heXxqdW58anVsfGF1Z3xzZXB8b2N0fG5vdnxkZWMpL2ksXG4gIHdpZGU6IC9eKGphbnVhcnl8ZmVicnVhcnl8bWFyY2h8YXByaWx8bWF5fGp1bmV8anVseXxhdWd1c3R8c2VwdGVtYmVyfG9jdG9iZXJ8bm92ZW1iZXJ8ZGVjZW1iZXIpL2lcbn07XG52YXIgcGFyc2VNb250aFBhdHRlcm5zID0ge1xuICBuYXJyb3c6IFsvXmovaSwgL15mL2ksIC9ebS9pLCAvXmEvaSwgL15tL2ksIC9eai9pLCAvXmovaSwgL15hL2ksIC9ecy9pLCAvXm8vaSwgL15uL2ksIC9eZC9pXSxcbiAgYW55OiBbL15qYS9pLCAvXmYvaSwgL15tYXIvaSwgL15hcC9pLCAvXm1heS9pLCAvXmp1bi9pLCAvXmp1bC9pLCAvXmF1L2ksIC9ecy9pLCAvXm8vaSwgL15uL2ksIC9eZC9pXVxufTtcbnZhciBtYXRjaERheVBhdHRlcm5zID0ge1xuICBuYXJyb3c6IC9eW3NtdHdmXS9pLFxuICBzaG9ydDogL14oc3V8bW98dHV8d2V8dGh8ZnJ8c2EpL2ksXG4gIGFiYnJldmlhdGVkOiAvXihzdW58bW9ufHR1ZXx3ZWR8dGh1fGZyaXxzYXQpL2ksXG4gIHdpZGU6IC9eKHN1bmRheXxtb25kYXl8dHVlc2RheXx3ZWRuZXNkYXl8dGh1cnNkYXl8ZnJpZGF5fHNhdHVyZGF5KS9pXG59O1xudmFyIHBhcnNlRGF5UGF0dGVybnMgPSB7XG4gIG5hcnJvdzogWy9ecy9pLCAvXm0vaSwgL150L2ksIC9edy9pLCAvXnQvaSwgL15mL2ksIC9ecy9pXSxcbiAgYW55OiBbL15zdS9pLCAvXm0vaSwgL150dS9pLCAvXncvaSwgL150aC9pLCAvXmYvaSwgL15zYS9pXVxufTtcbnZhciBtYXRjaERheVBlcmlvZFBhdHRlcm5zID0ge1xuICBuYXJyb3c6IC9eKGF8cHxtaXxufChpbiB0aGV8YXQpIChtb3JuaW5nfGFmdGVybm9vbnxldmVuaW5nfG5pZ2h0KSkvaSxcbiAgYW55OiAvXihbYXBdXFwuP1xccz9tXFwuP3xtaWRuaWdodHxub29ufChpbiB0aGV8YXQpIChtb3JuaW5nfGFmdGVybm9vbnxldmVuaW5nfG5pZ2h0KSkvaVxufTtcbnZhciBwYXJzZURheVBlcmlvZFBhdHRlcm5zID0ge1xuICBhbnk6IHtcbiAgICBhbTogL15hL2ksXG4gICAgcG06IC9ecC9pLFxuICAgIG1pZG5pZ2h0OiAvXm1pL2ksXG4gICAgbm9vbjogL15uby9pLFxuICAgIG1vcm5pbmc6IC9tb3JuaW5nL2ksXG4gICAgYWZ0ZXJub29uOiAvYWZ0ZXJub29uL2ksXG4gICAgZXZlbmluZzogL2V2ZW5pbmcvaSxcbiAgICBuaWdodDogL25pZ2h0L2lcbiAgfVxufTtcbnZhciBtYXRjaCA9IHtcbiAgb3JkaW5hbE51bWJlcjogYnVpbGRNYXRjaFBhdHRlcm5Gbih7XG4gICAgbWF0Y2hQYXR0ZXJuOiBtYXRjaE9yZGluYWxOdW1iZXJQYXR0ZXJuLFxuICAgIHBhcnNlUGF0dGVybjogcGFyc2VPcmRpbmFsTnVtYmVyUGF0dGVybixcbiAgICB2YWx1ZUNhbGxiYWNrOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIH1cbiAgfSksXG4gIGVyYTogYnVpbGRNYXRjaEZuKHtcbiAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaEVyYVBhdHRlcm5zLFxuICAgIGRlZmF1bHRNYXRjaFdpZHRoOiAnd2lkZScsXG4gICAgcGFyc2VQYXR0ZXJuczogcGFyc2VFcmFQYXR0ZXJucyxcbiAgICBkZWZhdWx0UGFyc2VXaWR0aDogJ2FueSdcbiAgfSksXG4gIHF1YXJ0ZXI6IGJ1aWxkTWF0Y2hGbih7XG4gICAgbWF0Y2hQYXR0ZXJuczogbWF0Y2hRdWFydGVyUGF0dGVybnMsXG4gICAgZGVmYXVsdE1hdGNoV2lkdGg6ICd3aWRlJyxcbiAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZVF1YXJ0ZXJQYXR0ZXJucyxcbiAgICBkZWZhdWx0UGFyc2VXaWR0aDogJ2FueScsXG4gICAgdmFsdWVDYWxsYmFjazogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICByZXR1cm4gaW5kZXggKyAxO1xuICAgIH1cbiAgfSksXG4gIG1vbnRoOiBidWlsZE1hdGNoRm4oe1xuICAgIG1hdGNoUGF0dGVybnM6IG1hdGNoTW9udGhQYXR0ZXJucyxcbiAgICBkZWZhdWx0TWF0Y2hXaWR0aDogJ3dpZGUnLFxuICAgIHBhcnNlUGF0dGVybnM6IHBhcnNlTW9udGhQYXR0ZXJucyxcbiAgICBkZWZhdWx0UGFyc2VXaWR0aDogJ2FueSdcbiAgfSksXG4gIGRheTogYnVpbGRNYXRjaEZuKHtcbiAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaERheVBhdHRlcm5zLFxuICAgIGRlZmF1bHRNYXRjaFdpZHRoOiAnd2lkZScsXG4gICAgcGFyc2VQYXR0ZXJuczogcGFyc2VEYXlQYXR0ZXJucyxcbiAgICBkZWZhdWx0UGFyc2VXaWR0aDogJ2FueSdcbiAgfSksXG4gIGRheVBlcmlvZDogYnVpbGRNYXRjaEZuKHtcbiAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaERheVBlcmlvZFBhdHRlcm5zLFxuICAgIGRlZmF1bHRNYXRjaFdpZHRoOiAnYW55JyxcbiAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZURheVBlcmlvZFBhdHRlcm5zLFxuICAgIGRlZmF1bHRQYXJzZVdpZHRoOiAnYW55J1xuICB9KVxufTtcbmV4cG9ydCBkZWZhdWx0IG1hdGNoOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkTWF0Y2hQYXR0ZXJuRm4oYXJncykge1xuICByZXR1cm4gZnVuY3Rpb24gKGRpcnR5U3RyaW5nLCBkaXJ0eU9wdGlvbnMpIHtcbiAgICB2YXIgc3RyaW5nID0gU3RyaW5nKGRpcnR5U3RyaW5nKTtcbiAgICB2YXIgb3B0aW9ucyA9IGRpcnR5T3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgbWF0Y2hSZXN1bHQgPSBzdHJpbmcubWF0Y2goYXJncy5tYXRjaFBhdHRlcm4pO1xuXG4gICAgaWYgKCFtYXRjaFJlc3VsdCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoZWRTdHJpbmcgPSBtYXRjaFJlc3VsdFswXTtcbiAgICB2YXIgcGFyc2VSZXN1bHQgPSBzdHJpbmcubWF0Y2goYXJncy5wYXJzZVBhdHRlcm4pO1xuXG4gICAgaWYgKCFwYXJzZVJlc3VsdCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gYXJncy52YWx1ZUNhbGxiYWNrID8gYXJncy52YWx1ZUNhbGxiYWNrKHBhcnNlUmVzdWx0WzBdKSA6IHBhcnNlUmVzdWx0WzBdO1xuICAgIHZhbHVlID0gb3B0aW9ucy52YWx1ZUNhbGxiYWNrID8gb3B0aW9ucy52YWx1ZUNhbGxiYWNrKHZhbHVlKSA6IHZhbHVlO1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICByZXN0OiBzdHJpbmcuc2xpY2UobWF0Y2hlZFN0cmluZy5sZW5ndGgpXG4gICAgfTtcbiAgfTtcbn0iLCJpbXBvcnQgZm9ybWF0RGlzdGFuY2UgZnJvbSAnLi9fbGliL2Zvcm1hdERpc3RhbmNlL2luZGV4LmpzJztcbmltcG9ydCBmb3JtYXRMb25nIGZyb20gJy4vX2xpYi9mb3JtYXRMb25nL2luZGV4LmpzJztcbmltcG9ydCBmb3JtYXRSZWxhdGl2ZSBmcm9tICcuL19saWIvZm9ybWF0UmVsYXRpdmUvaW5kZXguanMnO1xuaW1wb3J0IGxvY2FsaXplIGZyb20gJy4vX2xpYi9sb2NhbGl6ZS9pbmRleC5qcyc7XG5pbXBvcnQgbWF0Y2ggZnJvbSAnLi9fbGliL21hdGNoL2luZGV4LmpzJztcbi8qKlxuICogQHR5cGUge0xvY2FsZX1cbiAqIEBjYXRlZ29yeSBMb2NhbGVzXG4gKiBAc3VtbWFyeSBFbmdsaXNoIGxvY2FsZSAoVW5pdGVkIFN0YXRlcykuXG4gKiBAbGFuZ3VhZ2UgRW5nbGlzaFxuICogQGlzby02MzktMiBlbmdcbiAqIEBhdXRob3IgU2FzaGEgS29zcyBbQGtvc3Nub2NvcnBde0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9rb3Nzbm9jb3JwfVxuICogQGF1dGhvciBMZXNoYSBLb3NzIFtAbGVzaGFrb3NzXXtAbGluayBodHRwczovL2dpdGh1Yi5jb20vbGVzaGFrb3NzfVxuICovXG5cbnZhciBsb2NhbGUgPSB7XG4gIGNvZGU6ICdlbi1VUycsXG4gIGZvcm1hdERpc3RhbmNlOiBmb3JtYXREaXN0YW5jZSxcbiAgZm9ybWF0TG9uZzogZm9ybWF0TG9uZyxcbiAgZm9ybWF0UmVsYXRpdmU6IGZvcm1hdFJlbGF0aXZlLFxuICBsb2NhbGl6ZTogbG9jYWxpemUsXG4gIG1hdGNoOiBtYXRjaCxcbiAgb3B0aW9uczoge1xuICAgIHdlZWtTdGFydHNPbjogMFxuICAgIC8qIFN1bmRheSAqL1xuICAgICxcbiAgICBmaXJzdFdlZWtDb250YWluc0RhdGU6IDFcbiAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IGxvY2FsZTsiLCJpbXBvcnQgYnVpbGRMb2NhbGl6ZUZuIGZyb20gJy4uLy4uLy4uL19saWIvYnVpbGRMb2NhbGl6ZUZuL2luZGV4LmpzJztcbnZhciBlcmFWYWx1ZXMgPSB7XG4gIG5hcnJvdzogWydCJywgJ0EnXSxcbiAgYWJicmV2aWF0ZWQ6IFsnQkMnLCAnQUQnXSxcbiAgd2lkZTogWydCZWZvcmUgQ2hyaXN0JywgJ0Fubm8gRG9taW5pJ11cbn07XG52YXIgcXVhcnRlclZhbHVlcyA9IHtcbiAgbmFycm93OiBbJzEnLCAnMicsICczJywgJzQnXSxcbiAgYWJicmV2aWF0ZWQ6IFsnUTEnLCAnUTInLCAnUTMnLCAnUTQnXSxcbiAgd2lkZTogWycxc3QgcXVhcnRlcicsICcybmQgcXVhcnRlcicsICczcmQgcXVhcnRlcicsICc0dGggcXVhcnRlciddIC8vIE5vdGU6IGluIEVuZ2xpc2gsIHRoZSBuYW1lcyBvZiBkYXlzIG9mIHRoZSB3ZWVrIGFuZCBtb250aHMgYXJlIGNhcGl0YWxpemVkLlxuICAvLyBJZiB5b3UgYXJlIG1ha2luZyBhIG5ldyBsb2NhbGUgYmFzZWQgb24gdGhpcyBvbmUsIGNoZWNrIGlmIHRoZSBzYW1lIGlzIHRydWUgZm9yIHRoZSBsYW5ndWFnZSB5b3UncmUgd29ya2luZyBvbi5cbiAgLy8gR2VuZXJhbGx5LCBmb3JtYXR0ZWQgZGF0ZXMgc2hvdWxkIGxvb2sgbGlrZSB0aGV5IGFyZSBpbiB0aGUgbWlkZGxlIG9mIGEgc2VudGVuY2UsXG4gIC8vIGUuZy4gaW4gU3BhbmlzaCBsYW5ndWFnZSB0aGUgd2Vla2RheXMgYW5kIG1vbnRocyBzaG91bGQgYmUgaW4gdGhlIGxvd2VyY2FzZS5cblxufTtcbnZhciBtb250aFZhbHVlcyA9IHtcbiAgbmFycm93OiBbJ0onLCAnRicsICdNJywgJ0EnLCAnTScsICdKJywgJ0onLCAnQScsICdTJywgJ08nLCAnTicsICdEJ10sXG4gIGFiYnJldmlhdGVkOiBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJywgJ09jdCcsICdOb3YnLCAnRGVjJ10sXG4gIHdpZGU6IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddXG59O1xudmFyIGRheVZhbHVlcyA9IHtcbiAgbmFycm93OiBbJ1MnLCAnTScsICdUJywgJ1cnLCAnVCcsICdGJywgJ1MnXSxcbiAgc2hvcnQ6IFsnU3UnLCAnTW8nLCAnVHUnLCAnV2UnLCAnVGgnLCAnRnInLCAnU2EnXSxcbiAgYWJicmV2aWF0ZWQ6IFsnU3VuJywgJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGcmknLCAnU2F0J10sXG4gIHdpZGU6IFsnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXVxufTtcbnZhciBkYXlQZXJpb2RWYWx1ZXMgPSB7XG4gIG5hcnJvdzoge1xuICAgIGFtOiAnYScsXG4gICAgcG06ICdwJyxcbiAgICBtaWRuaWdodDogJ21pJyxcbiAgICBub29uOiAnbicsXG4gICAgbW9ybmluZzogJ21vcm5pbmcnLFxuICAgIGFmdGVybm9vbjogJ2FmdGVybm9vbicsXG4gICAgZXZlbmluZzogJ2V2ZW5pbmcnLFxuICAgIG5pZ2h0OiAnbmlnaHQnXG4gIH0sXG4gIGFiYnJldmlhdGVkOiB7XG4gICAgYW06ICdBTScsXG4gICAgcG06ICdQTScsXG4gICAgbWlkbmlnaHQ6ICdtaWRuaWdodCcsXG4gICAgbm9vbjogJ25vb24nLFxuICAgIG1vcm5pbmc6ICdtb3JuaW5nJyxcbiAgICBhZnRlcm5vb246ICdhZnRlcm5vb24nLFxuICAgIGV2ZW5pbmc6ICdldmVuaW5nJyxcbiAgICBuaWdodDogJ25pZ2h0J1xuICB9LFxuICB3aWRlOiB7XG4gICAgYW06ICdhLm0uJyxcbiAgICBwbTogJ3AubS4nLFxuICAgIG1pZG5pZ2h0OiAnbWlkbmlnaHQnLFxuICAgIG5vb246ICdub29uJyxcbiAgICBtb3JuaW5nOiAnbW9ybmluZycsXG4gICAgYWZ0ZXJub29uOiAnYWZ0ZXJub29uJyxcbiAgICBldmVuaW5nOiAnZXZlbmluZycsXG4gICAgbmlnaHQ6ICduaWdodCdcbiAgfVxufTtcbnZhciBmb3JtYXR0aW5nRGF5UGVyaW9kVmFsdWVzID0ge1xuICBuYXJyb3c6IHtcbiAgICBhbTogJ2EnLFxuICAgIHBtOiAncCcsXG4gICAgbWlkbmlnaHQ6ICdtaScsXG4gICAgbm9vbjogJ24nLFxuICAgIG1vcm5pbmc6ICdpbiB0aGUgbW9ybmluZycsXG4gICAgYWZ0ZXJub29uOiAnaW4gdGhlIGFmdGVybm9vbicsXG4gICAgZXZlbmluZzogJ2luIHRoZSBldmVuaW5nJyxcbiAgICBuaWdodDogJ2F0IG5pZ2h0J1xuICB9LFxuICBhYmJyZXZpYXRlZDoge1xuICAgIGFtOiAnQU0nLFxuICAgIHBtOiAnUE0nLFxuICAgIG1pZG5pZ2h0OiAnbWlkbmlnaHQnLFxuICAgIG5vb246ICdub29uJyxcbiAgICBtb3JuaW5nOiAnaW4gdGhlIG1vcm5pbmcnLFxuICAgIGFmdGVybm9vbjogJ2luIHRoZSBhZnRlcm5vb24nLFxuICAgIGV2ZW5pbmc6ICdpbiB0aGUgZXZlbmluZycsXG4gICAgbmlnaHQ6ICdhdCBuaWdodCdcbiAgfSxcbiAgd2lkZToge1xuICAgIGFtOiAnYS5tLicsXG4gICAgcG06ICdwLm0uJyxcbiAgICBtaWRuaWdodDogJ21pZG5pZ2h0JyxcbiAgICBub29uOiAnbm9vbicsXG4gICAgbW9ybmluZzogJ2luIHRoZSBtb3JuaW5nJyxcbiAgICBhZnRlcm5vb246ICdpbiB0aGUgYWZ0ZXJub29uJyxcbiAgICBldmVuaW5nOiAnaW4gdGhlIGV2ZW5pbmcnLFxuICAgIG5pZ2h0OiAnYXQgbmlnaHQnXG4gIH1cbn07XG5cbmZ1bmN0aW9uIG9yZGluYWxOdW1iZXIoZGlydHlOdW1iZXIsIF9kaXJ0eU9wdGlvbnMpIHtcbiAgdmFyIG51bWJlciA9IE51bWJlcihkaXJ0eU51bWJlcik7IC8vIElmIG9yZGluYWwgbnVtYmVycyBkZXBlbmQgb24gY29udGV4dCwgZm9yIGV4YW1wbGUsXG4gIC8vIGlmIHRoZXkgYXJlIGRpZmZlcmVudCBmb3IgZGlmZmVyZW50IGdyYW1tYXRpY2FsIGdlbmRlcnMsXG4gIC8vIHVzZSBgb3B0aW9ucy51bml0YDpcbiAgLy9cbiAgLy8gICB2YXIgb3B0aW9ucyA9IGRpcnR5T3B0aW9ucyB8fCB7fVxuICAvLyAgIHZhciB1bml0ID0gU3RyaW5nKG9wdGlvbnMudW5pdClcbiAgLy9cbiAgLy8gd2hlcmUgYHVuaXRgIGNhbiBiZSAneWVhcicsICdxdWFydGVyJywgJ21vbnRoJywgJ3dlZWsnLCAnZGF0ZScsICdkYXlPZlllYXInLFxuICAvLyAnZGF5JywgJ2hvdXInLCAnbWludXRlJywgJ3NlY29uZCdcblxuICB2YXIgcmVtMTAwID0gbnVtYmVyICUgMTAwO1xuXG4gIGlmIChyZW0xMDAgPiAyMCB8fCByZW0xMDAgPCAxMCkge1xuICAgIHN3aXRjaCAocmVtMTAwICUgMTApIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIG51bWJlciArICdzdCc7XG5cbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcmV0dXJuIG51bWJlciArICduZCc7XG5cbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIG51bWJlciArICdyZCc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bWJlciArICd0aCc7XG59XG5cbnZhciBsb2NhbGl6ZSA9IHtcbiAgb3JkaW5hbE51bWJlcjogb3JkaW5hbE51bWJlcixcbiAgZXJhOiBidWlsZExvY2FsaXplRm4oe1xuICAgIHZhbHVlczogZXJhVmFsdWVzLFxuICAgIGRlZmF1bHRXaWR0aDogJ3dpZGUnXG4gIH0pLFxuICBxdWFydGVyOiBidWlsZExvY2FsaXplRm4oe1xuICAgIHZhbHVlczogcXVhcnRlclZhbHVlcyxcbiAgICBkZWZhdWx0V2lkdGg6ICd3aWRlJyxcbiAgICBhcmd1bWVudENhbGxiYWNrOiBmdW5jdGlvbiAocXVhcnRlcikge1xuICAgICAgcmV0dXJuIE51bWJlcihxdWFydGVyKSAtIDE7XG4gICAgfVxuICB9KSxcbiAgbW9udGg6IGJ1aWxkTG9jYWxpemVGbih7XG4gICAgdmFsdWVzOiBtb250aFZhbHVlcyxcbiAgICBkZWZhdWx0V2lkdGg6ICd3aWRlJ1xuICB9KSxcbiAgZGF5OiBidWlsZExvY2FsaXplRm4oe1xuICAgIHZhbHVlczogZGF5VmFsdWVzLFxuICAgIGRlZmF1bHRXaWR0aDogJ3dpZGUnXG4gIH0pLFxuICBkYXlQZXJpb2Q6IGJ1aWxkTG9jYWxpemVGbih7XG4gICAgdmFsdWVzOiBkYXlQZXJpb2RWYWx1ZXMsXG4gICAgZGVmYXVsdFdpZHRoOiAnd2lkZScsXG4gICAgZm9ybWF0dGluZ1ZhbHVlczogZm9ybWF0dGluZ0RheVBlcmlvZFZhbHVlcyxcbiAgICBkZWZhdWx0Rm9ybWF0dGluZ1dpZHRoOiAnd2lkZSdcbiAgfSlcbn07XG5leHBvcnQgZGVmYXVsdCBsb2NhbGl6ZTsiLCJpbXBvcnQgZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcyBmcm9tICcuLi9fbGliL2dldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMvaW5kZXguanMnO1xuaW1wb3J0IGNvbXBhcmVBc2MgZnJvbSAnLi4vY29tcGFyZUFzYy9pbmRleC5qcyc7XG5pbXBvcnQgdG9EYXRlIGZyb20gJy4uL3RvRGF0ZS9pbmRleC5qcyc7XG5pbXBvcnQgZGlmZmVyZW5jZUluU2Vjb25kcyBmcm9tICcuLi9kaWZmZXJlbmNlSW5TZWNvbmRzL2luZGV4LmpzJztcbmltcG9ydCBjbG9uZU9iamVjdCBmcm9tICcuLi9fbGliL2Nsb25lT2JqZWN0L2luZGV4LmpzJztcbmltcG9ydCBkZWZhdWx0TG9jYWxlIGZyb20gJy4uL2xvY2FsZS9lbi1VUy9pbmRleC5qcyc7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gJy4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzJztcbnZhciBNSU5VVEVTX0lOX0RBWSA9IDE0NDA7XG52YXIgTUlOVVRFU19JTl9NT05USCA9IDQzMjAwO1xudmFyIE1JTlVURVNfSU5fWUVBUiA9IDUyNTYwMDtcbi8qKlxuICogQG5hbWUgZm9ybWF0RGlzdGFuY2VTdHJpY3RcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBnaXZlbiBkYXRlcyBpbiB3b3Jkcy5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgZ2l2ZW4gZGF0ZXMgaW4gd29yZHMsIHVzaW5nIHN0cmljdCB1bml0cy5cbiAqIFRoaXMgaXMgbGlrZSBgZm9ybWF0RGlzdGFuY2VgLCBidXQgZG9lcyBub3QgdXNlIGhlbHBlcnMgbGlrZSAnYWxtb3N0JywgJ292ZXInLFxuICogJ2xlc3MgdGhhbicgYW5kIHRoZSBsaWtlLlxuICpcbiAqIHwgRGlzdGFuY2UgYmV0d2VlbiBkYXRlcyB8IFJlc3VsdCAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IDAgLi4uIDU5IHNlY3MgICAgICAgICAgfCBbMC4uNTldIHNlY29uZHMgICAgIHxcbiAqIHwgMSAuLi4gNTkgbWlucyAgICAgICAgICB8IFsxLi41OV0gbWludXRlcyAgICAgfFxuICogfCAxIC4uLiAyMyBocnMgICAgICAgICAgIHwgWzEuLjIzXSBob3VycyAgICAgICB8XG4gKiB8IDEgLi4uIDI5IGRheXMgICAgICAgICAgfCBbMS4uMjldIGRheXMgICAgICAgIHxcbiAqIHwgMSAuLi4gMTEgbW9udGhzICAgICAgICB8IFsxLi4xMV0gbW9udGhzICAgICAgfFxuICogfCAxIC4uLiBOIHllYXJzICAgICAgICAgIHwgWzEuLk5dICB5ZWFycyAgICAgICB8XG4gKlxuICogIyMjIHYyLjAuMCBicmVha2luZyBjaGFuZ2VzOlxuICpcbiAqIC0gW0NoYW5nZXMgdGhhdCBhcmUgY29tbW9uIGZvciB0aGUgd2hvbGUgbGlicmFyeV0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdXBncmFkZUd1aWRlLm1kI0NvbW1vbi1DaGFuZ2VzKS5cbiAqXG4gKiAtIFRoZSBmdW5jdGlvbiB3YXMgcmVuYW1lZCBmcm9tIGBkaXN0YW5jZUluV29yZHNTdHJpY3RgIHRvIGBmb3JtYXREaXN0YW5jZVN0cmljdGBcbiAqICAgdG8gbWFrZSBpdHMgbmFtZSBjb25zaXN0ZW50IHdpdGggYGZvcm1hdGAgYW5kIGBmb3JtYXRSZWxhdGl2ZWAuXG4gKlxuICogLSBUaGUgb3JkZXIgb2YgYXJndW1lbnRzIGlzIHN3YXBwZWQgdG8gbWFrZSB0aGUgZnVuY3Rpb25cbiAqICAgY29uc2lzdGVudCB3aXRoIGBkaWZmZXJlbmNlSW4uLi5gIGZ1bmN0aW9ucy5cbiAqXG4gKiAgIGBgYGphdmFzY3JpcHRcbiAqICAgLy8gQmVmb3JlIHYyLjAuMFxuICpcbiAqICAgZGlzdGFuY2VJbldvcmRzU3RyaWN0KFxuICogICAgIG5ldyBEYXRlKDIwMTUsIDAsIDIpLFxuICogICAgIG5ldyBEYXRlKDIwMTQsIDYsIDIpXG4gKiAgICkgLy89PiAnNiBtb250aHMnXG4gKlxuICogICAvLyB2Mi4wLjAgb253YXJkXG4gKlxuICogICBmb3JtYXREaXN0YW5jZVN0cmljdChcbiAqICAgICBuZXcgRGF0ZSgyMDE0LCA2LCAyKSxcbiAqICAgICBuZXcgRGF0ZSgyMDE1LCAwLCAyKVxuICogICApIC8vPT4gJzYgbW9udGhzJ1xuICogICBgYGBcbiAqXG4gKiAtIGBwYXJ0aWFsTWV0aG9kYCBvcHRpb24gaXMgcmVuYW1lZCB0byBgcm91bmRpbmdNZXRob2RgLlxuICpcbiAqICAgYGBgamF2YXNjcmlwdFxuICogICAvLyBCZWZvcmUgdjIuMC4wXG4gKlxuICogICBkaXN0YW5jZUluV29yZHNTdHJpY3QoXG4gKiAgICAgbmV3IERhdGUoMTk4NiwgMywgNCwgMTAsIDMyLCAwKSxcbiAqICAgICBuZXcgRGF0ZSgxOTg2LCAzLCA0LCAxMCwgMzMsIDEpLFxuICogICAgIHsgcGFydGlhbE1ldGhvZDogJ2NlaWwnIH1cbiAqICAgKSAvLz0+ICcyIG1pbnV0ZXMnXG4gKlxuICogICAvLyB2Mi4wLjAgb253YXJkXG4gKlxuICogICBmb3JtYXREaXN0YW5jZVN0cmljdChcbiAqICAgICBuZXcgRGF0ZSgxOTg2LCAzLCA0LCAxMCwgMzMsIDEpLFxuICogICAgIG5ldyBEYXRlKDE5ODYsIDMsIDQsIDEwLCAzMiwgMCksXG4gKiAgICAgeyByb3VuZGluZ01ldGhvZDogJ2NlaWwnIH1cbiAqICAgKSAvLz0+ICcyIG1pbnV0ZXMnXG4gKiAgIGBgYFxuICpcbiAqIC0gSWYgYHJvdW5kaW5nTWV0aG9kYCBpcyBub3Qgc3BlY2lmaWVkLCBpdCBub3cgZGVmYXVsdHMgdG8gYHJvdW5kYCBpbnN0ZWFkIG9mIGBmbG9vcmAuXG4gKlxuICogLSBgdW5pdGAgb3B0aW9uIG5vdyBhY2NlcHRzIG9uZSBvZiB0aGUgc3RyaW5nczpcbiAqICAgJ3NlY29uZCcsICdtaW51dGUnLCAnaG91cicsICdkYXknLCAnbW9udGgnIG9yICd5ZWFyJyBpbnN0ZWFkIG9mICdzJywgJ20nLCAnaCcsICdkJywgJ00nIG9yICdZJ1xuICpcbiAqICAgYGBgamF2YXNjcmlwdFxuICogICAvLyBCZWZvcmUgdjIuMC4wXG4gKlxuICogICBkaXN0YW5jZUluV29yZHNTdHJpY3QoXG4gKiAgICAgbmV3IERhdGUoMTk4NiwgMywgNCwgMTAsIDMyLCAwKSxcbiAqICAgICBuZXcgRGF0ZSgxOTg2LCAzLCA0LCAxMCwgMzMsIDEpLFxuICogICAgIHsgdW5pdDogJ20nIH1cbiAqICAgKVxuICpcbiAqICAgLy8gdjIuMC4wIG9ud2FyZFxuICpcbiAqICAgZm9ybWF0RGlzdGFuY2VTdHJpY3QoXG4gKiAgICAgbmV3IERhdGUoMTk4NiwgMywgNCwgMTAsIDMzLCAxKSxcbiAqICAgICBuZXcgRGF0ZSgxOTg2LCAzLCA0LCAxMCwgMzIsIDApLFxuICogICAgIHsgdW5pdDogJ21pbnV0ZScgfVxuICogICApXG4gKiAgIGBgYFxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgZGF0ZVxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gYmFzZURhdGUgLSB0aGUgZGF0ZSB0byBjb21wYXJlIHdpdGhcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5hZGRTdWZmaXg9ZmFsc2VdIC0gcmVzdWx0IGluZGljYXRlcyBpZiB0aGUgc2Vjb25kIGRhdGUgaXMgZWFybGllciBvciBsYXRlciB0aGFuIHRoZSBmaXJzdFxuICogQHBhcmFtIHsnc2Vjb25kJ3wnbWludXRlJ3wnaG91cid8J2RheSd8J21vbnRoJ3wneWVhcid9IFtvcHRpb25zLnVuaXRdIC0gaWYgc3BlY2lmaWVkLCB3aWxsIGZvcmNlIGEgdW5pdFxuICogQHBhcmFtIHsnZmxvb3InfCdjZWlsJ3wncm91bmQnfSBbb3B0aW9ucy5yb3VuZGluZ01ldGhvZD0ncm91bmQnXSAtIHdoaWNoIHdheSB0byByb3VuZCBwYXJ0aWFsIHVuaXRzXG4gKiBAcGFyYW0ge0xvY2FsZX0gW29wdGlvbnMubG9jYWxlPWRlZmF1bHRMb2NhbGVdIC0gdGhlIGxvY2FsZSBvYmplY3QuIFNlZSBbTG9jYWxlXXtAbGluayBodHRwczovL2RhdGUtZm5zLm9yZy9kb2NzL0xvY2FsZX1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IHRoZSBkaXN0YW5jZSBpbiB3b3Jkc1xuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gYGRhdGVgIG11c3Qgbm90IGJlIEludmFsaWQgRGF0ZVxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gYGJhc2VEYXRlYCBtdXN0IG5vdCBiZSBJbnZhbGlkIERhdGVcbiAqIEB0aHJvd3Mge1JhbmdlRXJyb3J9IGBvcHRpb25zLnJvdW5kaW5nTWV0aG9kYCBtdXN0IGJlICdmbG9vcicsICdjZWlsJyBvciAncm91bmQnXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBgb3B0aW9ucy51bml0YCBtdXN0IGJlICdzZWNvbmQnLCAnbWludXRlJywgJ2hvdXInLCAnZGF5JywgJ21vbnRoJyBvciAneWVhcidcbiAqIEB0aHJvd3Mge1JhbmdlRXJyb3J9IGBvcHRpb25zLmxvY2FsZWAgbXVzdCBjb250YWluIGBmb3JtYXREaXN0YW5jZWAgcHJvcGVydHlcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gV2hhdCBpcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiAyIEp1bHkgMjAxNCBhbmQgMSBKYW51YXJ5IDIwMTU/XG4gKiB2YXIgcmVzdWx0ID0gZm9ybWF0RGlzdGFuY2VTdHJpY3QobmV3IERhdGUoMjAxNCwgNiwgMiksIG5ldyBEYXRlKDIwMTUsIDAsIDIpKVxuICogLy89PiAnNiBtb250aHMnXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoYXQgaXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gMSBKYW51YXJ5IDIwMTUgMDA6MDA6MTVcbiAqIC8vIGFuZCAxIEphbnVhcnkgMjAxNSAwMDowMDowMD9cbiAqIHZhciByZXN1bHQgPSBmb3JtYXREaXN0YW5jZVN0cmljdChcbiAqICAgbmV3IERhdGUoMjAxNSwgMCwgMSwgMCwgMCwgMTUpLFxuICogICBuZXcgRGF0ZSgyMDE1LCAwLCAxLCAwLCAwLCAwKVxuICogKVxuICogLy89PiAnMTUgc2Vjb25kcydcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gV2hhdCBpcyB0aGUgZGlzdGFuY2UgZnJvbSAxIEphbnVhcnkgMjAxNlxuICogLy8gdG8gMSBKYW51YXJ5IDIwMTUsIHdpdGggYSBzdWZmaXg/XG4gKiB2YXIgcmVzdWx0ID0gZm9ybWF0RGlzdGFuY2VTdHJpY3QobmV3IERhdGUoMjAxNSwgMCwgMSksIG5ldyBEYXRlKDIwMTYsIDAsIDEpLCB7XG4gKiAgIGFkZFN1ZmZpeDogdHJ1ZVxuICogfSlcbiAqIC8vPT4gJzEgeWVhciBhZ28nXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoYXQgaXMgdGhlIGRpc3RhbmNlIGZyb20gMSBKYW51YXJ5IDIwMTZcbiAqIC8vIHRvIDEgSmFudWFyeSAyMDE1LCBpbiBtaW51dGVzP1xuICogdmFyIHJlc3VsdCA9IGZvcm1hdERpc3RhbmNlU3RyaWN0KG5ldyBEYXRlKDIwMTYsIDAsIDEpLCBuZXcgRGF0ZSgyMDE1LCAwLCAxKSwge1xuICogICB1bml0OiAnbWludXRlJ1xuICogfSlcbiAqIC8vPT4gJzUyNTYwMCBtaW51dGVzJ1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBXaGF0IGlzIHRoZSBkaXN0YW5jZSBmcm9tIDEgSmFudWFyeSAyMDE1XG4gKiAvLyB0byAyOCBKYW51YXJ5IDIwMTUsIGluIG1vbnRocywgcm91bmRlZCB1cD9cbiAqIHZhciByZXN1bHQgPSBmb3JtYXREaXN0YW5jZVN0cmljdChuZXcgRGF0ZSgyMDE1LCAwLCAyOCksIG5ldyBEYXRlKDIwMTUsIDAsIDEpLCB7XG4gKiAgIHVuaXQ6ICdtb250aCcsXG4gKiAgIHJvdW5kaW5nTWV0aG9kOiAnY2VpbCdcbiAqIH0pXG4gKiAvLz0+ICcxIG1vbnRoJ1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBXaGF0IGlzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIDEgQXVndXN0IDIwMTYgYW5kIDEgSmFudWFyeSAyMDE1IGluIEVzcGVyYW50bz9cbiAqIGltcG9ydCB7IGVvTG9jYWxlIH0gZnJvbSAnZGF0ZS1mbnMvbG9jYWxlL2VvJ1xuICogdmFyIHJlc3VsdCA9IGZvcm1hdERpc3RhbmNlU3RyaWN0KG5ldyBEYXRlKDIwMTYsIDcsIDEpLCBuZXcgRGF0ZSgyMDE1LCAwLCAxKSwge1xuICogICBsb2NhbGU6IGVvTG9jYWxlXG4gKiB9KVxuICogLy89PiAnMSBqYXJvJ1xuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZvcm1hdERpc3RhbmNlU3RyaWN0KGRpcnR5RGF0ZSwgZGlydHlCYXNlRGF0ZSwgZGlydHlPcHRpb25zKSB7XG4gIHJlcXVpcmVkQXJncygyLCBhcmd1bWVudHMpO1xuICB2YXIgb3B0aW9ucyA9IGRpcnR5T3B0aW9ucyB8fCB7fTtcbiAgdmFyIGxvY2FsZSA9IG9wdGlvbnMubG9jYWxlIHx8IGRlZmF1bHRMb2NhbGU7XG5cbiAgaWYgKCFsb2NhbGUuZm9ybWF0RGlzdGFuY2UpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignbG9jYWxlIG11c3QgY29udGFpbiBsb2NhbGl6ZS5mb3JtYXREaXN0YW5jZSBwcm9wZXJ0eScpO1xuICB9XG5cbiAgdmFyIGNvbXBhcmlzb24gPSBjb21wYXJlQXNjKGRpcnR5RGF0ZSwgZGlydHlCYXNlRGF0ZSk7XG5cbiAgaWYgKGlzTmFOKGNvbXBhcmlzb24pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgdGltZSB2YWx1ZScpO1xuICB9XG5cbiAgdmFyIGxvY2FsaXplT3B0aW9ucyA9IGNsb25lT2JqZWN0KG9wdGlvbnMpO1xuICBsb2NhbGl6ZU9wdGlvbnMuYWRkU3VmZml4ID0gQm9vbGVhbihvcHRpb25zLmFkZFN1ZmZpeCk7XG4gIGxvY2FsaXplT3B0aW9ucy5jb21wYXJpc29uID0gY29tcGFyaXNvbjtcbiAgdmFyIGRhdGVMZWZ0O1xuICB2YXIgZGF0ZVJpZ2h0O1xuXG4gIGlmIChjb21wYXJpc29uID4gMCkge1xuICAgIGRhdGVMZWZ0ID0gdG9EYXRlKGRpcnR5QmFzZURhdGUpO1xuICAgIGRhdGVSaWdodCA9IHRvRGF0ZShkaXJ0eURhdGUpO1xuICB9IGVsc2Uge1xuICAgIGRhdGVMZWZ0ID0gdG9EYXRlKGRpcnR5RGF0ZSk7XG4gICAgZGF0ZVJpZ2h0ID0gdG9EYXRlKGRpcnR5QmFzZURhdGUpO1xuICB9XG5cbiAgdmFyIHJvdW5kaW5nTWV0aG9kID0gb3B0aW9ucy5yb3VuZGluZ01ldGhvZCA9PSBudWxsID8gJ3JvdW5kJyA6IFN0cmluZyhvcHRpb25zLnJvdW5kaW5nTWV0aG9kKTtcbiAgdmFyIHJvdW5kaW5nTWV0aG9kRm47XG5cbiAgaWYgKHJvdW5kaW5nTWV0aG9kID09PSAnZmxvb3InKSB7XG4gICAgcm91bmRpbmdNZXRob2RGbiA9IE1hdGguZmxvb3I7XG4gIH0gZWxzZSBpZiAocm91bmRpbmdNZXRob2QgPT09ICdjZWlsJykge1xuICAgIHJvdW5kaW5nTWV0aG9kRm4gPSBNYXRoLmNlaWw7XG4gIH0gZWxzZSBpZiAocm91bmRpbmdNZXRob2QgPT09ICdyb3VuZCcpIHtcbiAgICByb3VuZGluZ01ldGhvZEZuID0gTWF0aC5yb3VuZDtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInJvdW5kaW5nTWV0aG9kIG11c3QgYmUgJ2Zsb29yJywgJ2NlaWwnIG9yICdyb3VuZCdcIik7XG4gIH1cblxuICB2YXIgc2Vjb25kcyA9IGRpZmZlcmVuY2VJblNlY29uZHMoZGF0ZVJpZ2h0LCBkYXRlTGVmdCk7XG4gIHZhciBvZmZzZXRJblNlY29uZHMgPSAoZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcyhkYXRlUmlnaHQpIC0gZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcyhkYXRlTGVmdCkpIC8gMTAwMDtcbiAgdmFyIG1pbnV0ZXMgPSByb3VuZGluZ01ldGhvZEZuKChzZWNvbmRzIC0gb2Zmc2V0SW5TZWNvbmRzKSAvIDYwKTtcbiAgdmFyIHVuaXQ7XG5cbiAgaWYgKG9wdGlvbnMudW5pdCA9PSBudWxsKSB7XG4gICAgaWYgKG1pbnV0ZXMgPCAxKSB7XG4gICAgICB1bml0ID0gJ3NlY29uZCc7XG4gICAgfSBlbHNlIGlmIChtaW51dGVzIDwgNjApIHtcbiAgICAgIHVuaXQgPSAnbWludXRlJztcbiAgICB9IGVsc2UgaWYgKG1pbnV0ZXMgPCBNSU5VVEVTX0lOX0RBWSkge1xuICAgICAgdW5pdCA9ICdob3VyJztcbiAgICB9IGVsc2UgaWYgKG1pbnV0ZXMgPCBNSU5VVEVTX0lOX01PTlRIKSB7XG4gICAgICB1bml0ID0gJ2RheSc7XG4gICAgfSBlbHNlIGlmIChtaW51dGVzIDwgTUlOVVRFU19JTl9ZRUFSKSB7XG4gICAgICB1bml0ID0gJ21vbnRoJztcbiAgICB9IGVsc2Uge1xuICAgICAgdW5pdCA9ICd5ZWFyJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdW5pdCA9IFN0cmluZyhvcHRpb25zLnVuaXQpO1xuICB9IC8vIDAgdXAgdG8gNjAgc2Vjb25kc1xuXG5cbiAgaWYgKHVuaXQgPT09ICdzZWNvbmQnKSB7XG4gICAgcmV0dXJuIGxvY2FsZS5mb3JtYXREaXN0YW5jZSgneFNlY29uZHMnLCBzZWNvbmRzLCBsb2NhbGl6ZU9wdGlvbnMpOyAvLyAxIHVwIHRvIDYwIG1pbnNcbiAgfSBlbHNlIGlmICh1bml0ID09PSAnbWludXRlJykge1xuICAgIHJldHVybiBsb2NhbGUuZm9ybWF0RGlzdGFuY2UoJ3hNaW51dGVzJywgbWludXRlcywgbG9jYWxpemVPcHRpb25zKTsgLy8gMSB1cCB0byAyNCBob3Vyc1xuICB9IGVsc2UgaWYgKHVuaXQgPT09ICdob3VyJykge1xuICAgIHZhciBob3VycyA9IHJvdW5kaW5nTWV0aG9kRm4obWludXRlcyAvIDYwKTtcbiAgICByZXR1cm4gbG9jYWxlLmZvcm1hdERpc3RhbmNlKCd4SG91cnMnLCBob3VycywgbG9jYWxpemVPcHRpb25zKTsgLy8gMSB1cCB0byAzMCBkYXlzXG4gIH0gZWxzZSBpZiAodW5pdCA9PT0gJ2RheScpIHtcbiAgICB2YXIgZGF5cyA9IHJvdW5kaW5nTWV0aG9kRm4obWludXRlcyAvIE1JTlVURVNfSU5fREFZKTtcbiAgICByZXR1cm4gbG9jYWxlLmZvcm1hdERpc3RhbmNlKCd4RGF5cycsIGRheXMsIGxvY2FsaXplT3B0aW9ucyk7IC8vIDEgdXAgdG8gMTIgbW9udGhzXG4gIH0gZWxzZSBpZiAodW5pdCA9PT0gJ21vbnRoJykge1xuICAgIHZhciBtb250aHMgPSByb3VuZGluZ01ldGhvZEZuKG1pbnV0ZXMgLyBNSU5VVEVTX0lOX01PTlRIKTtcbiAgICByZXR1cm4gbG9jYWxlLmZvcm1hdERpc3RhbmNlKCd4TW9udGhzJywgbW9udGhzLCBsb2NhbGl6ZU9wdGlvbnMpOyAvLyAxIHllYXIgdXAgdG8gbWF4IERhdGVcbiAgfSBlbHNlIGlmICh1bml0ID09PSAneWVhcicpIHtcbiAgICB2YXIgeWVhcnMgPSByb3VuZGluZ01ldGhvZEZuKG1pbnV0ZXMgLyBNSU5VVEVTX0lOX1lFQVIpO1xuICAgIHJldHVybiBsb2NhbGUuZm9ybWF0RGlzdGFuY2UoJ3hZZWFycycsIHllYXJzLCBsb2NhbGl6ZU9wdGlvbnMpO1xuICB9XG5cbiAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJ1bml0IG11c3QgYmUgJ3NlY29uZCcsICdtaW51dGUnLCAnaG91cicsICdkYXknLCAnbW9udGgnIG9yICd5ZWFyJ1wiKTtcbn0iLCJpbXBvcnQgdG9EYXRlIGZyb20gJy4uL3RvRGF0ZS9pbmRleC5qcyc7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gJy4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzJztcbi8qKlxuICogQG5hbWUgc3RhcnRPZkRheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgZGF5IGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSBkYXkgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiAjIyMgdjIuMC4wIGJyZWFraW5nIGNoYW5nZXM6XG4gKlxuICogLSBbQ2hhbmdlcyB0aGF0IGFyZSBjb21tb24gZm9yIHRoZSB3aG9sZSBsaWJyYXJ5XShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91cGdyYWRlR3VpZGUubWQjQ29tbW9uLUNoYW5nZXMpLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgb3JpZ2luYWwgZGF0ZVxuICogQHJldHVybnMge0RhdGV9IHRoZSBzdGFydCBvZiBhIGRheVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhIGRheSBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIHZhciByZXN1bHQgPSBzdGFydE9mRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IFR1ZSBTZXAgMDIgMjAxNCAwMDowMDowMFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0YXJ0T2ZEYXkoZGlydHlEYXRlKSB7XG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICB2YXIgZGF0ZSA9IHRvRGF0ZShkaXJ0eURhdGUpO1xuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gZGF0ZTtcbn0iLCJpbXBvcnQgZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcyBmcm9tICcuLi9fbGliL2dldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMvaW5kZXguanMnO1xuaW1wb3J0IHN0YXJ0T2ZEYXkgZnJvbSAnLi4vc3RhcnRPZkRheS9pbmRleC5qcyc7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gJy4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzJztcbnZhciBNSUxMSVNFQ09ORFNfSU5fREFZID0gODY0MDAwMDA7XG4vKipcbiAqIEBuYW1lIGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5c1xuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBHZXQgdGhlIG51bWJlciBvZiBjYWxlbmRhciBkYXlzIGJldHdlZW4gdGhlIGdpdmVuIGRhdGVzLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogR2V0IHRoZSBudW1iZXIgb2YgY2FsZW5kYXIgZGF5cyBiZXR3ZWVuIHRoZSBnaXZlbiBkYXRlcy4gVGhpcyBtZWFucyB0aGF0IHRoZSB0aW1lcyBhcmUgcmVtb3ZlZFxuICogZnJvbSB0aGUgZGF0ZXMgYW5kIHRoZW4gdGhlIGRpZmZlcmVuY2UgaW4gZGF5cyBpcyBjYWxjdWxhdGVkLlxuICpcbiAqICMjIyB2Mi4wLjAgYnJlYWtpbmcgY2hhbmdlczpcbiAqXG4gKiAtIFtDaGFuZ2VzIHRoYXQgYXJlIGNvbW1vbiBmb3IgdGhlIHdob2xlIGxpYnJhcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNDb21tb24tQ2hhbmdlcykuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZUxlZnQgLSB0aGUgbGF0ZXIgZGF0ZVxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZVJpZ2h0IC0gdGhlIGVhcmxpZXIgZGF0ZVxuICogQHJldHVybnMge051bWJlcn0gdGhlIG51bWJlciBvZiBjYWxlbmRhciBkYXlzXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDIgYXJndW1lbnRzIHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEhvdyBtYW55IGNhbGVuZGFyIGRheXMgYXJlIGJldHdlZW5cbiAqIC8vIDIgSnVseSAyMDExIDIzOjAwOjAwIGFuZCAyIEp1bHkgMjAxMiAwMDowMDowMD9cbiAqIHZhciByZXN1bHQgPSBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMoXG4gKiAgIG5ldyBEYXRlKDIwMTIsIDYsIDIsIDAsIDApLFxuICogICBuZXcgRGF0ZSgyMDExLCA2LCAyLCAyMywgMClcbiAqIClcbiAqIC8vPT4gMzY2XG4gKiAvLyBIb3cgbWFueSBjYWxlbmRhciBkYXlzIGFyZSBiZXR3ZWVuXG4gKiAvLyAyIEp1bHkgMjAxMSAyMzo1OTowMCBhbmQgMyBKdWx5IDIwMTEgMDA6MDE6MDA/XG4gKiB2YXIgcmVzdWx0ID0gZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKFxuICogICBuZXcgRGF0ZSgyMDExLCA2LCAzLCAwLCAxKSxcbiAqICAgbmV3IERhdGUoMjAxMSwgNiwgMiwgMjMsIDU5KVxuICogKVxuICogLy89PiAxXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKGRpcnR5RGF0ZUxlZnQsIGRpcnR5RGF0ZVJpZ2h0KSB7XG4gIHJlcXVpcmVkQXJncygyLCBhcmd1bWVudHMpO1xuICB2YXIgc3RhcnRPZkRheUxlZnQgPSBzdGFydE9mRGF5KGRpcnR5RGF0ZUxlZnQpO1xuICB2YXIgc3RhcnRPZkRheVJpZ2h0ID0gc3RhcnRPZkRheShkaXJ0eURhdGVSaWdodCk7XG4gIHZhciB0aW1lc3RhbXBMZWZ0ID0gc3RhcnRPZkRheUxlZnQuZ2V0VGltZSgpIC0gZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcyhzdGFydE9mRGF5TGVmdCk7XG4gIHZhciB0aW1lc3RhbXBSaWdodCA9IHN0YXJ0T2ZEYXlSaWdodC5nZXRUaW1lKCkgLSBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzKHN0YXJ0T2ZEYXlSaWdodCk7IC8vIFJvdW5kIHRoZSBudW1iZXIgb2YgZGF5cyB0byB0aGUgbmVhcmVzdCBpbnRlZ2VyXG4gIC8vIGJlY2F1c2UgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaW4gYSBkYXkgaXMgbm90IGNvbnN0YW50XG4gIC8vIChlLmcuIGl0J3MgZGlmZmVyZW50IGluIHRoZSBkYXkgb2YgdGhlIGRheWxpZ2h0IHNhdmluZyB0aW1lIGNsb2NrIHNoaWZ0KVxuXG4gIHJldHVybiBNYXRoLnJvdW5kKCh0aW1lc3RhbXBMZWZ0IC0gdGltZXN0YW1wUmlnaHQpIC8gTUlMTElTRUNPTkRTX0lOX0RBWSk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCBmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0IGZyb20gXCJkYXRlLWZucy9mb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0XCI7XG5pbXBvcnQgZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzIGZyb20gJ2RhdGUtZm5zL2RpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyc7XG5cbmNvbnN0IGdyb3VwQ29udGFpbmVyID0gKCgpID0+IHtcbiAgY29uc3QgX2N1c3RvbUdyb3VwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY3VzdG9tLWdyb3Vwcy1jb250YWluZXJcIik7XG5cbiAgY29uc3QgX2NsZWFyID0gKCkgPT4ge1xuICAgIHdoaWxlIChfY3VzdG9tR3JvdXBzLmZpcnN0Q2hpbGQpIHtcbiAgICAgIF9jdXN0b21Hcm91cHMucmVtb3ZlQ2hpbGQoX2N1c3RvbUdyb3Vwcy5maXJzdENoaWxkKTtcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlciA9IChsaXN0KSA9PiB7XG4gICAgX2NsZWFyKCk7XG4gICAgT2JqZWN0LmtleXMobGlzdCkuZm9yRWFjaChncm91cCA9PiB7XG4gICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gICAgICBidXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBgR3JvdXAgbmFtZTogJHtncm91cH1gKTtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY3VzdG9tLWdyb3VwXCIsIFwiZm9jdXNhYmxlXCIsIFwiZ3JvdXAtYnRuXCIpO1xuICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gZ3JvdXA7XG4gICAgICBfY3VzdG9tR3JvdXBzLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHtyZW5kZXJ9XG59KSgpO1xuXG5jb25zdCB0YXNrQ29udGFpbmVyID0gKCgpID0+IHtcbiAgY29uc3QgX3Rhc2tIZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlbGVjdGVkLWdyb3VwXCIpO1xuICBjb25zdCBfdGFza3NMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWNvbnRhaW5lclwiKTtcblxuICBjb25zdCBfY2xlYXIgPSAoKSA9PiB7XG4gICAgd2hpbGUgKF90YXNrc0xpc3QuZmlyc3RDaGlsZCkge1xuICAgICAgX3Rhc2tzTGlzdC5yZW1vdmVDaGlsZChfdGFza3NMaXN0LmZpcnN0Q2hpbGQpO1xuICAgIH07XG4gIH07XG5cbiAgY29uc3QgX2Zvcm1hdHRlZERhdGUgPSAoZGF0ZSkgPT4ge1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKChkYXRlKS5zcGxpdChcIi1cIikuam9pbihcIiwgXCIpKTtcbiAgXG4gICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICBjYXNlIGRhdGUgPT09IFwiXCI6XG4gICAgICAgIHJldHVybiBcIk5vIGR1ZSBkYXRlXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMobmV3RGF0ZSwgbm93KSA8IDA6XG4gICAgICAgIHJldHVybiBcIkR1ZSBkYXRlIHBhc3NlZFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKG5ld0RhdGUsIG5vdykgPT09IDA6XG4gICAgICAgIHJldHVybiBcIlRvZGF5XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMobmV3RGF0ZSwgbm93KSA9PT0gMTpcbiAgICAgICAgcmV0dXJuIFwiVG9tb3Jyb3dcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZm9ybWF0RGlzdGFuY2VUb05vd1N0cmljdChuZXdEYXRlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBfcmVuZGVyID0gKHRhc2ssIGdyb3VwLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IHRhc2tJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIik7XG4gICAgdGFza0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1ncm91cFwiLCBncm91cCk7XG4gICAgdGFza0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiLCBpbmRleCk7XG4gICAgdGFza0l0ZW0uY2xhc3NOYW1lID0gXCJ0YXNrLWl0ZW1cIjtcblxuICAgIGNvbnN0IHByaW9yaXR5Qm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgcHJpb3JpdHlCb3guc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBgJHt0YXNrLnByaW9yaXR5fSB0YXNrYCk7XG4gICAgcHJpb3JpdHlCb3guY2xhc3NOYW1lID0gXCJ0YXNrLXByaW9yaXR5XCJcbiAgICBpZiAodGFzay5wcmlvcml0eSA9PT0gXCJJbXBvcnRhbnRcIikge1xuICAgICAgY29uc3QgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgaWNvbi5jbGFzc05hbWUgPSBcIm1hdGVyaWFsLWljb25zXCI7XG4gICAgICBpY29uLnRleHRDb250ZW50ID0gXCJwcmlvcml0eV9oaWdoXCI7XG4gICAgICBwcmlvcml0eUJveC5hcHBlbmRDaGlsZChpY29uKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc3RhdHVzQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgc3RhdHVzQm94LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJjaGVja2JveFwiKTtcbiAgICBzdGF0dXNCb3guc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgc3RhdHVzQm94LnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsIFwiMFwiKTtcbiAgICBzdGF0dXNCb3guc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCB0YXNrLnRhc2tOYW1lKTtcbiAgICBzdGF0dXNCb3guY2xhc3NMaXN0LmFkZChcInRhc2stc3RhdHVzXCIsIFwiZm9jdXNhYmxlXCIpO1xuICAgIGlmICh0YXNrLmNvbXBsZXRlZCkge1xuICAgICAgc3RhdHVzQm94LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFxuICAgICAgXCJ1cmwoYXNzZXRzL2ltYWdlcy9pY29ucy9kb25lLWJsYWNrLTI0ZHAuc3ZnKVwiO1xuICAgIH07XG5cbiAgICBjb25zdCBuYW1lRmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBuYW1lRmllbGQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImJ1dHRvblwiKTtcbiAgICBuYW1lRmllbGQuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwgXCIwXCIpO1xuICAgIG5hbWVGaWVsZC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIGBEZXRhaWxzIGZvciAke3Rhc2sudGFza05hbWV9YCk7XG4gICAgbmFtZUZpZWxkLmNsYXNzTGlzdC5hZGQoXCJ0YXNrLW5hbWVcIiwgXCJmb2N1c2FibGVcIik7XG4gICAgbmFtZUZpZWxkLnRleHRDb250ZW50ID0gdGFzay50YXNrTmFtZTtcblxuICAgIGNvbnN0IGRhdGVGaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGRhdGVGaWVsZC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIFxuICAgICAgICBgRHVlIGRhdGUgZm9yIHRhc2sgJHt0YXNrLnRhc2tOYW1lfTogJHt0YXNrLmR1ZURhdGV9YCk7XG4gICAgZGF0ZUZpZWxkLmNsYXNzTmFtZSA9IFwidGFzay1kYXRlXCI7XG4gICAgZGF0ZUZpZWxkLnRleHRDb250ZW50ID0gX2Zvcm1hdHRlZERhdGUodGFzay5kdWVEYXRlKTtcblxuICAgIGNvbnN0IGRldGFpbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRldGFpbHMuc2V0QXR0cmlidXRlKFwiZGF0YS10YXNrXCIsIHRhc2sudGFza05hbWUpO1xuICAgIGRldGFpbHMuc2V0QXR0cmlidXRlKFwiZGF0YS1ncm91cFwiLCBncm91cCk7XG4gICAgZGV0YWlscy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIsIGluZGV4KTtcbiAgICBkZXRhaWxzLmNsYXNzTmFtZSA9IFwidGFzay1kZXRhaWxzXCI7XG5cbiAgICBjb25zdCBub3Rlc0ZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgbm90ZXNGaWVsZC5jbGFzc05hbWUgPSBcInRhc2stbm90ZXNcIjtcbiAgICBub3Rlc0ZpZWxkLnRleHRDb250ZW50ID0gdGFzay5ub3RlcztcblxuICAgIGNvbnN0IGVkaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGVkaXRCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcbiAgICBlZGl0QnRuLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgYEVkaXQgdGFzayAke3Rhc2sudGFza05hbWV9YCk7XG4gICAgZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKFwiZWRpdC1idG5cIiwgXCJmb2N1c2FibGVcIik7XG4gICAgZWRpdEJ0bi50ZXh0Q29udGVudCA9IFwiRURJVFwiO1xuXG4gICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBkZWxldGVCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcbiAgICBkZWxldGVCdG4uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBgRGVsZXRlIHRhc2sgJHt0YXNrLnRhc2tOYW1lfWApO1xuICAgIGRlbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKFwiZGVsZXRlLWJ0blwiLCBcImZvY3VzYWJsZVwiKTtcbiAgICBkZWxldGVCdG4udGV4dENvbnRlbnQgPSBcIkRFTEVURVwiO1xuXG4gICAgZGV0YWlscy5hcHBlbmRDaGlsZChub3Rlc0ZpZWxkKTtcbiAgICBkZXRhaWxzLmFwcGVuZENoaWxkKGVkaXRCdG4pO1xuICAgIGRldGFpbHMuYXBwZW5kQ2hpbGQoZGVsZXRlQnRuKTtcbiAgICB0YXNrSXRlbS5hcHBlbmRDaGlsZChwcmlvcml0eUJveCk7XG4gICAgdGFza0l0ZW0uYXBwZW5kQ2hpbGQoc3RhdHVzQm94KTtcbiAgICB0YXNrSXRlbS5hcHBlbmRDaGlsZChuYW1lRmllbGQpO1xuICAgIHRhc2tJdGVtLmFwcGVuZENoaWxkKGRhdGVGaWVsZCk7XG4gICAgdGFza0l0ZW0uYXBwZW5kQ2hpbGQoZGV0YWlscyk7XG4gICAgX3Rhc2tzTGlzdC5hcHBlbmRDaGlsZCh0YXNrSXRlbSk7XG4gIH07XG5cbiAgY29uc3QgbG9hZEdyb3VwVGFza3MgPSAobGlzdCwgdGFyZ2V0KSA9PiB7XG4gICAgY29uc3Qga2V5QXJyYXkgPSBPYmplY3Qua2V5cyhsaXN0KTtcbiAgICBfY2xlYXIoKTtcbiAgICBzd2l0Y2ggKHRhcmdldCkge1xuICAgICAgY2FzZSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImltcG9ydGFudFwiKTpcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhsaXN0KS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGl0ZW1baV0ucHJpb3JpdHkgPT09IFwiSW1wb3J0YW50XCIpIHtcbiAgICAgICAgICAgICAgX3JlbmRlcihpdGVtW2ldLCBrZXlBcnJheVtpbmRleF0sIGkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsaXN0W3RhcmdldC50ZXh0Q29udGVudF0uZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICBfcmVuZGVyKGl0ZW0sIHRhcmdldC50ZXh0Q29udGVudCwgaW5kZXgpO1xuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgfTtcbiAgICBpZiAoX3Rhc2tzTGlzdC5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IGgyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgICAgaDIudGV4dENvbnRlbnQgPSBcIk5vIHRhc2tzIGZvciB0aGlzIGdyb3VwIVwiO1xuICAgICAgX3Rhc2tzTGlzdC5hcHBlbmRDaGlsZChoMik7XG4gICAgfTtcbiAgfTtcblxuICBjb25zdCB1cGRhdGVIZWFkZXIgPSAodGFyZ2V0KSA9PiB7XG4gICAgX3Rhc2tIZWFkZXIudGV4dENvbnRlbnQgPSB0YXJnZXQudGV4dENvbnRlbnQ7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBsb2FkR3JvdXBUYXNrcyxcbiAgICB1cGRhdGVIZWFkZXJcbiAgfVxufSkoKTtcblxuZXhwb3J0IHsgZ3JvdXBDb250YWluZXIsIHRhc2tDb250YWluZXIgfSIsImltcG9ydCBkaXN0YW5jZUluU3RyaWN0V29yZHMgZnJvbSAnLi4vZm9ybWF0RGlzdGFuY2VTdHJpY3QvaW5kZXguanMnO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tICcuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qcyc7XG4vKipcbiAqIEBuYW1lIGZvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3RcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBnaXZlbiBkYXRlIGFuZCBub3cgaW4gd29yZHMuXG4gKiBAcHVyZSBmYWxzZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBnaXZlbiBkYXRlcyBpbiB3b3JkcywgdXNpbmcgc3RyaWN0IHVuaXRzLlxuICogVGhpcyBpcyBsaWtlIGBmb3JtYXREaXN0YW5jZWAsIGJ1dCBkb2VzIG5vdCB1c2UgaGVscGVycyBsaWtlICdhbG1vc3QnLCAnb3ZlcicsXG4gKiAnbGVzcyB0aGFuJyBhbmQgdGhlIGxpa2UuXG4gKlxuICogfCBEaXN0YW5jZSBiZXR3ZWVuIGRhdGVzIHwgUmVzdWx0ICAgICAgICAgICAgICB8XG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwgMCAuLi4gNTkgc2VjcyAgICAgICAgICB8IFswLi41OV0gc2Vjb25kcyAgICAgfFxuICogfCAxIC4uLiA1OSBtaW5zICAgICAgICAgIHwgWzEuLjU5XSBtaW51dGVzICAgICB8XG4gKiB8IDEgLi4uIDIzIGhycyAgICAgICAgICAgfCBbMS4uMjNdIGhvdXJzICAgICAgIHxcbiAqIHwgMSAuLi4gMjkgZGF5cyAgICAgICAgICB8IFsxLi4yOV0gZGF5cyAgICAgICAgfFxuICogfCAxIC4uLiAxMSBtb250aHMgICAgICAgIHwgWzEuLjExXSBtb250aHMgICAgICB8XG4gKiB8IDEgLi4uIE4geWVhcnMgICAgICAgICAgfCBbMS4uTl0gIHllYXJzICAgICAgIHxcbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlIC0gdGhlIGdpdmVuIGRhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5hZGRTdWZmaXg9ZmFsc2VdIC0gcmVzdWx0IGluZGljYXRlcyBpZiB0aGUgc2Vjb25kIGRhdGUgaXMgZWFybGllciBvciBsYXRlciB0aGFuIHRoZSBmaXJzdFxuICogQHBhcmFtIHsnc2Vjb25kJ3wnbWludXRlJ3wnaG91cid8J2RheSd8J21vbnRoJ3wneWVhcid9IFtvcHRpb25zLnVuaXRdIC0gaWYgc3BlY2lmaWVkLCB3aWxsIGZvcmNlIGEgdW5pdFxuICogQHBhcmFtIHsnZmxvb3InfCdjZWlsJ3wncm91bmQnfSBbb3B0aW9ucy5yb3VuZGluZ01ldGhvZD0ncm91bmQnXSAtIHdoaWNoIHdheSB0byByb3VuZCBwYXJ0aWFsIHVuaXRzXG4gKiBAcGFyYW0ge0xvY2FsZX0gW29wdGlvbnMubG9jYWxlPWRlZmF1bHRMb2NhbGVdIC0gdGhlIGxvY2FsZSBvYmplY3QuIFNlZSBbTG9jYWxlXXtAbGluayBodHRwczovL2RhdGUtZm5zLm9yZy9kb2NzL0xvY2FsZX1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IHRoZSBkaXN0YW5jZSBpbiB3b3Jkc1xuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBgZGF0ZWAgbXVzdCBub3QgYmUgSW52YWxpZCBEYXRlXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBgb3B0aW9ucy5sb2NhbGVgIG11c3QgY29udGFpbiBgZm9ybWF0RGlzdGFuY2VgIHByb3BlcnR5XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRvZGF5IGlzIDEgSmFudWFyeSAyMDE1LCB3aGF0IGlzIHRoZSBkaXN0YW5jZSB0byAyIEp1bHkgMjAxND9cbiAqIHZhciByZXN1bHQgPSBmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0KFxuICogICBuZXcgRGF0ZSgyMDE0LCA2LCAyKVxuICogKVxuICogLy89PiAnNiBtb250aHMnXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIG5vdyBpcyAxIEphbnVhcnkgMjAxNSAwMDowMDowMCxcbiAqIC8vIHdoYXQgaXMgdGhlIGRpc3RhbmNlIHRvIDEgSmFudWFyeSAyMDE1IDAwOjAwOjE1LCBpbmNsdWRpbmcgc2Vjb25kcz9cbiAqIHZhciByZXN1bHQgPSBmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0KFxuICogICBuZXcgRGF0ZSgyMDE1LCAwLCAxLCAwLCAwLCAxNSlcbiAqIClcbiAqIC8vPT4gJzIwIHNlY29uZHMnXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRvZGF5IGlzIDEgSmFudWFyeSAyMDE1LFxuICogLy8gd2hhdCBpcyB0aGUgZGlzdGFuY2UgdG8gMSBKYW51YXJ5IDIwMTYsIHdpdGggYSBzdWZmaXg/XG4gKiB2YXIgcmVzdWx0ID0gZm9ybWF0RGlzdGFuY2VUb05vd1N0cmljdChcbiAqICAgbmV3IERhdGUoMjAxNiwgMCwgMSksXG4gKiAgIHthZGRTdWZmaXg6IHRydWV9XG4gKiApXG4gKiAvLz0+ICdpbiAxIHllYXInXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRvZGF5IGlzIDI4IEphbnVhcnkgMjAxNSxcbiAqIC8vIHdoYXQgaXMgdGhlIGRpc3RhbmNlIHRvIDEgSmFudWFyeSAyMDE1LCBpbiBtb250aHMsIHJvdW5kZWQgdXA/P1xuICogdmFyIHJlc3VsdCA9IGZvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3QobmV3IERhdGUoMjAxNSwgMCwgMSksIHtcbiAqICAgdW5pdDogJ21vbnRoJyxcbiAqICAgcm91bmRpbmdNZXRob2Q6ICdjZWlsJ1xuICogfSlcbiAqIC8vPT4gJzEgbW9udGgnXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRvZGF5IGlzIDEgSmFudWFyeSAyMDE1LFxuICogLy8gd2hhdCBpcyB0aGUgZGlzdGFuY2UgdG8gMSBBdWd1c3QgMjAxNiBpbiBFc3BlcmFudG8/XG4gKiB2YXIgZW9Mb2NhbGUgPSByZXF1aXJlKCdkYXRlLWZucy9sb2NhbGUvZW8nKVxuICogdmFyIHJlc3VsdCA9IGZvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3QoXG4gKiAgIG5ldyBEYXRlKDIwMTYsIDcsIDEpLFxuICogICB7bG9jYWxlOiBlb0xvY2FsZX1cbiAqIClcbiAqIC8vPT4gJzEgamFybydcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0KGRpcnR5RGF0ZSwgZGlydHlPcHRpb25zKSB7XG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICByZXR1cm4gZGlzdGFuY2VJblN0cmljdFdvcmRzKGRpcnR5RGF0ZSwgRGF0ZS5ub3coKSwgZGlydHlPcHRpb25zKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgZ2VuZXJhbE1vZGFsLCB0YXNrTW9kYWwgfSBmcm9tIFwiLi9tb2RhbHNcIjtcbmltcG9ydCB7IGdyb3VwQ29udGFpbmVyLCB0YXNrQ29udGFpbmVyIH0gZnJvbSBcIi4vcmVuZGVyLWNvbnRhaW5lcnNcIjtcblxuY29uc3QgRE9NID0gKCgpID0+IHtcbiAgY29uc3QgZGVmYXVsdEdyb3VwcyA9IFtcIkltcG9ydGFudFwiLCBcIk5leHQgNyBEYXlzXCIsIFwiTGF0ZXJcIiwgXCJFdmVudHVhbGx5XCJdO1xuICBjb25zdCBtb2RhbEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtYm94XCIpO1xuICBjb25zdCB0YXNrSGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWxlY3RlZC1ncm91cFwiKTtcblxuICByZXR1cm4ge1xuICAgIGRlZmF1bHRHcm91cHMsXG4gICAgbW9kYWxCb3gsXG4gICAgdGFza0hlYWRlclxuICB9XG59KSgpO1xuXG5jb25zdCB0b0RvID0gKCgpID0+IHtcbiAgY29uc3QgX2FjdGl2ZU9uTG9hZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW1wb3J0YW50XCIpO1xuXG4gIGNvbnN0IG1hc3Rlckxpc3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9Eby1saXN0XCIpKSB8fCBcbiAgICB7XG4gICAgICBFeGFtcGxlOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0YXNrTmFtZTogXCJEbyB0aGUgZGlzaGVzXCIsXG4gICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICBwcmlvcml0eTogXCJOb3JtYWxcIixcbiAgICAgICAgICBkdWVEYXRlOiBcIlwiLFxuICAgICAgICAgIG5vdGVzOlxuICAgICAgICAgICAgXCJMZXQgdGhlIHBhbnMgc29haywgcHV0IHRoZSBwbGF0ZXMgaW4gdGhlIGRpc2h3YXNoZXIsIHdhc2ggdGhlIG11Z3MgYnkgaGFuZC5cXG5cXG5XYXNoIHBhbnMgYWZ0ZXIgMzAgbWludXRlcyBzb2FraW5nLlwiLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGFza05hbWU6IFwiQnJpbmcgTXVmZmluIHRvIHZldFwiLFxuICAgICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgcHJpb3JpdHk6IFwiSW1wb3J0YW50XCIsXG4gICAgICAgICAgZHVlRGF0ZTogXCIyMDIxLTAzLTA1XCIsXG4gICAgICAgICAgbm90ZXM6IFwiUGFjayBoZXIgZmF2b3JpdGUgdG95IHNvIHNoZSBzdGF5cyBjYWxtLlwiLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9O1xuXG4gIGNvbnN0IHNhdmVUb0xvY2FsID0gKCkgPT4ge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidG9Eby1saXN0XCIsIEpTT04uc3RyaW5naWZ5KGxpc3QpKTtcbiAgfTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKGUpID0+IHtcbiAgICB0YXNrQ29udGFpbmVyLmxvYWRHcm91cFRhc2tzKG1hc3Rlckxpc3QsIF9hY3RpdmVPbkxvYWQpO1xuICAgIGdyb3VwQ29udGFpbmVyLnJlbmRlcihtYXN0ZXJMaXN0KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHsgXG4gICAgbWFzdGVyTGlzdCxcbiAgICBzYXZlVG9Mb2NhbFxuICB9XG59KSgpO1xuXG5jb25zdCBncm91cHMgPSAoKCkgPT4ge1xuICBjb25zdCBjcmVhdGUgPSAobmFtZSkgPT4ge1xuICAgIHRvRG8ubWFzdGVyTGlzdFtuYW1lXSA9IFtdO1xuICAgIGNvbnNvbGUubG9nKHRvRG8ubWFzdGVyTGlzdCk7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlID0gKG9sZE5hbWUsIG5ld05hbWUpID0+IHtcbiAgICBkZWxldGUgT2JqZWN0LmFzc2lnbih0b0RvLm1hc3Rlckxpc3QsIHtbbmV3TmFtZV06IHRvRG8ubWFzdGVyTGlzdFtvbGROYW1lXX0pW29sZE5hbWVdO1xuICAgIGNvbnNvbGUubG9nKHRvRG8ubWFzdGVyTGlzdCk7XG4gIH07XG5cbiAgY29uc3QgY2hlY2tOYW1lID0gKG5hbWUpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgRE9NLmRlZmF1bHRHcm91cHMuaW5kZXhPZihuYW1lKSA+PSAwIHx8XG4gICAgICBPYmplY3Qua2V5cyh0b0RvLm1hc3Rlckxpc3QpLmluZGV4T2YobmFtZSkgPj0gMCB8fFxuICAgICAgbmFtZS5tYXRjaCgvXlxcc3sxLH0kLykgfHxcbiAgICAgIG5hbWUgPT09IFwiXCJcbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IHJlbW92ZSA9IChuYW1lKSA9PiB7XG4gICAgZGVsZXRlIHRvRG8ubWFzdGVyTGlzdFtuYW1lXTtcbiAgICBjb25zb2xlLmxvZyh0b0RvLm1hc3Rlckxpc3QpO1xuICB9O1xuXG4gIGNvbnN0IHNldEluYWN0aXZlID0gKCkgPT4ge1xuICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImdyb3VwLWJ0blwiKSkuZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3Qgc2V0QWN0aXZlID0gKHRhcmdldCkgPT4ge1xuICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICB9O1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpbi1uYXZcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImdyb3VwLWJ0blwiKSkge1xuICAgICAgc2V0SW5hY3RpdmUoKTtcbiAgICAgIHNldEFjdGl2ZShlLnRhcmdldCk7XG4gICAgICB0YXNrQ29udGFpbmVyLnVwZGF0ZUhlYWRlcihlLnRhcmdldCk7XG4gICAgICB0YXNrQ29udGFpbmVyLmxvYWRHcm91cFRhc2tzKHRvRG8ubWFzdGVyTGlzdCwgZS50YXJnZXQpO1xuICAgIH07XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgY2hlY2tOYW1lLFxuICAgIGNyZWF0ZSxcbiAgICB1cGRhdGUsXG4gICAgcmVtb3ZlLFxuICAgIHNldEFjdGl2ZSxcbiAgICBzZXRJbmFjdGl2ZVxuICB9XG59KSgpO1xuXG5jb25zdCB0YXNrcyA9ICgoKSA9PiB7XG4gIGNvbnN0IF90YXNrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1jb250YWluZXJcIik7XG4gIFxuICBjb25zdCBfY2hhbmdlU3RhdHVzID0gKG5vZGUpID0+IHtcbiAgICBjb25zdCBncm91cERhdGEgPSBub2RlLmRhdGFzZXQuZ3JvdXA7XG4gICAgY29uc3QgdGFza0luZGV4ID0gbm9kZS5kYXRhc2V0LmluZGV4O1xuXG4gICAgaWYgKG5vZGUuY2hpbGRyZW5bMV0uZ2V0QXR0cmlidXRlKFwic3R5bGVcIikgPT09IG51bGwpIHtcbiAgICAgIHRvRG8ubWFzdGVyTGlzdFtncm91cERhdGFdW3Rhc2tJbmRleF0uY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgIG5vZGUuY2hpbGRyZW5bMV0uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXG4gICAgICAgICAgXCJ1cmwoYXNzZXRzL2ltYWdlcy9pY29ucy9kb25lLWJsYWNrLTI0ZHAuc3ZnKVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b0RvLm1hc3Rlckxpc3RbZ3JvdXBEYXRhXVt0YXNrSW5kZXhdLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgbm9kZS5jaGlsZHJlblsxXS5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgICB9O1xuICAgIGNvbnNvbGUubG9nKHRvRG8ubWFzdGVyTGlzdCk7XG4gIH07XG5cbiAgY29uc3QgX2dldEluZm8gPSAobm9kZSkgPT4ge1xuICAgIGNvbnN0IGdyb3VwRGF0YSA9IG5vZGUuZGF0YXNldC5ncm91cDtcbiAgICBjb25zdCB0YXNrSW5kZXggPSBub2RlLmRhdGFzZXQuaW5kZXg7XG4gICAgLy8gc3RvcmUgcmVmZXJlbmNlIHRvIGdyb3VwIGFuZCBpbmRleCBvZiB0YXNrIGJlaW5nIHVwZGF0ZWRcbiAgICBET00ubW9kYWxCb3guZGF0YXNldC5pbmRleFJlZiA9IHRhc2tJbmRleDtcbiAgICBET00ubW9kYWxCb3guZGF0YXNldC5ncm91cFJlZiA9IGdyb3VwRGF0YTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZS1pbnB1dFwiKS52YWx1ZSA9IFxuICAgICAgICB0b0RvLm1hc3Rlckxpc3RbZ3JvdXBEYXRhXVt0YXNrSW5kZXhdLnRhc2tOYW1lO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ3JvdXAtc2VsZWN0XCIpLnZhbHVlID0gZ3JvdXBEYXRhO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJpb3JpdHktc2VsZWN0XCIpLnZhbHVlID0gXG4gICAgICAgIHRvRG8ubWFzdGVyTGlzdFtncm91cERhdGFdW3Rhc2tJbmRleF0ucHJpb3JpdHk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkYXRlLXNlbGVjdFwiKS52YWx1ZSA9IFxuICAgICAgICB0b0RvLm1hc3Rlckxpc3RbZ3JvdXBEYXRhXVt0YXNrSW5kZXhdLmR1ZURhdGU7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNub3Rlcy1pbnB1dFwiKS52YWx1ZSA9IFxuICAgICAgICB0b0RvLm1hc3Rlckxpc3RbZ3JvdXBEYXRhXVt0YXNrSW5kZXhdLm5vdGVzO1xuICB9O1xuXG4gIGNvbnN0IF9jaGVja1Rhc2tFdmVudCA9IChlKSA9PiB7XG4gICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICBjYXNlIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInRhc2stc3RhdHVzXCIpOlxuICAgICAgICBfY2hhbmdlU3RhdHVzKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQpO1xuICAgICAgICAvLyB0b0RvLnNhdmVUb0xvY2FsKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJ0YXNrLW5hbWVcIik6XG4gICAgICAgIC8vIHRvZ2dsZSdzIHRhc2sgaXRlbSdzIGRldGFpbHMgc2VjdGlvblxuICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuWzRdLmNsYXNzTGlzdC50b2dnbGUoXCJleHBhbmRlZFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImVkaXQtYnRuXCIpOlxuICAgICAgICB0YXNrTW9kYWwucmVuZGVyKGUsIE9iamVjdC5rZXlzKHRvRG8ubWFzdGVyTGlzdCkpO1xuICAgICAgICBfZ2V0SW5mbyhlLnRhcmdldC5wYXJlbnRFbGVtZW50KTtcbiAgICAgICAgZ2VuZXJhbE1vZGFsLm9uT3BlbigpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGVsZXRlLWJ0blwiKTpcbiAgICAgICAgaWYgKGNvbmZpcm0oYFBsZWFzZSBjbGljayBcIk9LXCIgdG8gY29uZmlybSBkZWxldGlvbiBvZiB0YXNrIFxuICAgICAgICAgICAgXCIke2UudGFyZ2V0LnBhcmVudEVsZW1lbnQuZGF0YXNldC50YXNrfVwiLmApKSB7XG4gICAgICAgICAgcmVtb3ZlU2luZ2xlKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQpO1xuICAgICAgICAgIC8vIHRvRG8uc2F2ZVRvTG9jYWwoKTtcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGUgPSAodGFza05hbWUsIHByaW9yaXR5LCBkdWVEYXRlLCBub3RlcywgY29tcGxldGVkKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRhc2tOYW1lLFxuICAgICAgcHJpb3JpdHksXG4gICAgICBkdWVEYXRlLFxuICAgICAgbm90ZXMsXG4gICAgICBjb21wbGV0ZWRcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGdyb3VwUmVmID0gRE9NLm1vZGFsQm94LmdldEF0dHJpYnV0ZShcImRhdGEtZ3JvdXAtcmVmXCIpO1xuICAgIGNvbnN0IHRhc2tSZWYgPSBET00ubW9kYWxCb3guZ2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleC1yZWZcIik7XG5cbiAgICB0b0RvLm1hc3Rlckxpc3RbZ3JvdXBSZWZdW3Rhc2tSZWZdLnRhc2tOYW1lID0gXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZS1pbnB1dFwiKS52YWx1ZTtcbiAgICB0b0RvLm1hc3Rlckxpc3RbZ3JvdXBSZWZdW3Rhc2tSZWZdLnByaW9yaXR5ID0gXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJpb3JpdHktc2VsZWN0XCIpLnZhbHVlO1xuICAgIHRvRG8ubWFzdGVyTGlzdFtncm91cFJlZl1bdGFza1JlZl0uZHVlRGF0ZSA9IFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RhdGUtc2VsZWN0XCIpLnZhbHVlO1xuICAgIHRvRG8ubWFzdGVyTGlzdFtncm91cFJlZl1bdGFza1JlZl0ubm90ZXMgPSBcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNub3Rlcy1pbnB1dFwiKS52YWx1ZTtcbiAgfTtcblxuICBjb25zdCBjaGVja05hbWUgPSAobmFtZSkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICBuYW1lLm1hdGNoKC9eXFxzezEsfSQvKSB8fFxuICAgICAgbmFtZSA9PT0gXCJcIlxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlU2luZ2xlID0gKG5vZGUpID0+IHtcbiAgICB0b0RvLm1hc3Rlckxpc3Rbbm9kZS5kYXRhc2V0Lmdyb3VwXS5zcGxpY2Uobm9kZS5kYXRhc2V0LmluZGV4LCAxKTtcbiAgICBub2RlLnJlbW92ZSgpO1xuICAgIGNvbnNvbGUubG9nKHRvRG8ubWFzdGVyTGlzdCk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlQ29tcGxldGVkID0gKGdyb3VwKSA9PiB7XG4gICAgaWYgKERPTS5kZWZhdWx0R3JvdXBzLmluZGV4T2YoZ3JvdXApID49IDApIHtcbiAgICAgIGNvbnN0IGtleUFycmF5ID0gT2JqZWN0LmtleXModG9Eby5tYXN0ZXJMaXN0KTtcbiAgICAgIE9iamVjdC52YWx1ZXModG9Eby5tYXN0ZXJMaXN0KS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gKGl0ZW0ubGVuZ3RoIC0gMSk7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGl0ZW1baV0uY29tcGxldGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0b0RvLm1hc3Rlckxpc3Rba2V5QXJyYXlbaW5kZXhdXS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b0RvLm1hc3Rlckxpc3RbZ3JvdXBdLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9ICh0b0RvLm1hc3Rlckxpc3RbZ3JvdXBdLmxlbmd0aCAtIDEpOyBpID49IDAgOyBpLS0pIHtcbiAgICAgICAgICBpZiAoaXRlbS5jb21wbGV0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRvRG8ubWFzdGVyTGlzdFtncm91cF0uc3BsaWNlKGksIDEpXG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgY29uc3QgY29uZmlybU1hc3NSZW1vdmUgPSAoKSA9PiB7XG4gICAgaWYgKERPTS5kZWZhdWx0R3JvdXBzLmluZGV4T2YoRE9NLnRhc2tIZWFkZXIudGV4dENvbnRlbnQpID49IDApIHtcbiAgICAgIHJldHVybiBjb25maXJtKGBUaGlzIHdpbGwgZGVsZXRlIGFsbCBjb21wbGV0ZWQgdGFza3MgaW4gZXZlcnkgZ3JvdXAuIGAgKyBcbiAgICAgICAgICAgICAgICAgICAgYFxcblxcblBsZWFzZSBjbGljayBcIk9LXCIgdG8gY29uZmlybSBkZWxldGlvbi5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNvbmZpcm0oYFRoaXMgd2lsbCBkZWxldGUgYWxsIGNvbXBsZXRlZCB0YXNrcyBpbiB0aGUgYCArIFxuICAgICAgICAgICAgICAgICAgICBgJHtET00udGFza0hlYWRlci50ZXh0Q29udGVudH0gZ3JvdXAuXFxuXFxuUGxlYXNlIGNsaWNrIGAgKyBcbiAgICAgICAgICAgICAgICAgICAgYFwiT0tcIiB0byBjb25maXJtIGRlbGV0aW9uLmApO1xuICAgIH07XG4gIH07XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFzay1idG5cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgaWYgKE9iamVjdC5rZXlzKHRvRG8ubWFzdGVyTGlzdCkubGVuZ3RoID09PSAwKSB7XG4gICAgICBhbGVydChcIk5vIGdyb3VwcyBleGlzdC4gUGxlYXNlIGNyZWF0ZSBhIGdyb3VwIGJlZm9yZSBhZGRpbmcgYSB0YXNrLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFza01vZGFsLnJlbmRlcihlLCBPYmplY3Qua2V5cyh0b0RvLm1hc3Rlckxpc3QpKTtcbiAgICAgIGdlbmVyYWxNb2RhbC5vbk9wZW4oKTtcbiAgICB9O1xuICB9KTtcblxuICBfdGFza0xpc3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF9jaGVja1Rhc2tFdmVudCk7XG4gIF90YXNrTGlzdC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCIgXCIpIF9jaGVja1Rhc2tFdmVudChlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBjaGVja05hbWUsXG4gICAgY29uZmlybU1hc3NSZW1vdmUsXG4gICAgY3JlYXRlLFxuICAgIHJlbW92ZUNvbXBsZXRlZCxcbiAgICByZW1vdmVTaW5nbGUsXG4gICAgdXBkYXRlXG4gIH1cbn0pKCk7XG5cbmNvbnN0IG1vZGFsRXZlbnRzID0gKCgpID0+IHtcbiAgRE9NLm1vZGFsQm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZS1pbnB1dFwiKTtcbiAgICBjb25zdCBncm91cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ3JvdXAtc2VsZWN0XCIpO1xuXG4gICAgc3dpdGNoIChlLnRhcmdldCkge1xuICAgICAgY2FzZSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdC1ncm91cC1idG5cIik6XG4gICAgICBjYXNlIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXBkYXRlLWdyb3VwLWJ0blwiKTpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoZ3JvdXBzLmNoZWNrTmFtZShuYW1lSW5wdXQudmFsdWUpKSB7XG4gICAgICAgICAgYWxlcnQoXCJHcm91cCBuYW1lIGNhbm5vdCBiZSBibGFuayBhbmQgY2Fubm90IGFscmVhZHkgYmUgdGFrZW4uXCIgKyBcbiAgICAgICAgICAgICAgICBcIlxcblxcblBsZWFzZSBlbnRlciBhIG5ldyBuYW1lLlwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInN1Ym1pdC1ncm91cC1idG5cIikpIHtcbiAgICAgICAgICAgIGdyb3Vwcy5jcmVhdGUobmFtZUlucHV0LnZhbHVlKTtcbiAgICAgICAgICAgIGdyb3VwQ29udGFpbmVyLnJlbmRlcih0b0RvLm1hc3Rlckxpc3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBncm91cHMudXBkYXRlKERPTS50YXNrSGVhZGVyLnRleHRDb250ZW50LCBuYW1lSW5wdXQudmFsdWUpO1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hY3RpdmVcIikudGV4dENvbnRlbnQgPSBuYW1lSW5wdXQudmFsdWU7XG4gICAgICAgICAgICB0YXNrQ29udGFpbmVyLnVwZGF0ZUhlYWRlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFjdGl2ZVwiKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgICAvLyB0b0RvLnNhdmVUb0xvY2FsKCk7XG4gICAgICAgICAgZ2VuZXJhbE1vZGFsLm9uQ2xvc2UoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGVsZXRlLWdyb3VwLWJ0blwiKTpcbiAgICAgICAgaWYgKGNvbmZpcm0oYFRoaXMgd2lsbCBkZWxldGUgdGhlICR7RE9NLnRhc2tIZWFkZXIudGV4dENvbnRlbnR9IGAgKyBcbiAgICAgICAgICAgIGBncm91cCwgYWxvbmcgd2l0aCBhbnkgdGFza3Mgd2l0aGluIGl0LlxcblxcblBsZWFzZSBjbGljayBcIk9LXCIgYCArIFxuICAgICAgICAgICAgYHRvIGNvbmZpcm0gZGVsZXRpb24uYCkpIHtcbiAgICAgICAgICBncm91cHMucmVtb3ZlKERPTS50YXNrSGVhZGVyLnRleHRDb250ZW50KTtcbiAgICAgICAgICAvLyB0b0RvLnNhdmVUb0xvY2FsKCk7XG4gICAgICAgICAgZ2VuZXJhbE1vZGFsLm9uQ2xvc2UoKTtcbiAgICAgICAgICBncm91cENvbnRhaW5lci5yZW5kZXIodG9Eby5tYXN0ZXJMaXN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGVsZXRlLWNvbXBsZXRlZC1idG5cIik6XG4gICAgICAgIGlmICh0YXNrcy5jb25maXJtTWFzc1JlbW92ZSgpKSB7XG4gICAgICAgICAgdGFza3MucmVtb3ZlQ29tcGxldGVkKERPTS50YXNrSGVhZGVyLnRleHRDb250ZW50KTtcbiAgICAgICAgICAvLyB0b0RvLnNhdmVUb0xvY2FsKCk7XG4gICAgICAgICAgZ2VuZXJhbE1vZGFsLm9uQ2xvc2UoKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyh0b0RvLm1hc3Rlckxpc3QpO1xuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtc2luZ2xlLWJ0blwiKTpcbiAgICAgIGNhc2UgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtbWFueS1idG5cIik6XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHRhc2tzLmNoZWNrTmFtZShuYW1lSW5wdXQudmFsdWUpKSB7XG4gICAgICAgICAgYWxlcnQoXCJUYXNrIG5hbWUgY2Fubm90IGJlIGJsYW5rLlxcblxcblBsZWFzZSBlbnRlciBhIG5ldyBuYW1lLlwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbmV3VGFzayA9IHRhc2tzLmNyZWF0ZShcbiAgICAgICAgICAgIG5hbWVJbnB1dC52YWx1ZSxcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJpb3JpdHktc2VsZWN0XCIpLnZhbHVlLFxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkYXRlLXNlbGVjdFwiKS52YWx1ZSxcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbm90ZXMtaW5wdXRcIikudmFsdWUsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICk7XG4gICAgICAgICAgdG9Eby5tYXN0ZXJMaXN0W2dyb3VwLnZhbHVlXS5wdXNoKG5ld1Rhc2spO1xuICAgICAgICAgIC8vIHRvRG8uc2F2ZVRvTG9jYWwoKTtcbiAgICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWRkLW1hbnktYnRuXCIpKSB7XG4gICAgICAgICAgICBuYW1lSW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICAgIG5hbWVJbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICBncm91cC5zZWxlY3RlZEluZGV4ID0gMDtcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJpb3JpdHktc2VsZWN0XCIpLnNlbGVjdGVkSW5kZXggPSAwO1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkYXRlLXNlbGVjdFwiKS52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25vdGVzLWlucHV0XCIpLnZhbHVlID0gXCJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2VuZXJhbE1vZGFsLm9uQ2xvc2UoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnNvbGUubG9nKHRvRG8ubWFzdGVyTGlzdCk7XG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVwZGF0ZS10YXNrLWJ0blwiKTpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAodGFza3MuY2hlY2tOYW1lKG5hbWVJbnB1dC52YWx1ZSkpIHtcbiAgICAgICAgICBhbGVydChcIlRhc2sgbmFtZSBjYW5ub3QgYmUgYmxhbmsuXFxuXFxuUGxlYXNlIGVudGVyIGEgbmV3IG5hbWUuXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YXNrcy51cGRhdGUoKTtcbiAgICAgICAgICAvLyB0b0RvLnNhdmVUb0xvY2FsKCk7XG4gICAgICAgICAgZ2VuZXJhbE1vZGFsLm9uQ2xvc2UoKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyh0b0RvLm1hc3Rlckxpc3QpO1xuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICB9KTtcbn0pKCk7XG5cbmV4cG9ydCB7IGdyb3VwcywgbW9kYWxFdmVudHMsIHRhc2tzLCB0b0RvIH07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5pbXBvcnQgeyBhY2Nlc3NpYmlsaXR5T3B0aW9ucywgZGlzcGxheU9wdGlvbnMgfSBmcm9tIFwiLi9zaXRlLXNldHRpbmdzXCI7XG5pbXBvcnQgeyBncm91cE1vZGFsLCB3YXJuaW5nTW9kYWwgfSBmcm9tIFwiLi9tb2RhbHNcIjtcbmltcG9ydCB7IGdyb3VwcywgbW9kYWxFdmVudHMsIHRhc2tzLCB0b0RvIH0gZnJvbSBcIi4vbG9naWNcIjtcbmltcG9ydCBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMgZnJvbSAnZGF0ZS1mbnMvZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzJ1xuaW1wb3J0IGZvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3QgZnJvbSBcImRhdGUtZm5zL2Zvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3RcIjtcblxuY29uc29sZS5sb2codG9Eby5tYXN0ZXJMaXN0KTtcblxuY29uc3QgbWVudVZpc2liaWxpdHkgPSAoKCkgPT4ge1xuICBjb25zdCBtZW51Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtYWluLW5hdlwiKTtcbiAgY29uc3QgbWVudU9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnUtYnV0dG9uXCIpO1xuICBjb25zdCBtZW51Q2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnUtY2xvc2UtYnV0dG9uXCIpO1xuXG4gIGNvbnN0IF9vblNjcmVlblNpemUgPSAoKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aCA+IDc2Mykge1xuICAgICAgbWVudUNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICBtZW51Q29udGFpbmVyLnN0eWxlLmxlZnQgPSBcIjBcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVudUNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgIG1lbnVDb250YWluZXIuc3R5bGUubGVmdCA9IFwiLTgwMHB4XCI7XG4gICAgfTtcbiAgfTtcbiAgXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIF9vblNjcmVlblNpemUpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgX29uU2NyZWVuU2l6ZSk7XG5cbiAgY29uc3QgX3RvZ2dsZU1lbnUgPSAoKSA9PiB7XG4gICAgaWYgKG1lbnVDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9PT0gXCJoaWRkZW5cIikge1xuICAgICAgbWVudUNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICBtZW51Q29udGFpbmVyLnN0eWxlLmxlZnQgPSBcIjBcIjtcbiAgICAgIG1lbnVDbG9zZUJ1dHRvbi5mb2N1cygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZW51Q29udGFpbmVyLnN0eWxlLmxlZnQgPSBcIi04MDBweFwiO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIG1lbnVDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCJcbiAgICAgIH0sIDYwMCk7XG4gICAgICBtZW51T3BlbkJ1dHRvbi5mb2N1cygpO1xuICAgIH07XG4gIH07XG5cbiAgbWVudU9wZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF90b2dnbGVNZW51KTtcbiAgbWVudUNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBfdG9nZ2xlTWVudSk7XG59KSgpOyJdLCJzb3VyY2VSb290IjoiIn0=