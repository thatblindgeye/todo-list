!function(){"use strict";const e={accessibilityContainer:document.querySelector("#accessibility-container"),animationSwitch:document.querySelector("#animation-switch"),githubLogo:document.querySelector("#lower-nav img"),themeSwitch:document.querySelector("#theme-switch")},t=()=>{localStorage.setItem("theme",document.documentElement.getAttribute("theme")),localStorage.setItem("animations-enabled",e.animationSwitch.getAttribute("aria-checked"))},n=((()=>{const n=e=>{"light"===document.documentElement.getAttribute("theme")?o():a(),t()},o=()=>{e.themeSwitch.setAttribute("aria-checked","false"),document.documentElement.setAttribute("theme","dark"),e.themeSwitch.style.backgroundPosition="center bottom -0.8rem",e.githubLogo.setAttribute("src","assets/images/logos/GitHub-Mark-Light-32px.png")},a=()=>{e.themeSwitch.setAttribute("aria-checked","true"),document.documentElement.setAttribute("theme","light"),e.themeSwitch.style.backgroundPosition="center top 2px",e.githubLogo.setAttribute("src","assets/images/logos/GitHub-Mark-32px.png")};e.themeSwitch.addEventListener("click",n),e.themeSwitch.addEventListener("keydown",(e=>{" "===e.key&&(e.preventDefault(),n())})),window.addEventListener("load",(()=>{"light"===localStorage.getItem("theme")?a():o()}))})(),(()=>{const n=()=>{"true"===e.animationSwitch.getAttribute("aria-checked")?a():o(),t()},o=()=>{e.animationSwitch.setAttribute("aria-checked","true"),document.documentElement.style.scrollBehavior="smooth",e.accessibilityContainer.style.transition="top 0.75s ease-in-out",e.animationSwitch.textContent="Animations Enabled",e.themeSwitch.style.transition="background-position 0.3s ease-in",document.querySelector("#main-nav").style.transition="left 0.5s",Array.from(document.querySelectorAll(".label-arrow")).forEach((e=>{e.style.transition="transform 0.75s"}))},a=()=>{e.animationSwitch.setAttribute("aria-checked","false"),document.documentElement.style.scrollBehavior="auto",e.animationSwitch.setAttribute("aria-checked","false"),e.animationSwitch.textContent="Animations Disabled",Array.from(document.querySelectorAll(".animated")).forEach((e=>{e.style.transition="none"}))};return e.animationSwitch.addEventListener("click",n),e.animationSwitch.addEventListener("keydown",(e=>{" "===e.key&&(e.preventDefault(),n())})),window.addEventListener("load",(()=>{"false"===localStorage.getItem("animations-enabled")?a():o()})),{animationsEnabled:o,animationsDisabled:a}})()),o={defaultGroups:["Important","Next 7 Days","Later","Eventually"],groupButtons:document.getElementsByClassName("group-btn"),modalBox:document.querySelector(".modal-box"),selectedGroup:document.querySelector(".selected-group"),taskItems:document.getElementsByClassName("task-item")},a=(()=>{const e=JSON.parse(localStorage.getItem("toDo-list"))||{Example:[{taskName:"Do the dishes",completed:!1,priority:"Normal",dueDate:"",notes:"Let the pans soak, put the plates in the dishwasher, wash the mugs by hand.\n\nWash pans after 30 minutes soaking."},{taskName:"Bring Muffin to vet",completed:!1,priority:"Important",dueDate:"2021-03-05",notes:"Pack her favorite toy so she stays calm."}]};return{list:e,saveToLocal:()=>{localStorage.setItem("toDo-list",JSON.stringify(e))}}})(),l=(()=>{const e=e=>{a.list[e.dataset.group].splice(e.dataset.index,1),e.remove(),console.log(a.list)},t=e=>{const t=e.dataset.group,n=e.dataset.index;null===e.children[1].getAttribute("style")?(a.list[t][n].completed=!0,e.children[1].style.backgroundImage="url(assets/images/icons/done-black-24dp.svg)"):(a.list[t][n].completed=!1,e.children[1].removeAttribute("style")),console.log(a.list)};return document.querySelector(".add-task-btn").addEventListener("click",(e=>{0!==Object.keys(a.list).length?(d.render(e,Object.keys(a.list)),s.onOpen()):alert("No group exists to add tasks to.\n\nPlease create a group before adding a task.")})),Array.from(o.taskItems).forEach((n=>{n.addEventListener("click",(n=>{switch(n.target){case n.currentTarget.children[1]:t(n.currentTarget);break;case n.currentTarget.children[2]:n.currentTarget.children[4].classList.toggle("expanded");break;case n.currentTarget.children[4].children[1]:d.render(n,Object.keys(a.list)),(e=>{const t=e.dataset.group,n=e.dataset.index;o.modalBox.setAttribute("data-index-ref",n),o.modalBox.setAttribute("data-group-ref",t),document.querySelector("#name-input").value=a.list[t][n].taskName,document.querySelector("#group-select").value=t,document.querySelector("#priority-select").value=a.list[t][n].priority,document.querySelector("#date-select").value=a.list[t][n].dueDate,document.querySelector("#notes-input").value=a.list[t][n].notes})(n.currentTarget),s.onOpen();break;case n.currentTarget.children[4].children[2]:confirm(`Please click "OK" to confirm deletion of task "${n.currentTarget.children[2].textContent}".`)&&e(n.currentTarget);break;default:return}}))})),Array.from(o.taskItems).forEach((e=>{e.addEventListener("keyup",(e=>{" "===e.key&&e.target===e.currentTarget.children[1]&&t(e.currentTarget)}))})),{confirmMassRemove:()=>o.defaultGroups.indexOf(o.selectedGroup.textContent)>=0?confirm('This will delete all completed tasks in every group.\n\nPlease click "OK" to confirm deletion.'):confirm(`This will delete all completed tasks in the ${o.selectedGroup.textContent} group.\n\nPlease click "OK" to confirm deletion.`),create:(e,t,n,o,a)=>({taskName:e,priority:t,dueDate:n,notes:o,completed:a}),update:()=>{const e=o.modalBox.getAttribute("data-group-ref"),t=o.modalBox.getAttribute("data-index-ref");a.list[e][t].taskName=document.querySelector("#name-input").value,a.list[e][t].priority=document.querySelector("#priority-select").value,a.list[e][t].dueDate=document.querySelector("#date-select").value,a.list[e][t].notes=document.querySelector("#notes-input").value},removeCompleted:e=>{if(o.defaultGroups.indexOf(e)>=0){const e=Object.keys(a.list);Object.values(a.list).forEach(((t,n)=>{for(let o=t.length-1;o>=0;o--)!0===t[o].completed&&a.list[e[n]].splice(o,1)}))}else a.list[e].forEach((t=>{for(let n=a.list[e].length-1;n>=0;n--)!0===t.completed&&a.list[e].splice(n,1)}))},removeSingle:e,checkName:e=>e.match(/^\s{1,}$/)||""===e}})(),i=(Array.from(o.groupButtons).forEach((e=>{e.addEventListener("click",(()=>{Array.from(o.groupButtons).forEach((e=>{e.classList.remove("active")})),e.classList.add("active")}))})),{create:e=>{a.list[e]=[],console.log(a.list)},update:(e,t)=>{delete Object.assign(a.list,{[t]:a.list[e]})[e],console.log(a.list)},remove:e=>{delete a.list[e],console.log(a.list)},checkName:e=>o.defaultGroups.indexOf(e)>=0||Object.keys(a.list).indexOf(e)>=0||e.match(/^\s{1,}$/)||""===e}),r=(o.modalBox.addEventListener("click",(e=>{const t=document.querySelector("#name-input");switch(e.target){case document.querySelector(".submit-group-btn"):if(e.preventDefault(),i.checkName(t.value))return void alert("Group name cannot be blank and cannot already be taken.\n\nPlease enter a new name.");i.create(t.value),s.onClose();break;case document.querySelector(".update-group-btn"):if(e.preventDefault(),i.checkName(t.value))return void alert("Group name cannot be blank and cannot already be taken.\n\nPlease enter a new name.");i.update(o.selectedGroup.textContent,t.value),s.onClose();break;case document.querySelector(".delete-group-btn"):confirm(`This will delete the ${o.selectedGroup.textContent} group, along with any tasks within it.\n\nPlease click "OK" to confirm deletion.`)&&(i.remove(o.selectedGroup.textContent),s.onClose());break;case document.querySelector(".delete-completed-btn"):l.confirmMassRemove()&&(l.removeCompleted(o.selectedGroup.textContent),s.onClose(),console.log(a.list));break;default:return}})),{addGroupBtn:document.querySelector(".add-group-btn"),defaultGroups:["Important","Next 7 Days","Later","Eventually"],groupButtons:document.getElementsByClassName("group-btn"),groupOptionBtn:document.querySelector(".group-option-btn"),modalBox:document.querySelector(".modal-box"),modalContainer:document.querySelector(".modal-container"),selectedGroup:document.querySelector(".selected-group")}),s=(()=>{const e=()=>{for(;r.modalBox.firstChild;)r.modalBox.removeChild(r.modalBox.firstChild);r.modalContainer.style.display="none"};return window.addEventListener("keydown",(t=>{"Escape"===t.key&&e()})),{createCloseBtn:()=>{const e=document.createElement("button");e.setAttribute("type","button"),e.setAttribute("aria-label","Close modal"),e.classList.add("modal-close-button","close-btn","focusable"),e.addEventListener("click",s.onClose),r.modalBox.appendChild(e)},onClose:e,onOpen:()=>{r.modalContainer.style.display="flex",document.querySelector(".modal-close-button").focus()}}})(),d=((()=>{const e=e=>{e.target.classList.contains("disable-button")?n.animationsDisabled():e.target.classList.contains("enable-button")&&n.animationsEnabled(),t(),s.onClose()};window.addEventListener("load",(()=>{0===localStorage.length&&(()=>{const t=document.createElement("h1"),n=document.createElement("p"),o=document.createElement("p"),a=document.createElement("button"),l=document.createElement("button");t.textContent="This site uses minimal animation effects.",n.textContent="Effects include moving menus and smooth scrolling. If you suffer from a vestibular disorder or otherwise prefer no animations, you can turn them off by clicking the first button below.",o.textContent="You can later change this setting in the Display & Accessibility tab at the top of the page.",a.setAttribute("type","button"),a.classList.add("disable-button","focusable","primary-btn"),a.textContent="DISABLE ANIMATIONS",a.addEventListener("click",e),l.setAttribute("type","button"),l.classList.add("enable-button","focusable","secondary-btn"),l.textContent="ENABLE ANIMATIONS",l.addEventListener("click",e),r.modalBox.appendChild(t),r.modalBox.appendChild(n),r.modalBox.appendChild(o),r.modalBox.appendChild(a),r.modalBox.appendChild(l),r.modalContainer.style.display="flex"})()}))})(),(()=>{const e=e=>{const t=document.createElement("form"),n=document.createElement("fieldset"),o=document.createElement("legend"),a=document.createElement("div"),l=document.createElement("label"),i=document.createElement("input"),d=document.createElement("input");if(s.createCloseBtn(),l.setAttribute("for","name-input"),l.textContent="Group Name",i.setAttribute("type","text"),i.setAttribute("required","true"),i.setAttribute("id","name-input"),i.setAttribute("autocomplete","off"),i.classList.add("focusable"),e.target.classList.contains("add-group-btn"))o.textContent="Add a Group",d.setAttribute("type","submit"),d.setAttribute("value","ADD GROUP"),d.classList.add("submit-group-btn","primary-btn","focusable","submit"),a.appendChild(d);else if(e.target.classList.contains("group-option-btn")){const e=document.createElement("button"),t=document.createElement("button");o.textContent="Group Options",d.setAttribute("type","submit"),d.setAttribute("value","UPDATE"),d.classList.add("update-group-btn","secondary-btn","focusable","submit"),e.setAttribute("type","button"),e.classList.add("delete-group-btn","delete-btn","focusable"),e.textContent="DELETE GROUP",t.setAttribute("type","button"),t.classList.add("delete-completed-btn","delete-btn","focusable"),t.textContent="DELETE COMPLETED TASKS",r.defaultGroups.indexOf(r.selectedGroup.textContent)>=0&&(l.style.opacity="0.38",i.setAttribute("disabled","true"),i.style.opacity="0.38",d.setAttribute("disabled","true"),d.style.opacity="0.38",e.setAttribute("disabled","true"),e.style.opacity="0.38"),a.appendChild(d),a.appendChild(e),a.appendChild(t)}n.appendChild(o),n.appendChild(l),n.appendChild(i),n.appendChild(a),t.appendChild(n),r.modalBox.appendChild(t)};r.groupOptionBtn.addEventListener("click",(t=>{e(t),s.onOpen()})),r.addGroupBtn.addEventListener("click",(t=>{e(t),s.onOpen()}))})(),{render:(e,t)=>{const n=document.createElement("form"),o=document.createElement("fieldset"),a=document.createElement("legend"),l=document.createElement("div"),i=document.createElement("label"),d=document.createElement("input"),c=document.createElement("label"),u=document.createElement("select"),m=document.createElement("label"),p=document.createElement("select"),b=document.createElement("option"),h=document.createElement("option"),y=document.createElement("label"),g=document.createElement("input"),f=document.createElement("label"),C=document.createElement("textarea");s.createCloseBtn(),i.setAttribute("for","name-input"),i.textContent="Task Name (required)",d.setAttribute("type","text"),d.setAttribute("id","name-input"),d.setAttribute("placeholder","Enter a task name"),d.setAttribute("required","true"),d.setAttribute("autocomplete","off"),d.className="focusable",c.setAttribute("for","group-select"),c.textContent="Group",u.setAttribute("id","group-select"),u.className="focusable";for(let e=0;e<t.length;e++){const n=document.createElement("option");n.setAttribute("value",t[e]),n.textContent=t[e],u.appendChild(n)}if(m.setAttribute("for","priority-select"),m.textContent="Priority",p.setAttribute("id","priority-select"),p.className="focusable",b.textContent="Normal",h.textContent="Important",p.appendChild(b),p.appendChild(h),y.setAttribute("for","date-select"),y.textContent="Due Date (optional)",g.setAttribute("type","date"),g.setAttribute("id","date-select"),g.className="focusable",f.setAttribute("for","notes-input"),f.textContent="Additional Notes",C.setAttribute("id","notes-input"),C.setAttribute("placeholder","Enter any additional notes for the task"),C.className="focusable",e.target.textContent.includes("ADD TASK")){const e=document.createElement("input"),t=document.createElement("input");a.textContent="Add a Task",e.setAttribute("type","submit"),e.setAttribute("value","ADD ONE"),e.setAttribute("aria-label","Add task and close modal"),e.classList.add("add-single-btn","primary-btn","submit","focusable"),t.setAttribute("type","submit"),t.setAttribute("value","ADD MANY"),t.setAttribute("aria-label","Add task and keep modal open"),t.classList.add("add-many-btn","secondary-btn","submit","focusable"),l.appendChild(e),l.appendChild(t)}else if("EDIT"===e.target.textContent){const e=document.createElement("input");a.textContent="Edit Task",u.setAttribute("disabled","true"),c.style.opacity="0.38",u.style.opacity="0.38",e.setAttribute("type","submit"),e.setAttribute("value","UPDATE"),e.setAttribute("aria-label","Update task and close modal"),e.classList.add("update-task-btn","primary-btn","focusable"),l.appendChild(e)}o.appendChild(a),o.appendChild(i),o.appendChild(d),o.appendChild(c),o.appendChild(document.createElement("br")),o.appendChild(u),o.appendChild(document.createElement("br")),o.appendChild(m),o.appendChild(document.createElement("br")),o.appendChild(p),o.appendChild(document.createElement("br")),o.appendChild(y),o.appendChild(document.createElement("br")),o.appendChild(g),o.appendChild(document.createElement("br")),o.appendChild(f),o.appendChild(C),o.appendChild(l),n.appendChild(o),r.modalBox.appendChild(n)}});console.log(a.list);const c={menuContainer:document.querySelector("#main-nav"),menuOpenButton:document.querySelector(".menu-button"),menuCloseButton:document.querySelector(".menu-close-button")};(()=>{const e=()=>{document.documentElement.scrollWidth>763?(c.menuContainer.style.visibility="visible",c.menuContainer.style.left="0"):(c.menuContainer.style.visibility="hidden",c.menuContainer.style.left="-800px")};window.addEventListener("resize",e),window.addEventListener("load",e);const t=()=>{"hidden"===c.menuContainer.style.visibility?(c.menuContainer.style.visibility="visible",c.menuContainer.style.left="0",c.menuCloseButton.focus()):(c.menuContainer.style.left="-800px",setTimeout((()=>{c.menuContainer.style.visibility="hidden"}),600),c.menuOpenButton.focus())};c.menuOpenButton.addEventListener("click",t),c.menuCloseButton.addEventListener("click",t)})()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc2l0ZS1zZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbG9naWMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL21vZGFscy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiRE9NIiwiYWNjZXNzaWJpbGl0eUNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFuaW1hdGlvblN3aXRjaCIsImdpdGh1YkxvZ28iLCJ0aGVtZVN3aXRjaCIsInNldHRpbmdzIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImRvY3VtZW50RWxlbWVudCIsImdldEF0dHJpYnV0ZSIsImFjY2Vzc2liaWxpdHlPcHRpb25zIiwiX3RvZ2dsZVRoZW1lIiwiZSIsIl9kYXJrVGhlbWUiLCJfbGlnaHRUaGVtZSIsInNldEF0dHJpYnV0ZSIsInN0eWxlIiwiYmFja2dyb3VuZFBvc2l0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImtleSIsInByZXZlbnREZWZhdWx0Iiwid2luZG93IiwiZ2V0SXRlbSIsIl90b2dnbGVBbmltYXRpb25zIiwiYW5pbWF0aW9uc0Rpc2FibGVkIiwiYW5pbWF0aW9uc0VuYWJsZWQiLCJzY3JvbGxCZWhhdmlvciIsInRyYW5zaXRpb24iLCJ0ZXh0Q29udGVudCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiaXRlbSIsImRlZmF1bHRHcm91cHMiLCJncm91cEJ1dHRvbnMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwibW9kYWxCb3giLCJzZWxlY3RlZEdyb3VwIiwidGFza0l0ZW1zIiwidG9EbyIsImxpc3QiLCJKU09OIiwicGFyc2UiLCJFeGFtcGxlIiwidGFza05hbWUiLCJjb21wbGV0ZWQiLCJwcmlvcml0eSIsImR1ZURhdGUiLCJub3RlcyIsInNhdmVUb0xvY2FsIiwic3RyaW5naWZ5IiwidGFza3MiLCJyZW1vdmVTaW5nbGUiLCJub2RlIiwiZGF0YXNldCIsImdyb3VwIiwic3BsaWNlIiwiaW5kZXgiLCJyZW1vdmUiLCJjb25zb2xlIiwibG9nIiwiX2NoYW5nZVN0YXR1cyIsImdyb3VwRGF0YSIsInRhc2tJbmRleCIsImNoaWxkcmVuIiwiYmFja2dyb3VuZEltYWdlIiwicmVtb3ZlQXR0cmlidXRlIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInRhc2tNb2RhbCIsInJlbmRlciIsImdlbmVyYWxNb2RhbCIsIm9uT3BlbiIsImFsZXJ0IiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInZhbHVlIiwiX2dldEluZm8iLCJjb25maXJtIiwiY29uZmlybU1hc3NSZW1vdmUiLCJpbmRleE9mIiwiY3JlYXRlIiwidXBkYXRlIiwiZ3JvdXBSZWYiLCJ0YXNrUmVmIiwicmVtb3ZlQ29tcGxldGVkIiwia2V5QXJyYXkiLCJ2YWx1ZXMiLCJpIiwiY2hlY2tOYW1lIiwibmFtZSIsIm1hdGNoIiwiZ3JvdXBzIiwiYnV0dG9uIiwiYWRkIiwib2xkTmFtZSIsIm5ld05hbWUiLCJhc3NpZ24iLCJuYW1lSW5wdXQiLCJvbkNsb3NlIiwiYWRkR3JvdXBCdG4iLCJncm91cE9wdGlvbkJ0biIsIm1vZGFsQ29udGFpbmVyIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiZGlzcGxheSIsImNyZWF0ZUNsb3NlQnRuIiwiY2xvc2VCdG4iLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJmb2N1cyIsIl9zZWxlY3RPcHRpb24iLCJjb250YWlucyIsImhlYWRpbmciLCJwYXJhMSIsInBhcmEyIiwiZGlzYWJsZUJ1dHRvbiIsImVuYWJsZUJ1dHRvbiIsIl9yZW5kZXIiLCJmb3JtIiwiZmllbGRzZXQiLCJsZWdlbmQiLCJkaXYiLCJuYW1lTGFiZWwiLCJtYWluQnRuIiwiZGVsZXRlR3JvdXAiLCJkZWxldGVDb21wbGV0ZWQiLCJvcGFjaXR5IiwiZ3JvdXBPcHRpb25zIiwiZ3JvdXBMYWJlbCIsImdyb3VwU2VsZWN0IiwicHJpb3JpdHlMYWJlbCIsInByaW9yaXR5U2VsZWN0IiwicHJpb3JpdHlPcHRpb24xIiwicHJpb3JpdHlPcHRpb24yIiwiZGF0ZUxhYmVsIiwiZGF0ZUlucHV0Iiwibm90ZXNMYWJlbCIsIm5vdGVzSW5wdXQiLCJjbGFzc05hbWUiLCJvcHRpb24iLCJpbmNsdWRlcyIsImFkZE9uZUJ0biIsImFkZE1hbnlCdG4iLCJlZGl0QnRuIiwibWVudUNvbnRhaW5lciIsIm1lbnVPcGVuQnV0dG9uIiwibWVudUNsb3NlQnV0dG9uIiwiX29uU2NyZWVuU2l6ZSIsInNjcm9sbFdpZHRoIiwidmlzaWJpbGl0eSIsImxlZnQiLCJfdG9nZ2xlTWVudSIsInNldFRpbWVvdXQiXSwibWFwcGluZ3MiOiJ5QkFFQSxNQUFNQSxFQVFHLENBQ0xDLHVCQVBJQyxTQUFTQyxjQUFjLDRCQVEzQkMsZ0JBTklGLFNBQVNDLGNBQWMscUJBTzNCRSxXQU5pQkgsU0FBU0MsY0FBYyxrQkFPeENHLFlBTmtCSixTQUFTQyxjQUFjLGtCQVV2Q0ksRUFDZ0IsS0FDbEJDLGFBQWFDLFFBQ1gsUUFBU1AsU0FBU1EsZ0JBQWdCQyxhQUFhLFVBRWpESCxhQUFhQyxRQUFRLHFCQUNqQlQsRUFBSUksZ0JBQWdCTyxhQUFhLGtCQXFEbkNDLEdBN0NpQixNQUNyQixNQVFNQyxFQUFnQkMsSUFDbUMsVUFBbkRaLFNBQVNRLGdCQUFnQkMsYUFBYSxTQUN4Q0ksSUFFQUMsSUFFRlQsS0FHSVEsRUFBYSxLQUNqQmYsRUFBSU0sWUFBWVcsYUFBYSxlQUFnQixTQUM3Q2YsU0FBU1EsZ0JBQWdCTyxhQUFhLFFBQVMsUUFDL0NqQixFQUFJTSxZQUFZWSxNQUFNQyxtQkFBcUIsd0JBQzNDbkIsRUFBSUssV0FBV1ksYUFBYSxNQUN4QixtREFHQUQsRUFBYyxLQUNsQmhCLEVBQUlNLFlBQVlXLGFBQWEsZUFBZ0IsUUFDN0NmLFNBQVNRLGdCQUFnQk8sYUFBYSxRQUFTLFNBQy9DakIsRUFBSU0sWUFBWVksTUFB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U0MsY0FBYyx1QkFTMUIsTUFDckIsTUFBTXVKLEVBQWdCLEtBQ2hCeEosU0FBU1EsZ0JBQWdCaUosWUFBYyxLQUN6QyxFQUFJSixjQUFjckksTUFBTTBJLFdBQWEsVUFDckMsRUFBSUwsY0FBY3JJLE1BQU0ySSxLQUFPLE1BRS9CLEVBQUlOLGNBQWNySSxNQUFNMEksV0FBYSxTQUNyQyxFQUFJTCxjQUFjckksTUFBTTJJLEtBQU8sV0FJbkN0SSxPQUFPSCxpQkFBaUIsU0FBVXNJLEdBQ2xDbkksT0FBT0gsaUJBQWlCLE9BQVFzSSxHQUVoQyxNQUFNSSxFQUFjLEtBQ3lCLFdBQXZDLEVBQUlQLGNBQWNySSxNQUFNMEksWUFDMUIsRUFBSUwsY0FBY3JJLE1BQU0wSSxXQUFhLFVBQ3JDLEVBQUlMLGNBQWNySSxNQUFNMkksS0FBTyxJQUMvQixFQUFJSixnQkFBZ0JyQyxVQUVwQixFQUFJbUMsY0FBY3JJLE1BQU0ySSxLQUFPLFNBQy9CRSxZQUFXLEtBQ1QsRUFBSVIsY0FBY3JJLE1BQU0wSSxXQUFhLFdBQ3BDLEtBQ0gsRUFBSUosZUFBZXBDLFVBSXZCLEVBQUlvQyxlQUFlcEksaUJBQWlCLFFBQVMwSSxHQUM3QyxFQUFJTCxnQkFBZ0JySSxpQkFBaUIsUUFBUzBJLElBN0J6QixHIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBET00gPSAoKCkgPT4ge1xuICBjb25zdCBhY2Nlc3NpYmlsaXR5Q29udGFpbmVyID0gXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWNjZXNzaWJpbGl0eS1jb250YWluZXJcIik7XG4gIGNvbnN0IGFuaW1hdGlvblN3aXRjaCA9IFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FuaW1hdGlvbi1zd2l0Y2hcIik7XG4gIGNvbnN0IGdpdGh1YkxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvd2VyLW5hdiBpbWdcIik7XG4gIGNvbnN0IHRoZW1lU3dpdGNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aGVtZS1zd2l0Y2hcIik7XG5cbiAgcmV0dXJuIHtcbiAgICBhY2Nlc3NpYmlsaXR5Q29udGFpbmVyLFxuICAgIGFuaW1hdGlvblN3aXRjaCxcbiAgICBnaXRodWJMb2dvLFxuICAgIHRoZW1lU3dpdGNoXG4gIH1cbn0pKCk7XG5cbmNvbnN0IHNldHRpbmdzID0gKCgpID0+IHtcbiAgY29uc3Qgc2F2ZVRvTG9jYWwgPSAoKSA9PiB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXG4gICAgICBcInRoZW1lXCIsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0aGVtZVwiKSk7XG5cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImFuaW1hdGlvbnMtZW5hYmxlZFwiLCBcbiAgICAgICAgRE9NLmFuaW1hdGlvblN3aXRjaC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIikpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc2F2ZVRvTG9jYWxcbiAgfTtcbn0pKCk7XG5cbmNvbnN0IGRpc3BsYXlPcHRpb25zID0gKCgpID0+IHtcbiAgY29uc3QgX29uTG9hZCA9ICgpID0+IHtcbiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0aGVtZVwiKSA9PT0gXCJsaWdodFwiKSB7XG4gICAgICBfbGlnaHRUaGVtZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfZGFya1RoZW1lKCk7XG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBfdG9nZ2xlVGhlbWUgPSAoZSkgPT4ge1xuICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidGhlbWVcIikgPT09IFwibGlnaHRcIikge1xuICAgICAgX2RhcmtUaGVtZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfbGlnaHRUaGVtZSgpO1xuICAgIH07XG4gICAgc2V0dGluZ3Muc2F2ZVRvTG9jYWwoKTtcbiAgfTtcblxuICBjb25zdCBfZGFya1RoZW1lID0gKCkgPT4ge1xuICAgIERPTS50aGVtZVN3aXRjaC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidGhlbWVcIiwgXCJkYXJrXCIpO1xuICAgIERPTS50aGVtZVN3aXRjaC5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSBcImNlbnRlciBib3R0b20gLTAuOHJlbVwiO1xuICAgIERPTS5naXRodWJMb2dvLnNldEF0dHJpYnV0ZShcInNyY1wiLFxuICAgICAgICBcImFzc2V0cy9pbWFnZXMvbG9nb3MvR2l0SHViLU1hcmstTGlnaHQtMzJweC5wbmdcIik7XG4gIH07XG5cbiAgY29uc3QgX2xpZ2h0VGhlbWUgPSAoKSA9PiB7XG4gICAgRE9NLnRoZW1lU3dpdGNoLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBcInRydWVcIik7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcInRoZW1lXCIsIFwibGlnaHRcIik7XG4gICAgRE9NLnRoZW1lU3dpdGNoLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9IFwiY2VudGVyIHRvcCAycHhcIjtcbiAgICBET00uZ2l0aHViTG9nby5zZXRBdHRyaWJ1dGUoXCJzcmNcIixcbiAgICBcImFzc2V0cy9pbWFnZXMvbG9nb3MvR2l0SHViLU1hcmstMzJweC5wbmdcIik7XG4gIH07XG5cbiAgRE9NLnRoZW1lU3dpdGNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBfdG9nZ2xlVGhlbWUpO1xuICBET00udGhlbWVTd2l0Y2guYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09IFwiIFwiKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBfdG9nZ2xlVGhlbWUoKTtcbiAgICB9O1xuICB9KTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgX29uTG9hZCk7XG59KSgpO1xuXG5jb25zdCBhY2Nlc3NpYmlsaXR5T3B0aW9ucyA9ICgoKSA9PiB7XG4gIGNvbnN0IF9vbkxvYWQgPSAoKSA9PiB7XG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYW5pbWF0aW9ucy1lbmFibGVkXCIpID09PSBcImZhbHNlXCIpIHtcbiAgICAgIGFuaW1hdGlvbnNEaXNhYmxlZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbmltYXRpb25zRW5hYmxlZCgpO1xuICAgIH07XG4gIH07XG5cbiAgY29uc3QgX3RvZ2dsZUFuaW1hdGlvbnMgPSAoKSA9PiB7XG4gICAgaWYgKERPTS5hbmltYXRpb25Td2l0Y2guZ2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIpID09PSBcInRydWVcIikge1xuICAgICAgYW5pbWF0aW9uc0Rpc2FibGVkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFuaW1hdGlvbnNFbmFibGVkKCk7XG4gICAgfTtcbiAgICBzZXR0aW5ncy5zYXZlVG9Mb2NhbCgpO1xuICB9O1xuXG4gIGNvbnN0IGFuaW1hdGlvbnNFbmFibGVkID0gKCkgPT4ge1xuICAgIERPTS5hbmltYXRpb25Td2l0Y2guc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwidHJ1ZVwiKTtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2Nyb2xsQmVoYXZpb3IgPSBcInNtb290aFwiO1xuICAgIERPTS5hY2Nlc3NpYmlsaXR5Q29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSBcInRvcCAwLjc1cyBlYXNlLWluLW91dFwiO1xuICAgIERPTS5hbmltYXRpb25Td2l0Y2gudGV4dENvbnRlbnQgPSBcIkFuaW1hdGlvbnMgRW5hYmxlZFwiO1xuICAgIERPTS50aGVtZVN3aXRjaC5zdHlsZS50cmFuc2l0aW9uID0gXCJiYWNrZ3JvdW5kLXBvc2l0aW9uIDAuM3MgZWFzZS1pblwiO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWFpbi1uYXZcIikuc3R5bGUudHJhbnNpdGlvbiA9IFwibGVmdCAwLjVzXCI7XG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmxhYmVsLWFycm93XCIpKS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgaXRlbS5zdHlsZS50cmFuc2l0aW9uID0gXCJ0cmFuc2Zvcm0gMC43NXNcIjtcbiAgICB9KTtcbiAgfTtcbiAgICAgICAgXG4gIGNvbnN0IGFuaW1hdGlvbnNEaXNhYmxlZCA9ICgpID0+IHtcbiAgICBET00uYW5pbWF0aW9uU3dpdGNoLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBcImZhbHNlXCIpO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zY3JvbGxCZWhhdmlvciA9IFwiYXV0b1wiO1xuICAgIERPTS5hbmltYXRpb25Td2l0Y2guc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgRE9NLmFuaW1hdGlvblN3aXRjaC50ZXh0Q29udGVudCA9IFwiQW5pbWF0aW9ucyBEaXNhYmxlZFwiO1xuICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hbmltYXRlZFwiKSkuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGl0ZW0uc3R5bGUudHJhbnNpdGlvbiA9IFwibm9uZVwiO1xuICAgIH0pO1xuICB9O1xuXG4gIERPTS5hbmltYXRpb25Td2l0Y2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF90b2dnbGVBbmltYXRpb25zKTtcbiAgRE9NLmFuaW1hdGlvblN3aXRjaC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCIgXCIpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIF90b2dnbGVBbmltYXRpb25zKCk7XG4gICAgfTtcbiAgfSk7XG4gIFxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgX29uTG9hZCk7XG5cbiAgcmV0dXJuIHtcbiAgICBhbmltYXRpb25zRW5hYmxlZCxcbiAgICBhbmltYXRpb25zRGlzYWJsZWRcbiAgfVxufSkoKTtcblxuZXhwb3J0IHthY2Nlc3NpYmlsaXR5T3B0aW9ucywgZGlzcGxheU9wdGlvbnMsIHNldHRpbmdzfSIsIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IGZvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3QgZnJvbSBcImRhdGUtZm5zL2Zvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3RcIjtcbmltcG9ydCBkaWZmZXJlbmNlSW5EYXlzIGZyb20gXCJkYXRlLWZucy9kaWZmZXJlbmNlSW5EYXlzXCI7XG5pbXBvcnQgaXNUb2RheSBmcm9tIFwiZGF0ZS1mbnMvaXNUb2RheVwiO1xuaW1wb3J0IHtnZW5lcmFsTW9kYWwsIHRhc2tNb2RhbH0gZnJvbSBcIi4vbW9kYWxzXCI7XG5cbmNvbnN0IERPTSA9ICgoKSA9PiB7XG4gIGNvbnN0IGRlZmF1bHRHcm91cHMgPSBbXCJJbXBvcnRhbnRcIiwgXCJOZXh0IDcgRGF5c1wiLCBcIkxhdGVyXCIsIFwiRXZlbnR1YWxseVwiXTtcbiAgY29uc3QgZ3JvdXBCdXR0b25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImdyb3VwLWJ0blwiKTtcbiAgY29uc3QgbW9kYWxCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWJveFwiKTtcbiAgY29uc3Qgc2VsZWN0ZWRHcm91cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VsZWN0ZWQtZ3JvdXBcIik7XG4gIGNvbnN0IHRhc2tJdGVtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0YXNrLWl0ZW1cIik7XG5cbiAgcmV0dXJuIHtcbiAgICBkZWZhdWx0R3JvdXBzLFxuICAgIGdyb3VwQnV0dG9ucyxcbiAgICBtb2RhbEJveCxcbiAgICBzZWxlY3RlZEdyb3VwLFxuICAgIHRhc2tJdGVtc1xuICB9XG59KSgpO1xuXG5jb25zdCB0b0RvID0gKCgpID0+IHtcbiAgY29uc3QgbGlzdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b0RvLWxpc3RcIikpIHx8IFxuICAgIHtcbiAgICAgIEV4YW1wbGU6IFtcbiAgICAgICAge1xuICAgICAgICAgIHRhc2tOYW1lOiBcIkRvIHRoZSBkaXNoZXNcIixcbiAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgIHByaW9yaXR5OiBcIk5vcm1hbFwiLFxuICAgICAgICAgIGR1ZURhdGU6IFwiXCIsXG4gICAgICAgICAgbm90ZXM6XG4gICAgICAgICAgICBcIkxldCB0aGUgcGFucyBzb2FrLCBwdXQgdGhlIHBsYXRlcyBpbiB0aGUgZGlzaHdhc2hlciwgd2FzaCB0aGUgbXVncyBieSBoYW5kLlxcblxcbldhc2ggcGFucyBhZnRlciAzMCBtaW51dGVzIHNvYWtpbmcuXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0YXNrTmFtZTogXCJCcmluZyBNdWZmaW4gdG8gdmV0XCIsXG4gICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICBwcmlvcml0eTogXCJJbXBvcnRhbnRcIixcbiAgICAgICAgICBkdWVEYXRlOiBcIjIwMjEtMDMtMDVcIixcbiAgICAgICAgICBub3RlczogXCJQYWNrIGhlciBmYXZvcml0ZSB0b3kgc28gc2hlIHN0YXlzIGNhbG0uXCIsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH07XG5cbiAgY29uc3Qgc2F2ZVRvTG9jYWwgPSAoKSA9PiB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b0RvLWxpc3RcIiwgSlNPTi5zdHJpbmdpZnkobGlzdCkpO1xuICB9O1xuXG4gIC8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoZSkgPT4ge1xuICAvLyAgIHRhc2tDb250YWluZXIucmVuZGVyKGUpO1xuICAvLyAgIGdyb3VwQ29udGFpbmVyLnJlbmRlcigpO1xuICAvLyB9KTtcblxuICByZXR1cm4geyBcbiAgICBsaXN0LFxuICAgIHNhdmVUb0xvY2FsXG4gIH1cbn0pKCk7XG5cbmNvbnN0IHRhc2tzID0gKCgpID0+IHtcbiAgY29uc3QgY3JlYXRlID0gKHRhc2tOYW1lLCBwcmlvcml0eSwgZHVlRGF0ZSwgbm90ZXMsIGNvbXBsZXRlZCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0YXNrTmFtZSxcbiAgICAgIHByaW9yaXR5LFxuICAgICAgZHVlRGF0ZSxcbiAgICAgIG5vdGVzLFxuICAgICAgY29tcGxldGVkXG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBncm91cFJlZiA9IERPTS5tb2RhbEJveC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWdyb3VwLXJlZlwiKTtcbiAgICBjb25zdCB0YXNrUmVmID0gRE9NLm1vZGFsQm94LmdldEF0dHJpYnV0ZShcImRhdGEtaW5kZXgtcmVmXCIpO1xuXG4gICAgdG9Eby5saXN0W2dyb3VwUmVmXVt0YXNrUmVmXS50YXNrTmFtZSA9IFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25hbWUtaW5wdXRcIikudmFsdWU7XG4gICAgdG9Eby5saXN0W2dyb3VwUmVmXVt0YXNrUmVmXS5wcmlvcml0eSA9IFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ByaW9yaXR5LXNlbGVjdFwiKS52YWx1ZTtcbiAgICB0b0RvLmxpc3RbZ3JvdXBSZWZdW3Rhc2tSZWZdLmR1ZURhdGUgPSBcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkYXRlLXNlbGVjdFwiKS52YWx1ZTtcbiAgICB0b0RvLmxpc3RbZ3JvdXBSZWZdW3Rhc2tSZWZdLm5vdGVzID0gXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbm90ZXMtaW5wdXRcIikudmFsdWU7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlU2luZ2xlID0gKG5vZGUpID0+IHtcbiAgICB0b0RvLmxpc3Rbbm9kZS5kYXRhc2V0Lmdyb3VwXS5zcGxpY2Uobm9kZS5kYXRhc2V0LmluZGV4LCAxKTtcbiAgICBub2RlLnJlbW92ZSgpO1xuICAgIGNvbnNvbGUubG9nKHRvRG8ubGlzdCk7XG4gIH07XG5cbiAgLy8gcGFzcyBET00uc2VsZWN0ZWRHcm91cC50ZXh0Q29udGVudCBhcyBhcmd1ZW1lbnRcbiAgY29uc3QgcmVtb3ZlQ29tcGxldGVkID0gKGdyb3VwKSA9PiB7XG4gICAgaWYgKERPTS5kZWZhdWx0R3JvdXBzLmluZGV4T2YoZ3JvdXApID49IDApIHtcbiAgICAgIGNvbnN0IGtleUFycmF5ID0gT2JqZWN0LmtleXModG9Eby5saXN0KTtcbiAgICAgIE9iamVjdC52YWx1ZXModG9Eby5saXN0KS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gKGl0ZW0ubGVuZ3RoIC0gMSk7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGl0ZW1baV0uY29tcGxldGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0b0RvLmxpc3Rba2V5QXJyYXlbaW5kZXhdXS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b0RvLmxpc3RbZ3JvdXBdLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9ICh0b0RvLmxpc3RbZ3JvdXBdLmxlbmd0aCAtIDEpOyBpID49IDAgOyBpLS0pIHtcbiAgICAgICAgICBpZiAoaXRlbS5jb21wbGV0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRvRG8ubGlzdFtncm91cF0uc3BsaWNlKGksIDEpXG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgY29uc3QgY2hlY2tOYW1lID0gKG5hbWUpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgbmFtZS5tYXRjaCgvXlxcc3sxLH0kLykgfHxcbiAgICAgIG5hbWUgPT09IFwiXCJcbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IF9jaGFuZ2VTdGF0dXMgPSAobm9kZSkgPT4ge1xuICAgIGNvbnN0IGdyb3VwRGF0YSA9IG5vZGUuZGF0YXNldC5ncm91cDtcbiAgICBjb25zdCB0YXNrSW5kZXggPSBub2RlLmRhdGFzZXQuaW5kZXg7XG5cbiAgICBpZiAobm9kZS5jaGlsZHJlblsxXS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSA9PT0gbnVsbCkge1xuICAgICAgdG9Eby5saXN0W2dyb3VwRGF0YV1bdGFza0luZGV4XS5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgbm9kZS5jaGlsZHJlblsxXS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcbiAgICAgICAgICBcInVybChhc3NldHMvaW1hZ2VzL2ljb25zL2RvbmUtYmxhY2stMjRkcC5zdmcpXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvRG8ubGlzdFtncm91cERhdGFdW3Rhc2tJbmRleF0uY29tcGxldGVkID0gZmFsc2U7XG4gICAgICBub2RlLmNoaWxkcmVuWzFdLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgIH07XG4gICAgY29uc29sZS5sb2codG9Eby5saXN0KTtcbiAgfTtcblxuICBjb25zdCBfZ2V0SW5mbyA9IChub2RlKSA9PiB7XG4gICAgY29uc3QgZ3JvdXBEYXRhID0gbm9kZS5kYXRhc2V0Lmdyb3VwO1xuICAgIGNvbnN0IHRhc2tJbmRleCA9IG5vZGUuZGF0YXNldC5pbmRleDtcbiAgICAvLyBzdG9yZSByZWZlcmVuY2UgdG8gZ3JvdXAgYW5kIGluZGV4IG9mIHRhc2sgYmVpbmcgdXBkYXRlZFxuICAgIERPTS5tb2RhbEJveC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4LXJlZlwiLCB0YXNrSW5kZXgpO1xuICAgIERPTS5tb2RhbEJveC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWdyb3VwLXJlZlwiLCBncm91cERhdGEpO1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuYW1lLWlucHV0XCIpLnZhbHVlID0gXG4gICAgICAgIHRvRG8ubGlzdFtncm91cERhdGFdW3Rhc2tJbmRleF0udGFza05hbWU7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNncm91cC1zZWxlY3RcIikudmFsdWUgPSBncm91cERhdGE7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmlvcml0eS1zZWxlY3RcIikudmFsdWUgPSBcbiAgICAgICAgdG9Eby5saXN0W2dyb3VwRGF0YV1bdGFza0luZGV4XS5wcmlvcml0eTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RhdGUtc2VsZWN0XCIpLnZhbHVlID0gXG4gICAgICAgIHRvRG8ubGlzdFtncm91cERhdGFdW3Rhc2tJbmRleF0uZHVlRGF0ZTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25vdGVzLWlucHV0XCIpLnZhbHVlID0gXG4gICAgICAgIHRvRG8ubGlzdFtncm91cERhdGFdW3Rhc2tJbmRleF0ubm90ZXM7XG4gIH07XG5cbiAgY29uc3QgY29uZmlybU1hc3NSZW1vdmUgPSAoKSA9PiB7XG4gICAgaWYgKERPTS5kZWZhdWx0R3JvdXBzLmluZGV4T2YoRE9NLnNlbGVjdGVkR3JvdXAudGV4dENvbnRlbnQpID49IDApIHtcbiAgICAgIHJldHVybiBjb25maXJtKGBUaGlzIHdpbGwgZGVsZXRlIGFsbCBjb21wbGV0ZWQgdGFza3MgaW4gZXZlcnkgZ3JvdXAuXFxuXFxuUGxlYXNlIGNsaWNrIFwiT0tcIiB0byBjb25maXJtIGRlbGV0aW9uLmApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY29uZmlybShgVGhpcyB3aWxsIGRlbGV0ZSBhbGwgY29tcGxldGVkIHRhc2tzIGluIHRoZSAke0RPTS5zZWxlY3RlZEdyb3VwLnRleHRDb250ZW50fSBncm91cC5cXG5cXG5QbGVhc2UgY2xpY2sgXCJPS1wiIHRvIGNvbmZpcm0gZGVsZXRpb24uYCk7XG4gICAgfTtcbiAgfTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrLWJ0blwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICBpZiAoT2JqZWN0LmtleXModG9Eby5saXN0KS5sZW5ndGggPT09IDApIHtcbiAgICAgIGFsZXJ0KFwiTm8gZ3JvdXAgZXhpc3RzIHRvIGFkZCB0YXNrcyB0by5cXG5cXG5QbGVhc2UgY3JlYXRlIGEgZ3JvdXAgYmVmb3JlIGFkZGluZyBhIHRhc2suXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXNrTW9kYWwucmVuZGVyKGUsIE9iamVjdC5rZXlzKHRvRG8ubGlzdCkpO1xuICAgICAgZ2VuZXJhbE1vZGFsLm9uT3BlbigpO1xuICAgIH07XG4gIH0pO1xuXG4gIEFycmF5LmZyb20oRE9NLnRhc2tJdGVtcykuZm9yRWFjaChpdGVtID0+IHtcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgc3dpdGNoIChlLnRhcmdldCkge1xuICAgICAgICAvLyB0YXJnZXQgaXMgaXRlbSdzIGNoZWNrYm94XG4gICAgICAgIGNhc2UgZS5jdXJyZW50VGFyZ2V0LmNoaWxkcmVuWzFdOlxuICAgICAgICAgIF9jaGFuZ2VTdGF0dXMoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAvLyB0b0RvLnNhdmVUb0xvY2FsKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIHRhcmdldCBpcyBpdGVtJ3MgbmFtZVxuICAgICAgICBjYXNlIGUuY3VycmVudFRhcmdldC5jaGlsZHJlblsyXTpcbiAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuY2hpbGRyZW5bNF0uY2xhc3NMaXN0LnRvZ2dsZShcImV4cGFuZGVkXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyB0YXJnZXQgaXMgaXRlbSdzIGVkaXQgYnV0dG9uXG4gICAgICAgIGNhc2UgZS5jdXJyZW50VGFyZ2V0LmNoaWxkcmVuWzRdLmNoaWxkcmVuWzFdOlxuICAgICAgICAgIHRhc2tNb2RhbC5yZW5kZXIoZSwgT2JqZWN0LmtleXModG9Eby5saXN0KSk7XG4gICAgICAgICAgX2dldEluZm8oZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICBnZW5lcmFsTW9kYWwub25PcGVuKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIHRhcmdldCBpcyBpdGVtJ3MgZGVsZXRlIGJ1dHRvblxuICAgICAgICBjYXNlIGUuY3VycmVudFRhcmdldC5jaGlsZHJlbls0XS5jaGlsZHJlblsyXTpcbiAgICAgICAgICBpZiAoY29uZmlybShgUGxlYXNlIGNsaWNrIFwiT0tcIiB0byBjb25maXJtIGRlbGV0aW9uIG9mIHRhc2sgXCIke2UuY3VycmVudFRhcmdldC5jaGlsZHJlblsyXS50ZXh0Q29udGVudH1cIi5gKSkge1xuICAgICAgICAgICAgcmVtb3ZlU2luZ2xlKGUuY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgICAvLyB0b0RvLnNhdmVUb0xvY2FsKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9O1xuICAgIH0pO1xuICB9KTtcblxuICBBcnJheS5mcm9tKERPTS50YXNrSXRlbXMpLmZvckVhY2goaXRlbSA9PiB7XG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGUpID0+IHtcbiAgICAgIGlmIChlLmtleSA9PT0gXCIgXCIgJiYgZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldC5jaGlsZHJlblsxXSkge1xuICAgICAgICBfY2hhbmdlU3RhdHVzKGUuY3VycmVudFRhcmdldCk7XG4gICAgICAgIC8vIHRvRG8uc2F2ZVRvTG9jYWwoKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgY29uZmlybU1hc3NSZW1vdmUsXG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZSxcbiAgICByZW1vdmVDb21wbGV0ZWQsXG4gICAgcmVtb3ZlU2luZ2xlLFxuICAgIGNoZWNrTmFtZVxuICB9XG59KSgpO1xuXG5jb25zdCBncm91cHMgPSAoKCkgPT4ge1xuICBjb25zdCBjcmVhdGUgPSAobmFtZSkgPT4ge1xuICAgIHRvRG8ubGlzdFtuYW1lXSA9IFtdO1xuICAgIGNvbnNvbGUubG9nKHRvRG8ubGlzdCk7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlID0gKG9sZE5hbWUsIG5ld05hbWUpID0+IHtcbiAgICBkZWxldGUgT2JqZWN0LmFzc2lnbih0b0RvLmxpc3QsIHtbbmV3TmFtZV06IHRvRG8ubGlzdFtvbGROYW1lXX0pW29sZE5hbWVdO1xuICAgIGNvbnNvbGUubG9nKHRvRG8ubGlzdCk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlID0gKG5hbWUpID0+IHtcbiAgICBkZWxldGUgdG9Eby5saXN0W25hbWVdO1xuICAgIGNvbnNvbGUubG9nKHRvRG8ubGlzdCk7XG4gIH07XG5cbiAgY29uc3QgY2hlY2tOYW1lID0gKG5hbWUpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgRE9NLmRlZmF1bHRHcm91cHMuaW5kZXhPZihuYW1lKSA+PSAwIHx8XG4gICAgICBPYmplY3Qua2V5cyh0b0RvLmxpc3QpLmluZGV4T2YobmFtZSkgPj0gMCB8fFxuICAgICAgbmFtZS5tYXRjaCgvXlxcc3sxLH0kLykgfHxcbiAgICAgIG5hbWUgPT09IFwiXCJcbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IF9zZXRJbmFjdGl2ZSA9ICgpID0+IHtcbiAgICBBcnJheS5mcm9tKERPTS5ncm91cEJ1dHRvbnMpLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IF9zZXRBY3RpdmUgPSAodGFyZ2V0KSA9PiB7XG4gICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gIH07XG5cbiAgQXJyYXkuZnJvbShET00uZ3JvdXBCdXR0b25zKS5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBfc2V0SW5hY3RpdmUoKTtcbiAgICAgIF9zZXRBY3RpdmUoYnV0dG9uKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBjcmVhdGUsXG4gICAgdXBkYXRlLFxuICAgIHJlbW92ZSxcbiAgICBjaGVja05hbWVcbiAgfVxuXG4gIC8vIERPTS5tb2RhbEJveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgLy8gICBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25hbWUtaW5wdXRcIik7XG4gIC8vICAgc3dpdGNoIChlLnRhcmdldCkge1xuICAvLyAgICAgY2FzZSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdC1ncm91cC1idG5cIik6XG4gIC8vICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgLy8gICAgICAgaWYgKGNoZWNrTmFtZShuYW1lSW5wdXQudmFsdWUpKSB7XG4gIC8vICAgICAgICAgYWxlcnQoXCJHcm91cCBuYW1lIGNhbm5vdCBiZSBibGFuayBhbmQgY2Fubm90IGFscmVhZHkgYmUgdGFrZW4uIFBsZWFzZSBlbnRlciBhIG5ldyBuYW1lLlwiKTtcbiAgLy8gICAgICAgICByZXR1cm47XG4gIC8vICAgICAgIH0gZWxzZSB7XG4gIC8vICAgICAgICAgY3JlYXRlR3JvdXAobmFtZUlucHV0LnZhbHVlKTtcbiAgLy8gICAgICAgICAvLyB0b0RvLnNhdmVUb0xvY2FsKCk7XG4gIC8vICAgICAgICAgZ2VuZXJhbE1vZGFsLm9uQ2xvc2UoKTtcbiAgLy8gICAgICAgfTtcbiAgLy8gICAgICAgYnJlYWs7XG4gIC8vICAgICBjYXNlIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXBkYXRlLWdyb3VwLWJ0blwiKTpcbiAgLy8gICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAvLyAgICAgICBpZiAoY2hlY2tOYW1lKG5hbWVJbnB1dC52YWx1ZSkpIHtcbiAgLy8gICAgICAgICBhbGVydChcIkdyb3VwIG5hbWUgY2Fubm90IGJlIGJsYW5rIGFuZCBjYW5ub3QgYWxyZWFkeSBiZSB0YWtlbi4gUGxlYXNlIGVudGVyIGEgbmV3IG5hbWUuXCIpO1xuICAvLyAgICAgICAgIHJldHVybjtcbiAgLy8gICAgICAgfSBlbHNlIHtcbiAgLy8gICAgICAgICB1cGRhdGVHcm91cChET00uc2VsZWN0ZWRHcm91cC50ZXh0Q29udGVudCwgbmFtZUlucHV0LnZhbHVlKTtcbiAgLy8gICAgICAgICAvLyB0b0RvLnNhdmVUb0xvY2FsKCk7XG4gIC8vICAgICAgICAgZ2VuZXJhbE1vZGFsLm9uQ2xvc2UoKTtcbiAgLy8gICAgICAgfTtcbiAgLy8gICAgICAgYnJlYWs7XG4gIC8vICAgICBjYXNlIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGVsZXRlLWdyb3VwLWJ0blwiKTpcbiAgLy8gICAgICAgaWYgKGNvbmZpcm0oYFRoaXMgd2lsbCBkZWxldGUgdGhlICR7RE9NLnNlbGVjdGVkR3JvdXAudGV4dENvbnRlbnR9IGdyb3VwLCBhbG9uZyB3aXRoIGFueSB0YXNrcyB3aXRoaW4gaXQuIFBsZWFzZSBjbGljayBcIk9LXCIgdG8gY29uZmlybSBkZWxldGlvbi5gKSkge1xuICAvLyAgICAgICAgIHJlbW92ZUdyb3VwKERPTS5zZWxlY3RlZEdyb3VwLnRleHRDb250ZW50KTtcbiAgLy8gICAgICAgLy8gdG9Eby5zYXZlVG9Mb2NhbCgpO1xuICAvLyAgICAgICB9O1xuICAvLyAgICAgICBnZW5lcmFsTW9kYWwub25DbG9zZSgpO1xuICAvLyAgICAgICBicmVhaztcbiAgLy8gICAgIGRlZmF1bHQ6XG4gIC8vICAgICAgIHJldHVybjtcbiAgLy8gICB9O1xuICAvLyB9KTtcbn0pKCk7XG5cbmNvbnN0IG1vZGFsRXZlbnRzID0gKCgpID0+IHtcbiAgRE9NLm1vZGFsQm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZS1pbnB1dFwiKTtcbiAgICBzd2l0Y2ggKGUudGFyZ2V0KSB7XG4gICAgICBjYXNlIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0LWdyb3VwLWJ0blwiKTpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoZ3JvdXBzLmNoZWNrTmFtZShuYW1lSW5wdXQudmFsdWUpKSB7XG4gICAgICAgICAgYWxlcnQoXCJHcm91cCBuYW1lIGNhbm5vdCBiZSBibGFuayBhbmQgY2Fubm90IGFscmVhZHkgYmUgdGFrZW4uXFxuXFxuUGxlYXNlIGVudGVyIGEgbmV3IG5hbWUuXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBncm91cHMuY3JlYXRlKG5hbWVJbnB1dC52YWx1ZSk7XG4gICAgICAgICAgLy8gdG9Eby5zYXZlVG9Mb2NhbCgpO1xuICAgICAgICAgIGdlbmVyYWxNb2RhbC5vbkNsb3NlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVwZGF0ZS1ncm91cC1idG5cIik6XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGdyb3Vwcy5jaGVja05hbWUobmFtZUlucHV0LnZhbHVlKSkge1xuICAgICAgICAgIGFsZXJ0KFwiR3JvdXAgbmFtZSBjYW5ub3QgYmUgYmxhbmsgYW5kIGNhbm5vdCBhbHJlYWR5IGJlIHRha2VuLlxcblxcblBsZWFzZSBlbnRlciBhIG5ldyBuYW1lLlwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ3JvdXBzLnVwZGF0ZShET00uc2VsZWN0ZWRHcm91cC50ZXh0Q29udGVudCwgbmFtZUlucHV0LnZhbHVlKTtcbiAgICAgICAgICAvLyB0b0RvLnNhdmVUb0xvY2FsKCk7XG4gICAgICAgICAgZ2VuZXJhbE1vZGFsLm9uQ2xvc2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGVsZXRlLWdyb3VwLWJ0blwiKTpcbiAgICAgICAgaWYgKGNvbmZpcm0oYFRoaXMgd2lsbCBkZWxldGUgdGhlICR7RE9NLnNlbGVjdGVkR3JvdXAudGV4dENvbnRlbnR9IGdyb3VwLCBhbG9uZyB3aXRoIGFueSB0YXNrcyB3aXRoaW4gaXQuXFxuXFxuUGxlYXNlIGNsaWNrIFwiT0tcIiB0byBjb25maXJtIGRlbGV0aW9uLmApKSB7XG4gICAgICAgICAgZ3JvdXBzLnJlbW92ZShET00uc2VsZWN0ZWRHcm91cC50ZXh0Q29udGVudCk7XG4gICAgICAgICAgLy8gdG9Eby5zYXZlVG9Mb2NhbCgpO1xuICAgICAgICAgIGdlbmVyYWxNb2RhbC5vbkNsb3NlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRlbGV0ZS1jb21wbGV0ZWQtYnRuXCIpOlxuICAgICAgICBpZiAodGFza3MuY29uZmlybU1hc3NSZW1vdmUoKSkge1xuICAgICAgICAgIHRhc2tzLnJlbW92ZUNvbXBsZXRlZChET00uc2VsZWN0ZWRHcm91cC50ZXh0Q29udGVudCk7XG4gICAgICAgICAgLy8gdG9Eby5zYXZlVG9Mb2NhbCgpO1xuICAgICAgICAgIGdlbmVyYWxNb2RhbC5vbkNsb3NlKCk7XG4gICAgICAgICAgY29uc29sZS5sb2codG9Eby5saXN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgfSk7XG59KSgpO1xuXG4vLyBsZXQgbm93ID0gbmV3IERhdGUoKTtcblxuLy8gbGV0IGR1ZURhdGUgPSBuZXcgRGF0ZSgoXCIyMDIxLTAyLTAxXCIpLnNwbGl0KFwiLVwiKS5qb2luKFwiLCBcIikpO1xuXG4vLyBpZiAoaXNUb2RheShkdWVEYXRlKSkge1xuLy8gICBjb25zb2xlLmxvZyhcIlRvZGF5XCIpXG4vLyB9IGVsc2UgaWYgKGRpZmZlcmVuY2VJbkRheXMoZHVlRGF0ZSwgbm93KSA8PSA3KSB7XG4vLyAgIGNvbnNvbGUubG9nKFwidGhpcyB3ZWVrXCIpO1xuLy8gICBjb25zb2xlLmxvZyhkaWZmZXJlbmNlSW5EYXlzKGR1ZURhdGUsIG5vdykpO1xuLy8gfSBlbHNlIGlmIChkaWZmZXJlbmNlSW5EYXlzKGR1ZURhdGUsIG5vdykgPiA3KSB7XG4vLyAgIGNvbnNvbGUubG9nKGZvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3QoZHVlRGF0ZSkpO1xuLy8gfSBlbHNlIGlmIChkdWVEYXRlID09PSBcIlwiKSB7XG4vLyAgIGNvbnNvbGUubG9nKFwiTm8gZHVlIGRhdGVcIilcbi8vIH1cblxuZXhwb3J0IHsgZ3JvdXBzLCB0YXNrcywgdG9EbyB9O1xuIiwiaW1wb3J0IHsgZ3JvdXBzIH0gZnJvbSBcIi4vbG9naWNcIjtcbmltcG9ydCB7YWNjZXNzaWJpbGl0eU9wdGlvbnMsIHNldHRpbmdzfSBmcm9tIFwiLi9zaXRlLXNldHRpbmdzXCI7XG5cbmNvbnN0IERPTSA9ICgoKSA9PiB7XG4gIGNvbnN0IGFkZEdyb3VwQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtZ3JvdXAtYnRuXCIpO1xuICBjb25zdCBkZWZhdWx0R3JvdXBzID0gW1wiSW1wb3J0YW50XCIsIFwiTmV4dCA3IERheXNcIiwgXCJMYXRlclwiLCBcIkV2ZW50dWFsbHlcIl07XG4gIGNvbnN0IGdyb3VwQnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJncm91cC1idG5cIik7XG4gIGNvbnN0IGdyb3VwT3B0aW9uQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ncm91cC1vcHRpb24tYnRuXCIpO1xuICBjb25zdCBtb2RhbEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtYm94XCIpO1xuICBjb25zdCBtb2RhbENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY29udGFpbmVyXCIpO1xuICBjb25zdCBzZWxlY3RlZEdyb3VwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWxlY3RlZC1ncm91cFwiKTtcbiAgcmV0dXJuIHtcbiAgICBhZGRHcm91cEJ0bixcbiAgICBkZWZhdWx0R3JvdXBzLFxuICAgIGdyb3VwQnV0dG9ucyxcbiAgICBncm91cE9wdGlvbkJ0bixcbiAgICBtb2RhbEJveCxcbiAgICBtb2RhbENvbnRhaW5lcixcbiAgICBzZWxlY3RlZEdyb3VwXG4gIH1cbn0pKCk7XG5cbmNvbnN0IGdlbmVyYWxNb2RhbCA9ICgoKSA9PiB7XG4gIGNvbnN0IG9uQ2xvc2UgPSAoKSA9PiB7XG4gICAgd2hpbGUgKERPTS5tb2RhbEJveC5maXJzdENoaWxkKSB7XG4gICAgICBET00ubW9kYWxCb3gucmVtb3ZlQ2hpbGQoRE9NLm1vZGFsQm94LmZpcnN0Q2hpbGQpXG4gICAgfTtcbiAgICBET00ubW9kYWxDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB9O1xuXG4gIGNvbnN0IG9uT3BlbiA9ICgpID0+IHtcbiAgICBET00ubW9kYWxDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY2xvc2UtYnV0dG9uXCIpLmZvY3VzKCk7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlQ2xvc2VCdG4gPSAoKSA9PiB7XG4gICAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGNsb3NlQnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gICAgY2xvc2VCdG4uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIkNsb3NlIG1vZGFsXCIpO1xuICAgIGNsb3NlQnRuLmNsYXNzTGlzdC5hZGQoXCJtb2RhbC1jbG9zZS1idXR0b25cIiwgXCJjbG9zZS1idG5cIiwgXCJmb2N1c2FibGVcIik7XG4gICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGdlbmVyYWxNb2RhbC5vbkNsb3NlKTtcbiAgICBET00ubW9kYWxCb3guYXBwZW5kQ2hpbGQoY2xvc2VCdG4pO1xuICB9O1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgb25DbG9zZSgpO1xuICAgIH07XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgY3JlYXRlQ2xvc2VCdG4sXG4gICAgb25DbG9zZSxcbiAgICBvbk9wZW5cbiAgfVxufSkoKTtcblxuY29uc3Qgd2FybmluZ01vZGFsID0gKCgpID0+IHtcbiAgY29uc3QgX3NlbGVjdE9wdGlvbiA9IChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImRpc2FibGUtYnV0dG9uXCIpKSB7XG4gICAgICBhY2Nlc3NpYmlsaXR5T3B0aW9ucy5hbmltYXRpb25zRGlzYWJsZWQoKTtcbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImVuYWJsZS1idXR0b25cIikpIHtcbiAgICAgIGFjY2Vzc2liaWxpdHlPcHRpb25zLmFuaW1hdGlvbnNFbmFibGVkKCk7XG4gICAgfTtcbiAgICBzZXR0aW5ncy5zYXZlVG9Mb2NhbCgpO1xuICAgIGdlbmVyYWxNb2RhbC5vbkNsb3NlKCk7XG4gIH07XG5cbiAgY29uc3QgX3JlbmRlciA9ICgpID0+IHtcbiAgICBjb25zdCBoZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xuICAgIGNvbnN0IHBhcmExID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgY29uc3QgcGFyYTIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBjb25zdCBkaXNhYmxlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBjb25zdCBlbmFibGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuXG4gICAgaGVhZGluZy50ZXh0Q29udGVudCA9IFwiVGhpcyBzaXRlIHVzZXMgbWluaW1hbCBhbmltYXRpb24gZWZmZWN0cy5cIjtcblxuICAgIHBhcmExLnRleHRDb250ZW50ID0gXCJFZmZlY3RzIGluY2x1ZGUgbW92aW5nIG1lbnVzIGFuZCBzbW9vdGggc2Nyb2xsaW5nLiBJZiB5b3Ugc3VmZmVyIGZyb20gYSB2ZXN0aWJ1bGFyIGRpc29yZGVyIG9yIG90aGVyd2lzZSBwcmVmZXIgbm8gYW5pbWF0aW9ucywgeW91IGNhbiB0dXJuIHRoZW0gb2ZmIGJ5IGNsaWNraW5nIHRoZSBmaXJzdCBidXR0b24gYmVsb3cuXCI7XG4gIFxuICAgIHBhcmEyLnRleHRDb250ZW50PSBcIllvdSBjYW4gbGF0ZXIgY2hhbmdlIHRoaXMgc2V0dGluZyBpbiB0aGUgRGlzcGxheSAmIEFjY2Vzc2liaWxpdHkgdGFiIGF0IHRoZSB0b3Agb2YgdGhlIHBhZ2UuXCI7XG4gIFxuICAgIGRpc2FibGVCdXR0b24uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcbiAgICBkaXNhYmxlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlLWJ1dHRvblwiLCBcImZvY3VzYWJsZVwiLCBcInByaW1hcnktYnRuXCIpO1xuICAgIGRpc2FibGVCdXR0b24udGV4dENvbnRlbnQgPSBcIkRJU0FCTEUgQU5JTUFUSU9OU1wiO1xuICAgIGRpc2FibGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF9zZWxlY3RPcHRpb24pO1xuICAgIFxuICAgIGVuYWJsZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xuICAgIGVuYWJsZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZW5hYmxlLWJ1dHRvblwiLCBcImZvY3VzYWJsZVwiLCBcInNlY29uZGFyeS1idG5cIik7XG4gICAgZW5hYmxlQnV0dG9uLnRleHRDb250ZW50ID0gXCJFTkFCTEUgQU5JTUFUSU9OU1wiO1xuICAgIGVuYWJsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgX3NlbGVjdE9wdGlvbik7XG5cbiAgICBET00ubW9kYWxCb3guYXBwZW5kQ2hpbGQoaGVhZGluZyk7XG4gICAgRE9NLm1vZGFsQm94LmFwcGVuZENoaWxkKHBhcmExKTtcbiAgICBET00ubW9kYWxCb3guYXBwZW5kQ2hpbGQocGFyYTIpO1xuICAgIERPTS5tb2RhbEJveC5hcHBlbmRDaGlsZChkaXNhYmxlQnV0dG9uKTtcbiAgICBET00ubW9kYWxCb3guYXBwZW5kQ2hpbGQoZW5hYmxlQnV0dG9uKTtcblxuICAgIERPTS5tb2RhbENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gIH07XG5cbiAgY29uc3QgX29uTG9hZCA9ICgpID0+IHtcbiAgICBpZiAobG9jYWxTdG9yYWdlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgX3JlbmRlcigpO1xuICAgIH07XG4gIH07XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIF9vbkxvYWQpO1xufSkoKTtcblxuY29uc3QgZ3JvdXBNb2RhbCA9ICgoKSA9PiB7XG4gIGNvbnN0IF9yZW5kZXIgPSAoZSkgPT4ge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgICBjb25zdCBmaWVsZHNldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKTtcbiAgICBjb25zdCBsZWdlbmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGVnZW5kXCIpO1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBjb25zdCBuYW1lTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGNvbnN0IG1haW5CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG5cbiAgICBnZW5lcmFsTW9kYWwuY3JlYXRlQ2xvc2VCdG4oKTtcblxuICAgIG5hbWVMYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJuYW1lLWlucHV0XCIpO1xuICAgIG5hbWVMYWJlbC50ZXh0Q29udGVudCA9IFwiR3JvdXAgTmFtZVwiO1xuICAgIG5hbWVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgICBuYW1lSW5wdXQuc2V0QXR0cmlidXRlKFwicmVxdWlyZWRcIiwgXCJ0cnVlXCIpO1xuICAgIG5hbWVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm5hbWUtaW5wdXRcIik7XG4gICAgbmFtZUlucHV0LnNldEF0dHJpYnV0ZShcImF1dG9jb21wbGV0ZVwiLCBcIm9mZlwiKTtcbiAgICBuYW1lSW5wdXQuY2xhc3NMaXN0LmFkZChcImZvY3VzYWJsZVwiKTtcblxuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJhZGQtZ3JvdXAtYnRuXCIpKSB7XG4gICAgICBsZWdlbmQudGV4dENvbnRlbnQgPSBcIkFkZCBhIEdyb3VwXCI7XG4gICAgICBtYWluQnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJzdWJtaXRcIik7XG4gICAgICBtYWluQnRuLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiQUREIEdST1VQXCIpO1xuICAgICAgbWFpbkJ0bi5jbGFzc0xpc3QuYWRkKFwic3VibWl0LWdyb3VwLWJ0blwiLCBcInByaW1hcnktYnRuXCIsIFwiZm9jdXNhYmxlXCIsIFwic3VibWl0XCIpO1xuICAgICAgZGl2LmFwcGVuZENoaWxkKG1haW5CdG4pO1xuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZ3JvdXAtb3B0aW9uLWJ0blwiKSkge1xuICAgICAgY29uc3QgZGVsZXRlR3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgY29uc3QgZGVsZXRlQ29tcGxldGVkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcblxuICAgICAgbGVnZW5kLnRleHRDb250ZW50ID0gXCJHcm91cCBPcHRpb25zXCI7XG4gICAgICBtYWluQnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJzdWJtaXRcIik7XG4gICAgICBtYWluQnRuLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiVVBEQVRFXCIpO1xuICAgICAgbWFpbkJ0bi5jbGFzc0xpc3QuYWRkKFwidXBkYXRlLWdyb3VwLWJ0blwiLCBcInNlY29uZGFyeS1idG5cIiwgXCJmb2N1c2FibGVcIiwgXCJzdWJtaXRcIik7XG5cbiAgICAgIGRlbGV0ZUdyb3VwLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gICAgICBkZWxldGVHcm91cC5jbGFzc0xpc3QuYWRkKFwiZGVsZXRlLWdyb3VwLWJ0blwiLCBcImRlbGV0ZS1idG5cIiwgXCJmb2N1c2FibGVcIik7XG4gICAgICBkZWxldGVHcm91cC50ZXh0Q29udGVudCA9IFwiREVMRVRFIEdST1VQXCI7XG4gICAgICBkZWxldGVDb21wbGV0ZWQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcbiAgICAgIGRlbGV0ZUNvbXBsZXRlZC5jbGFzc0xpc3QuYWRkKFwiZGVsZXRlLWNvbXBsZXRlZC1idG5cIiwgXCJkZWxldGUtYnRuXCIsIFwiZm9jdXNhYmxlXCIpO1xuICAgICAgZGVsZXRlQ29tcGxldGVkLnRleHRDb250ZW50ID0gXCJERUxFVEUgQ09NUExFVEVEIFRBU0tTXCI7XG5cbiAgICAgIGlmIChET00uZGVmYXVsdEdyb3Vwcy5pbmRleE9mKERPTS5zZWxlY3RlZEdyb3VwLnRleHRDb250ZW50KSA+PSAwKSB7XG4gICAgICAgIG5hbWVMYWJlbC5zdHlsZS5vcGFjaXR5ID0gXCIwLjM4XCI7XG4gICAgICAgIG5hbWVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XG4gICAgICAgIG5hbWVJbnB1dC5zdHlsZS5vcGFjaXR5ID0gXCIwLjM4XCI7XG4gICAgICAgIG1haW5CdG4uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICBtYWluQnRuLnN0eWxlLm9wYWNpdHkgPSBcIjAuMzhcIjtcbiAgICAgICAgZGVsZXRlR3JvdXAuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICBkZWxldGVHcm91cC5zdHlsZS5vcGFjaXR5ID0gXCIwLjM4XCI7XG4gICAgICB9O1xuXG4gICAgICBkaXYuYXBwZW5kQ2hpbGQobWFpbkJ0bik7XG4gICAgICBkaXYuYXBwZW5kQ2hpbGQoZGVsZXRlR3JvdXApO1xuICAgICAgZGl2LmFwcGVuZENoaWxkKGRlbGV0ZUNvbXBsZXRlZCk7XG4gICAgfTtcblxuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKGxlZ2VuZCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQobmFtZUxhYmVsKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChuYW1lSW5wdXQpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKGRpdik7XG4gICAgZm9ybS5hcHBlbmRDaGlsZChmaWVsZHNldCk7XG4gICAgRE9NLm1vZGFsQm94LmFwcGVuZENoaWxkKGZvcm0pO1xuICB9O1xuXG4gIERPTS5ncm91cE9wdGlvbkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICBfcmVuZGVyKGUpO1xuICAgIGdlbmVyYWxNb2RhbC5vbk9wZW4oKTtcbiAgfSk7XG5cbiAgRE9NLmFkZEdyb3VwQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIF9yZW5kZXIoZSk7XG4gICAgZ2VuZXJhbE1vZGFsLm9uT3BlbigpO1xuICB9KTtcbn0pKCk7XG5cbmNvbnN0IHRhc2tNb2RhbCA9ICgoKSA9PiB7XG4gIC8vIHBhc3MgZ3JvdXAgbGlzdCBmcm9tIHRhc2sgbW9kdWxlIHBhdHRlcm4gaW4gbG9naWMuanMgZmlsZSBhcyBhcmd1bWVudFxuICBjb25zdCByZW5kZXIgPSAoZSwgZ3JvdXBPcHRpb25zKSA9PiB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO1xuICAgIGNvbnN0IGZpZWxkc2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpO1xuICAgIGNvbnN0IGxlZ2VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsZWdlbmRcIik7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGNvbnN0IG5hbWVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG5cbiAgICBjb25zdCBncm91cExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIGNvbnN0IGdyb3VwU2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcblxuICAgIGNvbnN0IHByaW9yaXR5TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgY29uc3QgcHJpb3JpdHlTZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xuICAgIGNvbnN0IHByaW9yaXR5T3B0aW9uMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgY29uc3QgcHJpb3JpdHlPcHRpb24yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcblxuICAgIGNvbnN0IGRhdGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICBjb25zdCBkYXRlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgY29uc3Qgbm90ZXNMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICBjb25zdCBub3Rlc0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuXG4gICAgZ2VuZXJhbE1vZGFsLmNyZWF0ZUNsb3NlQnRuKCk7XG5cbiAgICBuYW1lTGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwibmFtZS1pbnB1dFwiKTtcbiAgICBuYW1lTGFiZWwudGV4dENvbnRlbnQgPSBcIlRhc2sgTmFtZSAocmVxdWlyZWQpXCI7XG4gICAgbmFtZUlucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgIG5hbWVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm5hbWUtaW5wdXRcIik7XG4gICAgbmFtZUlucHV0LnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIFwiRW50ZXIgYSB0YXNrIG5hbWVcIik7XG4gICAgbmFtZUlucHV0LnNldEF0dHJpYnV0ZShcInJlcXVpcmVkXCIsIFwidHJ1ZVwiKTtcbiAgICBuYW1lSW5wdXQuc2V0QXR0cmlidXRlKFwiYXV0b2NvbXBsZXRlXCIsIFwib2ZmXCIpO1xuICAgIG5hbWVJbnB1dC5jbGFzc05hbWUgPSBcImZvY3VzYWJsZVwiO1xuXG4gICAgZ3JvdXBMYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJncm91cC1zZWxlY3RcIik7XG4gICAgZ3JvdXBMYWJlbC50ZXh0Q29udGVudCA9IFwiR3JvdXBcIjtcbiAgICBncm91cFNlbGVjdC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImdyb3VwLXNlbGVjdFwiKTtcbiAgICBncm91cFNlbGVjdC5jbGFzc05hbWUgPSBcImZvY3VzYWJsZVwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXBPcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGdyb3VwT3B0aW9uc1tpXSk7XG4gICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBncm91cE9wdGlvbnNbaV07XG4gICAgICBncm91cFNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgIH07XG4gICAgXG4gICAgcHJpb3JpdHlMYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJwcmlvcml0eS1zZWxlY3RcIik7XG4gICAgcHJpb3JpdHlMYWJlbC50ZXh0Q29udGVudCA9IFwiUHJpb3JpdHlcIjtcbiAgICBwcmlvcml0eVNlbGVjdC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInByaW9yaXR5LXNlbGVjdFwiKTtcbiAgICBwcmlvcml0eVNlbGVjdC5jbGFzc05hbWUgPSBcImZvY3VzYWJsZVwiO1xuICAgIHByaW9yaXR5T3B0aW9uMS50ZXh0Q29udGVudCA9IFwiTm9ybWFsXCI7XG4gICAgcHJpb3JpdHlPcHRpb24yLnRleHRDb250ZW50ID0gXCJJbXBvcnRhbnRcIjtcbiAgICBwcmlvcml0eVNlbGVjdC5hcHBlbmRDaGlsZChwcmlvcml0eU9wdGlvbjEpO1xuICAgIHByaW9yaXR5U2VsZWN0LmFwcGVuZENoaWxkKHByaW9yaXR5T3B0aW9uMik7XG5cbiAgICBkYXRlTGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwiZGF0ZS1zZWxlY3RcIik7XG4gICAgZGF0ZUxhYmVsLnRleHRDb250ZW50ID0gXCJEdWUgRGF0ZSAob3B0aW9uYWwpXCI7XG4gICAgZGF0ZUlucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJkYXRlXCIpO1xuICAgIGRhdGVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImRhdGUtc2VsZWN0XCIpO1xuICAgIGRhdGVJbnB1dC5jbGFzc05hbWUgPSBcImZvY3VzYWJsZVwiO1xuXG4gICAgbm90ZXNMYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJub3Rlcy1pbnB1dFwiKTtcbiAgICBub3Rlc0xhYmVsLnRleHRDb250ZW50ID0gXCJBZGRpdGlvbmFsIE5vdGVzXCI7XG4gICAgbm90ZXNJbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm5vdGVzLWlucHV0XCIpO1xuICAgIG5vdGVzSW5wdXQuc2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIiwgXCJFbnRlciBhbnkgYWRkaXRpb25hbCBub3RlcyBmb3IgdGhlIHRhc2tcIik7XG4gICAgbm90ZXNJbnB1dC5jbGFzc05hbWUgPSBcImZvY3VzYWJsZVwiO1xuXG4gICAgaWYgKGUudGFyZ2V0LnRleHRDb250ZW50LmluY2x1ZGVzKFwiQUREIFRBU0tcIikpIHtcbiAgICAgIGNvbnN0IGFkZE9uZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIGNvbnN0IGFkZE1hbnlCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG5cbiAgICAgIGxlZ2VuZC50ZXh0Q29udGVudCA9IFwiQWRkIGEgVGFza1wiO1xuXG4gICAgICBhZGRPbmVCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInN1Ym1pdFwiKTtcbiAgICAgIGFkZE9uZUJ0bi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIkFERCBPTkVcIik7XG4gICAgICBhZGRPbmVCdG4uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIkFkZCB0YXNrIGFuZCBjbG9zZSBtb2RhbFwiKTtcbiAgICAgIGFkZE9uZUJ0bi5jbGFzc0xpc3QuYWRkKFwiYWRkLXNpbmdsZS1idG5cIiwgXCJwcmltYXJ5LWJ0blwiLFwic3VibWl0XCIsIFwiZm9jdXNhYmxlXCIpO1xuXG4gICAgICBhZGRNYW55QnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJzdWJtaXRcIik7XG4gICAgICBhZGRNYW55QnRuLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiQUREIE1BTllcIik7XG4gICAgICBhZGRNYW55QnRuLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJBZGQgdGFzayBhbmQga2VlcCBtb2RhbCBvcGVuXCIpO1xuICAgICAgYWRkTWFueUJ0bi5jbGFzc0xpc3QuYWRkKFwiYWRkLW1hbnktYnRuXCIsIFwic2Vjb25kYXJ5LWJ0blwiLCBcInN1Ym1pdFwiLCBcImZvY3VzYWJsZVwiKTtcblxuICAgICAgZGl2LmFwcGVuZENoaWxkKGFkZE9uZUJ0bik7XG4gICAgICBkaXYuYXBwZW5kQ2hpbGQoYWRkTWFueUJ0bik7XG4gICAgfSBlbHNlIGlmIChlLnRhcmdldC50ZXh0Q29udGVudCA9PT0gKFwiRURJVFwiKSkge1xuICAgICAgY29uc3QgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcblxuICAgICAgbGVnZW5kLnRleHRDb250ZW50ID0gXCJFZGl0IFRhc2tcIjtcbiAgICAgIGdyb3VwU2VsZWN0LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgIGdyb3VwTGFiZWwuc3R5bGUub3BhY2l0eSA9IFwiMC4zOFwiO1xuICAgICAgZ3JvdXBTZWxlY3Quc3R5bGUub3BhY2l0eSA9IFwiMC4zOFwiO1xuXG4gICAgICBlZGl0QnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJzdWJtaXRcIik7XG4gICAgICBlZGl0QnRuLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiVVBEQVRFXCIpO1xuICAgICAgZWRpdEJ0bi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIFwiVXBkYXRlIHRhc2sgYW5kIGNsb3NlIG1vZGFsXCIpO1xuICAgICAgZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKFwidXBkYXRlLXRhc2stYnRuXCIsIFwicHJpbWFyeS1idG5cIiwgXCJmb2N1c2FibGVcIik7XG4gICAgICBkaXYuYXBwZW5kQ2hpbGQoZWRpdEJ0bik7XG4gICAgfTtcblxuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKGxlZ2VuZCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQobmFtZUxhYmVsKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChuYW1lSW5wdXQpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKGdyb3VwTGFiZWwpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQoZ3JvdXBTZWxlY3QpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQocHJpb3JpdHlMYWJlbCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChwcmlvcml0eVNlbGVjdCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChkYXRlTGFiZWwpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQoZGF0ZUlucHV0KTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKG5vdGVzTGFiZWwpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKG5vdGVzSW5wdXQpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKGRpdik7XG4gICAgZm9ybS5hcHBlbmRDaGlsZChmaWVsZHNldCk7XG4gICAgRE9NLm1vZGFsQm94LmFwcGVuZENoaWxkKGZvcm0pO1xuICB9O1xuXG4gIHJldHVybiB7cmVuZGVyfVxufSkoKTtcblxuZXhwb3J0IHtnZW5lcmFsTW9kYWwsIHdhcm5pbmdNb2RhbCwgZ3JvdXBNb2RhbCwgdGFza01vZGFsfSIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCB7ZGlzcGxheU9wdGlvbnMsIGFjY2Vzc2liaWxpdHlPcHRpb25zfSBmcm9tIFwiLi9zaXRlLXNldHRpbmdzXCI7XG5pbXBvcnQge2dyb3VwTW9kYWwsIHdhcm5pbmdNb2RhbH0gZnJvbSBcIi4vbW9kYWxzXCI7XG5pbXBvcnQge2dyb3VwcywgdGFza3MsIHRvRG99IGZyb20gXCIuL2xvZ2ljXCI7XG5pbXBvcnQgZm9ybWF0IGZyb20gJ2RhdGUtZm5zL2Zvcm1hdCc7XG5cbmNvbnNvbGUubG9nKHRvRG8ubGlzdCk7XG5cbmNvbnN0IERPTSA9ICgoKSA9PiB7XG4gIGNvbnN0IG1lbnVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haW4tbmF2XCIpO1xuICBjb25zdCBtZW51T3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS1idXR0b25cIik7XG4gIGNvbnN0IG1lbnVDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS1jbG9zZS1idXR0b25cIik7XG4gIFxuICByZXR1cm4ge1xuICAgIG1lbnVDb250YWluZXIsXG4gICAgbWVudU9wZW5CdXR0b24sXG4gICAgbWVudUNsb3NlQnV0dG9uXG4gIH1cbn0pKCk7XG5cbmNvbnN0IG1lbnVWaXNpYmlsaXR5ID0gKCgpID0+IHtcbiAgY29uc3QgX29uU2NyZWVuU2l6ZSA9ICgpID0+IHtcbiAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoID4gNzYzKSB7XG4gICAgICBET00ubWVudUNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICBET00ubWVudUNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gXCIwXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIERPTS5tZW51Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgRE9NLm1lbnVDb250YWluZXIuc3R5bGUubGVmdCA9IFwiLTgwMHB4XCI7XG4gICAgfTtcbiAgfTtcbiAgXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIF9vblNjcmVlblNpemUpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgX29uU2NyZWVuU2l6ZSk7XG5cbiAgY29uc3QgX3RvZ2dsZU1lbnUgPSAoKSA9PiB7XG4gICAgaWYgKERPTS5tZW51Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPT09IFwiaGlkZGVuXCIpIHtcbiAgICAgIERPTS5tZW51Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgIERPTS5tZW51Q29udGFpbmVyLnN0eWxlLmxlZnQgPSBcIjBcIjtcbiAgICAgIERPTS5tZW51Q2xvc2VCdXR0b24uZm9jdXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgRE9NLm1lbnVDb250YWluZXIuc3R5bGUubGVmdCA9IFwiLTgwMHB4XCI7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgRE9NLm1lbnVDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCJcbiAgICAgIH0sIDYwMCk7XG4gICAgICBET00ubWVudU9wZW5CdXR0b24uZm9jdXMoKTtcbiAgICB9O1xuICB9O1xuXG4gIERPTS5tZW51T3BlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgX3RvZ2dsZU1lbnUpO1xuICBET00ubWVudUNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBfdG9nZ2xlTWVudSk7XG59KSgpOyJdLCJzb3VyY2VSb290IjoiIn0=