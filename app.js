!function(){"use strict";const e={accessibilityContainer:document.querySelector("#accessibility-container"),animationSwitch:document.querySelector("#animation-switch"),githubLogo:document.querySelector("#lower-nav img"),themeSwitch:document.querySelector("#theme-switch")},t=()=>{localStorage.setItem("theme",document.documentElement.getAttribute("theme")),localStorage.setItem("animations-enabled",e.animationSwitch.getAttribute("aria-checked"))},a=((()=>{const a=e=>{"light"===document.documentElement.getAttribute("theme")?n():o(),t()},n=()=>{e.themeSwitch.setAttribute("aria-checked","false"),document.documentElement.setAttribute("theme","dark"),e.themeSwitch.style.backgroundPosition="center bottom -0.8rem",e.githubLogo.setAttribute("src","assets/images/logos/GitHub-Mark-Light-32px.png")},o=()=>{e.themeSwitch.setAttribute("aria-checked","true"),document.documentElement.setAttribute("theme","light"),e.themeSwitch.style.backgroundPosition="center top 2px",e.githubLogo.setAttribute("src","assets/images/logos/GitHub-Mark-32px.png")};e.themeSwitch.addEventListener("click",a),e.themeSwitch.addEventListener("keydown",(e=>{" "===e.key&&(e.preventDefault(),a())})),window.addEventListener("load",(()=>{"light"===localStorage.getItem("theme")?o():n()}))})(),(()=>{const a=()=>{"true"===e.animationSwitch.getAttribute("aria-checked")?o():n(),t()},n=()=>{e.animationSwitch.setAttribute("aria-checked","true"),document.documentElement.style.scrollBehavior="smooth",e.accessibilityContainer.style.transition="top 0.75s ease-in-out",e.animationSwitch.textContent="Animations Enabled",e.themeSwitch.style.transition="background-position 0.3s ease-in",document.querySelector("#main-nav").style.transition="left 0.5s",Array.from(document.querySelectorAll(".label-arrow")).forEach((e=>{e.style.transition="transform 0.75s"}))},o=()=>{e.animationSwitch.setAttribute("aria-checked","false"),document.documentElement.style.scrollBehavior="auto",e.animationSwitch.setAttribute("aria-checked","false"),e.animationSwitch.textContent="Animations Disabled",Array.from(document.querySelectorAll(".animated")).forEach((e=>{e.style.transition="none"}))};return e.animationSwitch.addEventListener("click",a),e.animationSwitch.addEventListener("keydown",(e=>{" "===e.key&&(e.preventDefault(),a())})),window.addEventListener("load",(()=>{"false"===localStorage.getItem("animations-enabled")?o():n()})),{animationsEnabled:n,animationsDisabled:o}})()),n={modalBox:document.querySelector(".modal-box"),modalContainer:document.querySelector(".modal-container")},o=(()=>{const e=()=>{for(;n.modalBox.firstChild;)n.modalBox.removeChild(n.modalBox.firstChild);n.modalContainer.style.display="none",n.modalBox.dataset.indexRef="",n.modalBox.dataset.groupRef=""};return window.addEventListener("keydown",(t=>{"Escape"===t.key&&e()})),{onClose:e,onOpen:()=>{n.modalContainer.style.display="flex",document.querySelector(".modal-close-button").focus()},createCloseBtn:()=>{const e=document.createElement("button");e.setAttribute("type","button"),e.setAttribute("aria-label","Close modal"),e.classList.add("modal-close-button","close-btn","focusable"),e.addEventListener("click",o.onClose),n.modalBox.appendChild(e)}}})(),r=((()=>{const e=e=>{e.target.classList.contains("disable-button")?a.animationsDisabled():e.target.classList.contains("enable-button")&&a.animationsEnabled(),t(),o.onClose()};window.addEventListener("load",(()=>{0===localStorage.length&&(()=>{const t=document.createElement("h1");t.textContent="This site uses minimal animation effects.";const a=document.createElement("p");a.textContent="Effects include moving menus and smooth scrolling. If you suffer from a vestibular disorder or otherwise prefer no animations, you can turn them off by clicking the first button below.";const o=document.createElement("p");o.textContent="You can later change this setting in the Display & Accessibility tab at the top of the page.";const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("disable-button","focusable","primary-btn"),r.textContent="DISABLE ANIMATIONS",r.addEventListener("click",e);const i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("enable-button","focusable","secondary-btn"),i.textContent="ENABLE ANIMATIONS",i.addEventListener("click",e),n.modalBox.appendChild(t),n.modalBox.appendChild(a),n.modalBox.appendChild(o),n.modalBox.appendChild(r),n.modalBox.appendChild(i),n.modalContainer.style.display="flex"})()}))})(),(()=>{const e=["Important","Next 7 Days","Later","Eventually"],t=document.querySelector(".selected-group"),a=a=>{const r=document.createElement("form"),i=document.createElement("fieldset"),s=document.createElement("legend"),l=document.createElement("div"),d=document.createElement("input"),c=document.createElement("label");c.setAttribute("for","name-input"),c.textContent="Group Name";const u=document.createElement("input");if(u.setAttribute("type","text"),u.setAttribute("required","true"),u.setAttribute("id","name-input"),u.setAttribute("autocomplete","off"),u.classList.add("focusable"),a.target.classList.contains("add-group-btn"))s.textContent="Add a Group",d.setAttribute("type","submit"),d.setAttribute("value","ADD GROUP"),d.classList.add("submit-group-btn","primary-btn","focusable","submit"),l.appendChild(d);else if(a.target.classList.contains("group-option-btn")){s.textContent="Group Options",d.setAttribute("type","submit"),d.setAttribute("value","UPDATE"),d.classList.add("update-group-btn","secondary-btn","focusable","submit");const a=document.createElement("button");a.setAttribute("type","button"),a.classList.add("delete-group-btn","delete-btn","focusable"),a.textContent="DELETE GROUP";const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add("delete-completed-btn","delete-btn","focusable"),n.textContent="DELETE COMPLETED TASKS",e.indexOf(t.textContent)>=0&&(c.style.opacity="0.38",u.setAttribute("disabled","true"),u.style.opacity="0.38",d.setAttribute("disabled","true"),d.style.opacity="0.38",a.setAttribute("disabled","true"),a.style.opacity="0.38"),l.appendChild(d),l.appendChild(a),l.appendChild(n)}i.appendChild(s),i.appendChild(c),i.appendChild(u),i.appendChild(l),r.appendChild(i),o.createCloseBtn(),n.modalBox.appendChild(r)};document.querySelector(".group-option-btn").addEventListener("click",(e=>{a(e),o.onOpen()})),document.querySelector(".add-group-btn").addEventListener("click",(e=>{a(e),o.onOpen()}))})(),(()=>{const e=["Normal","Important"];return{render:(t,a)=>{const r=document.createElement("form"),i=document.createElement("fieldset"),s=document.createElement("legend"),l=document.createElement("div"),d=document.createElement("label");d.setAttribute("for","name-input"),d.textContent="Task Name (required)";const c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("id","name-input"),c.setAttribute("placeholder","Enter a task name"),c.setAttribute("required","true"),c.setAttribute("autocomplete","off"),c.className="focusable";const u=document.createElement("label");u.setAttribute("for","group-select"),u.textContent="Group";const m=document.createElement("select");m.setAttribute("id","group-select"),m.className="focusable";for(let e=0;e<a.length;e++){const t=document.createElement("option");t.setAttribute("value",a[e]),t.textContent=a[e],m.appendChild(t)}const p=document.createElement("label");p.setAttribute("for","priority-select"),p.textContent="Priority";const h=document.createElement("select");h.setAttribute("id","priority-select"),h.className="focusable";for(let t=0;t<e.length;t++){const a=document.createElement("option");a.setAttribute("value",e[t]),a.textContent=e[t],h.appendChild(a)}const b=document.createElement("label");b.setAttribute("for","date-select"),b.textContent="Due Date (optional)";const f=document.createElement("input");f.setAttribute("type","date"),f.setAttribute("id","date-select"),f.className="focusable";const g=document.createElement("label");g.setAttribute("for","notes-input"),g.textContent="Additional Notes";const y=document.createElement("textarea");if(y.setAttribute("id","notes-input"),y.setAttribute("placeholder","Enter any additional notes for the task"),y.className="focusable",t.target.textContent.includes("ADD TASK")){s.textContent="Add a Task";const e=document.createElement("input");e.setAttribute("type","submit"),e.setAttribute("value","ADD ONE"),e.setAttribute("aria-label","Add task and close modal"),e.classList.add("add-single-btn","primary-btn","submit","focusable");const t=document.createElement("input");t.setAttribute("type","submit"),t.setAttribute("value","ADD MANY"),t.setAttribute("aria-label","Add task and keep modal open"),t.classList.add("add-many-btn","secondary-btn","submit","focusable"),l.appendChild(e),l.appendChild(t)}else if("EDIT"===t.target.textContent){s.textContent="Edit Task";const e=document.createElement("input");e.setAttribute("type","submit"),e.setAttribute("value","UPDATE"),e.setAttribute("aria-label","Update task and close modal"),e.classList.add("update-task-btn","primary-btn","focusable"),m.setAttribute("disabled","true"),u.style.opacity="0.38",m.style.opacity="0.38",l.appendChild(e)}i.appendChild(s),i.appendChild(d),i.appendChild(c),i.appendChild(u),i.appendChild(document.createElement("br")),i.appendChild(m),i.appendChild(document.createElement("br")),i.appendChild(p),i.appendChild(document.createElement("br")),i.appendChild(h),i.appendChild(document.createElement("br")),i.appendChild(b),i.appendChild(document.createElement("br")),i.appendChild(f),i.appendChild(document.createElement("br")),i.appendChild(g),i.appendChild(y),i.appendChild(l),r.appendChild(i),o.createCloseBtn(),n.modalBox.appendChild(r)}}})());var i=6e4;function s(e){return e.getTime()%i}function l(e){var t=new Date(e.getTime()),a=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var n=a>0?(i+s(t))%i:s(t);return a*i+n}function d(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function c(e){d(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function u(e,t){d(2,arguments);var a=c(e),n=c(t),o=a.getTime()-n.getTime();return o<0?-1:o>0?1:o}function m(e,t){d(2,arguments);var a=c(e),n=c(t);return a.getTime()-n.getTime()}function p(e,t){d(2,arguments);var a=m(e,t)/1e3;return a>0?Math.floor(a):Math.ceil(a)}function h(e){return function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var a in t=t||{})t.hasOwnProperty(a)&&(e[a]=t[a]);return e}({},e)}var b={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function f(e){return function(t){var a=t||{},n=a.width?String(a.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var g={date:f({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:f({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:f({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},y={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function v(e){return function(t,a){var n,o=a||{};if("formatting"===(o.context?String(o.context):"standalone")&&e.formattingValues){var r=e.defaultFormattingWidth||e.defaultWidth,i=o.width?String(o.width):r;n=e.formattingValues[i]||e.formattingValues[r]}else{var s=e.defaultWidth,l=o.width?String(o.width):e.defaultWidth;n=e.values[l]||e.values[s]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function k(e){return function(t,a){var n=String(t),o=a||{},r=o.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=n.match(i);if(!s)return null;var l,d=s[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth];return l="[object Array]"===Object.prototype.toString.call(c)?function(e,t){for(var a=0;a<e.length;a++)if(e[a].test(d))return a}(c):function(e,t){for(var a in e)if(e.hasOwnProperty(a)&&e[a].test(d))return a}(c),l=e.valueCallback?e.valueCallback(l):l,{value:l=o.valueCallback?o.valueCallback(l):l,rest:n.slice(d.length)}}}var E,C={code:"en-US",formatDistance:function(e,t,a){var n;return a=a||{},n="string"==typeof b[e]?b[e]:1===t?b[e].one:b[e].other.replace("{{count}}",t),a.addSuffix?a.comparison>0?"in "+n:n+" ago":n},formatLong:g,formatRelative:function(e,t,a,n){return y[e]},localize:{ordinalNumber:function(e,t){var a=Number(e),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},era:v({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:v({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:v({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:v({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:v({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(E={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e,t){var a=String(e),n=t||{},o=a.match(E.matchPattern);if(!o)return null;var r=o[0],i=a.match(E.parsePattern);if(!i)return null;var s=E.valueCallback?E.valueCallback(i[0]):i[0];return{value:s=n.valueCallback?n.valueCallback(s):s,rest:a.slice(r.length)}}),era:k({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:k({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:k({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:k({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:k({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},w=1440,A=43200,L=525600;function x(e,t,a){d(2,arguments);var n=a||{},o=n.locale||C;if(!o.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var r=u(e,t);if(isNaN(r))throw new RangeError("Invalid time value");var i,s,m=h(n);m.addSuffix=Boolean(n.addSuffix),m.comparison=r,r>0?(i=c(t),s=c(e)):(i=c(e),s=c(t));var b,f=null==n.roundingMethod?"round":String(n.roundingMethod);if("floor"===f)b=Math.floor;else if("ceil"===f)b=Math.ceil;else{if("round"!==f)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");b=Math.round}var g,y=p(s,i),v=(l(s)-l(i))/1e3,k=b((y-v)/60);if("second"===(g=null==n.unit?k<1?"second":k<60?"minute":k<w?"hour":k<A?"day":k<L?"month":"year":String(n.unit)))return o.formatDistance("xSeconds",y,m);if("minute"===g)return o.formatDistance("xMinutes",k,m);if("hour"===g){var E=b(k/60);return o.formatDistance("xHours",E,m)}if("day"===g){var x=b(k/w);return o.formatDistance("xDays",x,m)}if("month"===g){var S=b(k/A);return o.formatDistance("xMonths",S,m)}if("year"===g){var D=b(k/L);return o.formatDistance("xYears",D,m)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function S(e){d(1,arguments);var t=c(e);return t.setHours(0,0,0,0),t}var D=864e5;function q(e,t){d(2,arguments);var a=S(e),n=S(t),o=a.getTime()-l(a),r=n.getTime()-l(n);return Math.round((o-r)/D)}const N=(()=>{const e=document.querySelector(".custom-groups-container");return{render:t=>{(()=>{for(;e.firstChild;)e.removeChild(e.firstChild)})(),Object.keys(t).forEach((t=>{const a=document.createElement("button");a.setAttribute("type","button"),a.setAttribute("aria-label",`Group name: ${t}`),a.classList.add("custom-group","focusable","group-btn"),a.textContent=t,e.appendChild(a)}))}}})(),M=(()=>{const e=document.querySelector(".selected-group"),t=document.querySelector(".task-container"),a=e=>{const t=new Date;return q(new Date(e.split("-").join(", ")),t)},n=(e,a,n)=>{const o=document.createElement("section");o.setAttribute("data-group",a),o.setAttribute("data-index",n),o.className="task-item";const r=document.createElement("span");if(r.setAttribute("aria-label",`${e.priority} task`),r.className="task-priority","Important"===e.priority){const e=document.createElement("span");e.className="material-icons",e.textContent="priority_high",r.appendChild(e)}const i=document.createElement("span");i.setAttribute("role","checkbox"),i.setAttribute("aria-checked","false"),i.setAttribute("tabindex","0"),i.setAttribute("aria-label",e.taskName),i.classList.add("task-status","focusable"),e.completed&&(i.style.backgroundImage="url(assets/images/icons/done-black-24dp.svg)");const s=document.createElement("span");s.setAttribute("role","button"),s.setAttribute("tabindex","0"),s.setAttribute("aria-label",`Details for ${e.taskName}`),s.classList.add("task-name","focusable"),s.textContent=e.taskName;const l=document.createElement("span");l.setAttribute("aria-label",`Due date for task ${e.taskName}: ${e.dueDate}`),l.className="task-date",l.textContent=(e=>{const t=new Date,a=new Date(e.split("-").join(", "));switch(!0){case""===e:return"No due date";case q(a,t)<0:return"Due date passed";case 0===q(a,t):return"Today";case 1===q(a,t):return"Tomorrow";case q(a,t)<=29:return q(a,t)+" days";default:return function(e,t){return d(1,arguments),x(e,Date.now(),t)}(a)}})(e.dueDate);const c=document.createElement("div");c.setAttribute("data-task",e.taskName),c.setAttribute("data-group",a),c.setAttribute("data-index",n),c.className="task-details";const u=document.createElement("p"),m=e.notes.split("\n");u.className="task-notes";for(let e=0;e<m.length;e++){const t=document.createTextNode(m[e]);u.appendChild(t),u.appendChild(document.createElement("br"))}const p=document.createElement("button");p.setAttribute("type","button"),p.setAttribute("aria-label",`Edit task ${e.taskName}`),p.classList.add("edit-btn","focusable"),p.textContent="EDIT";const h=document.createElement("button");h.setAttribute("type","button"),h.setAttribute("aria-label",`Delete task ${e.taskName}`),h.classList.add("delete-btn","focusable"),h.textContent="DELETE",c.appendChild(u),c.appendChild(p),c.appendChild(h),o.appendChild(r),o.appendChild(i),o.appendChild(s),o.appendChild(l),o.appendChild(c),t.appendChild(o)};return{loadGroupTasks:(e,o)=>{const r=Object.keys(e);switch((()=>{for(;t.firstChild;)t.removeChild(t.firstChild)})(),o){case document.getElementById("important"):Object.values(e).forEach(((e,t)=>{for(let a=0;a<e.length;a++)"Important"===e[a].priority&&n(e[a],r[t],a)}));break;case document.getElementById("next-7-days"):Object.values(e).forEach(((e,t)=>{for(let o=0;o<e.length;o++)a(e[o].dueDate)<=7&&n(e[o],r[t],o)}));break;case document.getElementById("later"):Object.values(e).forEach(((e,t)=>{for(let o=0;o<e.length;o++)a(e[o].dueDate)>7&&n(e[o],r[t],o)}));break;case document.getElementById("eventually"):Object.values(e).forEach(((e,t)=>{for(let a=0;a<e.length;a++)""===e[a].dueDate&&n(e[a],r[t],a)}));break;default:e[o.textContent].forEach(((e,t)=>{n(e,o.textContent,t)}))}if(0===t.children.length){const e=document.createElement("h2");e.textContent="No tasks for this group!",t.appendChild(e)}},updateHeader:t=>{e.textContent=t.textContent}}})(),T={activeOnLoad:document.getElementById("important"),defaultGroups:["Important","Next 7 Days","Later","Eventually"],modalBox:document.querySelector(".modal-box"),taskHeader:document.querySelector(".selected-group")},O=(()=>{const e=JSON.parse(localStorage.getItem("toDo-list"))||{Example:[{taskName:"Do the dishes",completed:!1,priority:"Normal",dueDate:"",notes:"Let the pans soak, put the plates in the dishwasher, wash the mugs by hand.\n\nWash pans after 30 minutes soaking."},{taskName:"Bring Muffin to vet",completed:!1,priority:"Important",dueDate:"2021-12-31",notes:"Pack her favorite toy so she stays calm."}]};return window.addEventListener("load",(t=>{N.render(e),M.loadGroupTasks(e,T.activeOnLoad)})),{masterList:e,saveToLocal:()=>{localStorage.setItem("toDo-list",JSON.stringify(list))}}})(),P=(()=>{const e=e=>{e.classList.add("active")};return document.getElementById("main-nav").addEventListener("click",(t=>{t.target.classList.contains("group-btn")&&(Array.from(document.getElementsByClassName("group-btn")).forEach((e=>{e.classList.remove("active")})),e(t.target),M.updateHeader(t.target),M.loadGroupTasks(O.masterList,t.target))})),{create:e=>{O.masterList[e]=[],console.log(O.masterList)},update:(e,t)=>{delete Object.assign(O.masterList,{[t]:O.masterList[e]})[e],console.log(O.masterList)},checkName:e=>T.defaultGroups.indexOf(e)>=0||Object.keys(O.masterList).indexOf(e)>=0||e.match(/^\s{1,}$/)||""===e,remove:e=>{delete O.masterList[e],console.log(O.masterList)},setActive:e}})(),B=(()=>{const e=document.querySelector(".task-container"),t=e=>{switch(!0){case e.target.classList.contains("task-status"):(e=>{const t=e.dataset.group,a=e.dataset.index;null===e.children[1].getAttribute("style")?(O.masterList[t][a].completed=!0,e.children[1].style.backgroundImage="url(assets/images/icons/done-black-24dp.svg)"):(O.masterList[t][a].completed=!1,e.children[1].removeAttribute("style")),console.log(O.masterList)})(e.target.parentElement);break;case e.target.classList.contains("task-name"):e.target.parentElement.children[4].classList.toggle("expanded");break;case e.target.classList.contains("edit-btn"):r.render(e,Object.keys(O.masterList)),(e=>{const t=e.dataset.group,a=e.dataset.index;T.modalBox.dataset.indexRef=a,T.modalBox.dataset.groupRef=t,document.querySelector("#name-input").value=O.masterList[t][a].taskName,document.querySelector("#group-select").value=t,document.querySelector("#priority-select").value=O.masterList[t][a].priority,document.querySelector("#date-select").value=O.masterList[t][a].dueDate,document.querySelector("#notes-input").value=O.masterList[t][a].notes})(e.target.parentElement),o.onOpen();break;case e.target.classList.contains("delete-btn"):confirm(`Please click "OK" to confirm deletion of task \n            "${e.target.parentElement.dataset.task}".`)&&(a(e.target.parentElement),M.loadGroupTasks(O.masterList,document.querySelector(".active")));break;default:return}},a=e=>{O.masterList[e.dataset.group].splice(e.dataset.index,1),e.remove(),console.log(O.masterList)};return document.querySelector(".add-task-btn").addEventListener("click",(e=>{0!==Object.keys(O.masterList).length?(r.render(e,Object.keys(O.masterList)),o.onOpen()):alert("No groups exist. Please create a group before adding a task.")})),e.addEventListener("click",t),e.addEventListener("keydown",(e=>{" "===e.key&&(e.target.classList.contains("task-status")||e.target.classList.contains("task-name"))&&(e.preventDefault(),t(e))})),{create:(e,t,a,n,o)=>({taskName:e,priority:t,dueDate:a,notes:n,completed:o}),update:()=>{const e=T.modalBox.getAttribute("data-group-ref"),t=T.modalBox.getAttribute("data-index-ref");O.masterList[e][t].taskName=document.querySelector("#name-input").value,O.masterList[e][t].priority=document.querySelector("#priority-select").value,O.masterList[e][t].dueDate=document.querySelector("#date-select").value,O.masterList[e][t].notes=document.querySelector("#notes-input").value},checkName:e=>e.match(/^\s{1,}$/)||""===e,removeSingle:a,removeCompleted:e=>{if(T.defaultGroups.indexOf(e)>=0){const e=Object.keys(O.masterList);Object.values(O.masterList).forEach(((t,a)=>{for(let n=t.length-1;n>=0;n--)!0===t[n].completed&&O.masterList[e[a]].splice(n,1)}))}else O.masterList[e].forEach((t=>{for(let a=O.masterList[e].length-1;a>=0;a--)!0===t.completed&&O.masterList[e].splice(a,1)}))},confirmMassRemove:()=>T.defaultGroups.indexOf(T.taskHeader.textContent)>=0?confirm('This will delete all completed tasks in every group. \n\nPlease click "OK" to confirm deletion.'):confirm(`This will delete all completed tasks in the ${T.taskHeader.textContent} group.\n\nPlease click "OK" to confirm deletion.`)}})();T.modalBox.addEventListener("click",(e=>{const t=document.querySelector(".active"),a=document.querySelector("#name-input"),n=document.querySelector("#group-select");switch(e.target){case document.querySelector(".submit-group-btn"):case document.querySelector(".update-group-btn"):if(e.preventDefault(),P.checkName(a.value))return void alert("Group name cannot be blank and cannot already be taken.\n\nPlease enter a new name.");e.target.classList.contains("submit-group-btn")?(P.create(a.value),N.render(O.masterList),P.setActive(T.activeOnLoad),M.loadGroupTasks(O.masterList,T.activeOnLoad),M.updateHeader(T.activeOnLoad)):(P.update(T.taskHeader.textContent,a.value),t.textContent=a.value,M.updateHeader(t)),o.onClose();break;case document.querySelector(".delete-group-btn"):confirm(`This will delete the ${T.taskHeader.textContent} group, along with any tasks within it.\n\nPlease click "OK" to confirm deletion.`)&&(P.remove(T.taskHeader.textContent),o.onClose(),N.render(O.masterList),P.setActive(T.activeOnLoad),M.loadGroupTasks(O.masterList,T.activeOnLoad),M.updateHeader(T.activeOnLoad));break;case document.querySelector(".delete-completed-btn"):B.confirmMassRemove()&&(B.removeCompleted(T.taskHeader.textContent),o.onClose(),M.loadGroupTasks(O.masterList,t),console.log(O.masterList));break;case document.querySelector(".add-single-btn"):case document.querySelector(".add-many-btn"):if(e.preventDefault(),B.checkName(a.value))return void alert("Task name cannot be blank.\n\nPlease enter a new name.");{const r=B.create(a.value,document.querySelector("#priority-select").value,document.querySelector("#date-select").value,document.querySelector("#notes-input").value,!1);O.masterList[n.value].push(r),e.target.classList.contains("add-many-btn")?(a.focus(),a.value="",n.selectedIndex=0,document.querySelector("#priority-select").selectedIndex=0,document.querySelector("#date-select").value="",document.querySelector("#notes-input").value=""):o.onClose(),M.loadGroupTasks(O.masterList,t),console.log(O.masterList)}break;case document.querySelector(".update-task-btn"):if(e.preventDefault(),B.checkName(a.value))return void alert("Task name cannot be blank.\n\nPlease enter a new name.");B.update(),o.onClose(),M.loadGroupTasks(O.masterList,T.taskHeader),console.log(O.masterList);break;default:return}})),console.log(O.masterList),(()=>{const e=document.querySelector("#main-nav"),t=document.querySelector(".menu-button"),a=document.querySelector(".menu-close-button"),n=()=>{document.documentElement.scrollWidth>763?(e.style.visibility="visible",e.style.left="0"):(e.style.visibility="hidden",e.style.left="-800px")};window.addEventListener("resize",n),window.addEventListener("load",n);const o=()=>{"hidden"===e.style.visibility?(e.style.visibility="visible",e.style.left="0",a.focus()):(e.style.left="-800px",setTimeout((()=>{e.style.visibility="hidden"}),600),t.focus())};t.addEventListener("click",o),a.addEventListener("click",o)})()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc2l0ZS1zZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbW9kYWxzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi9nZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS90b0RhdGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9jb21wYXJlQXNjL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vZGlmZmVyZW5jZUluU2Vjb25kcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL19saWIvY2xvbmVPYmplY3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9fbGliL2Fzc2lnbi9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2xvY2FsZS9lbi1VUy9fbGliL2Zvcm1hdERpc3RhbmNlL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vbG9jYWxlL19saWIvYnVpbGRGb3JtYXRMb25nRm4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9sb2NhbGUvZW4tVVMvX2xpYi9mb3JtYXRMb25nL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vbG9jYWxlL2VuLVVTL19saWIvZm9ybWF0UmVsYXRpdmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9sb2NhbGUvX2xpYi9idWlsZExvY2FsaXplRm4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9sb2NhbGUvX2xpYi9idWlsZE1hdGNoRm4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9sb2NhbGUvZW4tVVMvX2xpYi9tYXRjaC9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2xvY2FsZS9fbGliL2J1aWxkTWF0Y2hQYXR0ZXJuRm4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9sb2NhbGUvZW4tVVMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9sb2NhbGUvZW4tVVMvX2xpYi9sb2NhbGl6ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2Zvcm1hdERpc3RhbmNlU3RyaWN0L2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vc3RhcnRPZkRheS9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2RpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvcmVuZGVyLWNvbnRhaW5lcnMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9mb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0L2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9sb2dpYy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiRE9NIiwiYWNjZXNzaWJpbGl0eUNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFuaW1hdGlvblN3aXRjaCIsImdpdGh1YkxvZ28iLCJ0aGVtZVN3aXRjaCIsInNldHRpbmdzIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImRvY3VtZW50RWxlbWVudCIsImdldEF0dHJpYnV0ZSIsImFjY2Vzc2liaWxpdHlPcHRpb25zIiwiX3RvZ2dsZVRoZW1lIiwiZSIsIl9kYXJrVGhlbWUiLCJfbGlnaHRUaGVtZSIsInNldEF0dHJpYnV0ZSIsInN0eWxlIiwiYmFja2dyb3VuZFBvc2l0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImtleSIsInByZXZlbnREZWZhdWx0Iiwid2luZG93IiwiZ2V0SXRlbSIsIl90b2dnbGVBbmltYXRpb25zIiwiYW5pbWF0aW9uc0Rpc2FibGVkIiwiYW5pbWF0aW9uc0VuYWJsZWQiLCJzY3JvbGxCZWhhdmlvciIsInRyYW5zaXRpb24iLCJ0ZXh0Q29udGVudCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiaXRlbSIsIm1vZGFsQm94IiwibW9kYWxDb250YWluZXIiLCJnZW5lcmFsTW9kYWwiLCJvbkNsb3NlIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiZGlzcGxheSIsImRhdGFzZXQiLCJpbmRleFJlZiIsImdyb3VwUmVmIiwib25PcGVuIiwiZm9jdXMiLCJjcmVhdGVDbG9zZUJ0biIsImNsb3NlQnRuIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImFwcGVuZENoaWxkIiwidGFza01vZGFsIiwiX3NlbGVjdE9wdGlvbiIsInRhcmdldCIsImNvbnRhaW5zIiwibGVuZ3RoIiwiaGVhZGluZyIsInBhcmExIiwicGFyYTIiLCJkaXNhYmxlQnV0dG9uIiwiZW5hYmxlQnV0dG9uIiwiX3JlbmRlciIsIl9kZWZhdWx0R3JvdXBzIiwiX3Rhc2tIZWFkZXIiLCJmb3JtIiwiZmllbGRzZXQiLCJsZWdlbmQiLCJkaXYiLCJtYWluQnRuIiwibmFtZUxhYmVsIiwibmFtZUlucHV0IiwiZGVsZXRlR3JvdXAiLCJkZWxldGVDb21wbGV0ZWQiLCJpbmRleE9mIiwib3BhY2l0eSIsIl9wcmlvcml0eUFycmF5IiwicmVuZGVyIiwiZ3JvdXBBcnJheSIsImNsYXNzTmFtZSIsImdyb3VwTGFiZWwiLCJncm91cFNlbGVjdCIsImkiLCJncm91cE9wdGlvbiIsInByaW9yaXR5TGFiZWwiLCJwcmlvcml0eVNlbGVjdCIsInByaW9yaXR5T3B0aW9uIiwiZGF0ZUxhYmVsIiwiZGF0ZUlucHV0Iiwibm90ZXNMYWJlbCIsIm5vdGVzSW5wdXQiLCJpbmNsdWRlcyIsImFkZE9uZUJ0biIsImFkZE1hbnlCdG4iLCJlZGl0QnRuIiwiTUlMTElTRUNPTkRTX0lOX01JTlVURSIsImdldERhdGVNaWxsaXNlY29uZHNQYXJ0IiwiZGF0ZSIsImdldFRpbWUiLCJnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzIiwiZGlydHlEYXRlIiwiRGF0ZSIsImJhc2VUaW1lem9uZU9mZnNldCIsIk1hdGgiLCJjZWlsIiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJzZXRTZWNvbmRzIiwibWlsbGlzZWNvbmRzUGFydE9mVGltZXpvbmVPZmZzZXQiLCJyZXF1aXJlZEFyZ3MiLCJyZXF1aXJlZCIsImFyZ3MiLCJUeXBlRXJyb3IiLCJ0b0RhdGUiLCJhcmd1bWVudCIsImFyZ3VtZW50cyIsImFyZ1N0ciIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsImNvbnNvbGUiLCJ3YXJuIiwiRXJyb3IiLCJzdGFjayIsIk5hTiIsImNvbXBhcmVBc2MiLCJkaXJ0eURhdGVMZWZ0IiwiZGlydHlEYXRlUmlnaHQiLCJkYXRlTGVmdCIsImRhdGVSaWdodCIsImRpZmYiLCJkaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMiLCJkaWZmZXJlbmNlSW5TZWNvbmRzIiwiZmxvb3IiLCJjbG9uZU9iamVjdCIsImRpcnR5T2JqZWN0IiwicHJvcGVydHkiLCJoYXNPd25Qcm9wZXJ0eSIsImZvcm1hdERpc3RhbmNlTG9jYWxlIiwibGVzc1RoYW5YU2Vjb25kcyIsIm9uZSIsIm90aGVyIiwieFNlY29uZHMiLCJoYWxmQU1pbnV0ZSIsImxlc3NUaGFuWE1pbnV0ZXMiLCJ4TWludXRlcyIsImFib3V0WEhvdXJzIiwieEhvdXJzIiwieERheXMiLCJhYm91dFhXZWVrcyIsInhXZWVrcyIsImFib3V0WE1vbnRocyIsInhNb250aHMiLCJhYm91dFhZZWFycyIsInhZZWFycyIsIm92ZXJYWWVhcnMiLCJhbG1vc3RYWWVhcnMiLCJidWlsZEZvcm1hdExvbmdGbiIsImRpcnR5T3B0aW9ucyIsIm9wdGlvbnMiLCJ3aWR0aCIsIlN0cmluZyIsImRlZmF1bHRXaWR0aCIsImZvcm1hdHMiLCJmb3JtYXRMb25nIiwiZnVsbCIsImxvbmciLCJtZWRpdW0iLCJzaG9ydCIsInRpbWUiLCJkYXRlVGltZSIsImZvcm1hdFJlbGF0aXZlTG9jYWxlIiwibGFzdFdlZWsiLCJ5ZXN0ZXJkYXkiLCJ0b2RheSIsInRvbW9ycm93IiwibmV4dFdlZWsiLCJidWlsZExvY2FsaXplRm4iLCJkaXJ0eUluZGV4IiwidmFsdWVzQXJyYXkiLCJjb250ZXh0IiwiZm9ybWF0dGluZ1ZhbHVlcyIsImRlZmF1bHRGb3JtYXR0aW5nV2lkdGgiLCJfZGVmYXVsdFdpZHRoIiwiX3dpZHRoIiwidmFsdWVzIiwiYXJndW1lbnRDYWxsYmFjayIsImJ1aWxkTWF0Y2hGbiIsImRpcnR5U3RyaW5nIiwic3RyaW5nIiwibWF0Y2hQYXR0ZXJuIiwibWF0Y2hQYXR0ZXJucyIsImRlZmF1bHRNYXRjaFdpZHRoIiwibWF0Y2hSZXN1bHQiLCJtYXRjaCIsInZhbHVlIiwibWF0Y2hlZFN0cmluZyIsInBhcnNlUGF0dGVybnMiLCJkZWZhdWx0UGFyc2VXaWR0aCIsImFycmF5IiwicHJlZGljYXRlIiwidGVzdCIsImZpbmRJbmRleCIsIm9iamVjdCIsImZpbmRLZXkiLCJ2YWx1ZUNhbGxiYWNrIiwicmVzdCIsInNsaWNlIiwiY29kZSIsImZvcm1hdERpc3RhbmNlIiwidG9rZW4iLCJjb3VudCIsInJlc3VsdCIsInJlcGxhY2UiLCJhZGRTdWZmaXgiLCJjb21wYXJpc29uIiwiZm9ybWF0UmVsYXRpdmUiLCJfZGF0ZSIsIl9iYXNlRGF0ZSIsIl9vcHRpb25zIiwibG9jYWxpemUiLCJvcmRpbmFsTnVtYmVyIiwiZGlydHlOdW1iZXIiLCJfZGlydHlPcHRpb25zIiwibnVtYmVyIiwiTnVtYmVyIiwicmVtMTAwIiwiZXJhIiwibmFycm93IiwiYWJicmV2aWF0ZWQiLCJ3aWRlIiwicXVhcnRlciIsIm1vbnRoIiwiZGF5IiwiZGF5UGVyaW9kIiwiYW0iLCJwbSIsIm1pZG5pZ2h0Iiwibm9vbiIsIm1vcm5pbmciLCJhZnRlcm5vb24iLCJldmVuaW5nIiwibmlnaHQiLCJwYXJzZVBhdHRlcm4iLCJwYXJzZUludCIsInBhcnNlUmVzdWx0IiwiYW55IiwiaW5kZXgiLCJ3ZWVrU3RhcnRzT24iLCJmaXJzdFdlZWtDb250YWluc0RhdGUiLCJNSU5VVEVTX0lOX0RBWSIsIk1JTlVURVNfSU5fTU9OVEgiLCJNSU5VVEVTX0lOX1lFQVIiLCJmb3JtYXREaXN0YW5jZVN0cmljdCIsImRpcnR5QmFzZURhdGUiLCJsb2NhbGUiLCJSYW5nZUVycm9yIiwiaXNOYU4iLCJsb2NhbGl6ZU9wdGlvbnMiLCJCb29sZWFuIiwicm91bmRpbmdNZXRob2RGbiIsInJvdW5kaW5nTWV0aG9kIiwicm91bmQiLCJ1bml0Iiwic2Vjb25kcyIsIm9mZnNldEluU2Vjb25kcyIsIm1pbnV0ZXMiLCJob3VycyIsImRheXMiLCJtb250aHMiLCJ5ZWFycyIsInN0YXJ0T2ZEYXkiLCJzZXRIb3VycyIsIk1JTExJU0VDT05EU19JTl9EQVkiLCJkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMiLCJzdGFydE9mRGF5TGVmdCIsInN0YXJ0T2ZEYXlSaWdodCIsInRpbWVzdGFtcExlZnQiLCJ0aW1lc3RhbXBSaWdodCIsImdyb3VwQ29udGFpbmVyIiwiX2N1c3RvbUdyb3VwcyIsImxpc3QiLCJfY2xlYXIiLCJrZXlzIiwiZ3JvdXAiLCJidXR0b24iLCJ0YXNrQ29udGFpbmVyIiwiX3Rhc2tMaXN0IiwiX2NoZWNrRGF0ZSIsIm5vdyIsInNwbGl0Iiwiam9pbiIsInRhc2siLCJ0YXNrSXRlbSIsInByaW9yaXR5Qm94IiwicHJpb3JpdHkiLCJpY29uIiwic3RhdHVzQm94IiwidGFza05hbWUiLCJjb21wbGV0ZWQiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJuYW1lRmllbGQiLCJkYXRlRmllbGQiLCJkdWVEYXRlIiwibmV3RGF0ZSIsImZvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3QiLCJfZm9ybWF0dGVkRGF0ZSIsImRldGFpbHMiLCJub3Rlc0ZpZWxkIiwibm90ZXNBcnJheSIsIm5vdGVzIiwidGV4dCIsImNyZWF0ZVRleHROb2RlIiwiZGVsZXRlQnRuIiwibG9hZEdyb3VwVGFza3MiLCJrZXlBcnJheSIsImdldEVsZW1lbnRCeUlkIiwiY2hpbGRyZW4iLCJoMiIsInVwZGF0ZUhlYWRlciIsImFjdGl2ZU9uTG9hZCIsImRlZmF1bHRHcm91cHMiLCJ0YXNrSGVhZGVyIiwidG9EbyIsIm1hc3Rlckxpc3QiLCJKU09OIiwicGFyc2UiLCJFeGFtcGxlIiwic2F2ZVRvTG9jYWwiLCJzdHJpbmdpZnkiLCJncm91cHMiLCJzZXRBY3RpdmUiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicmVtb3ZlIiwiY3JlYXRlIiwibmFtZSIsImxvZyIsInVwZGF0ZSIsIm9sZE5hbWUiLCJuZXdOYW1lIiwiYXNzaWduIiwiY2hlY2tOYW1lIiwidGFza3MiLCJfcmVzb2x2ZVRhc2tFdmVudCIsIm5vZGUiLCJncm91cERhdGEiLCJ0YXNrSW5kZXgiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfY2hhbmdlU3RhdHVzIiwicGFyZW50RWxlbWVudCIsInRvZ2dsZSIsIl9nZXRUYXNrRGF0YSIsImNvbmZpcm0iLCJyZW1vdmVTaW5nbGUiLCJzcGxpY2UiLCJhbGVydCIsInRhc2tSZWYiLCJyZW1vdmVDb21wbGV0ZWQiLCJjb25maXJtTWFzc1JlbW92ZSIsIl9hY3RpdmVHcm91cCIsIm5ld1Rhc2siLCJwdXNoIiwic2VsZWN0ZWRJbmRleCIsIm1lbnVDb250YWluZXIiLCJtZW51T3BlbkJ1dHRvbiIsIm1lbnVDbG9zZUJ1dHRvbiIsIl9vblNjcmVlblNpemUiLCJzY3JvbGxXaWR0aCIsInZpc2liaWxpdHkiLCJsZWZ0IiwiX3RvZ2dsZU1lbnUiLCJzZXRUaW1lb3V0Il0sIm1hcHBpbmdzIjoieUJBRUEsTUFBTUEsRUFRRyxDQUNMQyx1QkFQSUMsU0FBU0MsY0FBYyw0QkFRM0JDLGdCQU5JRixTQUFTQyxjQUFjLHFCQU8zQkUsV0FOaUJILFNBQVNDLGNBQWMsa0JBT3hDRyxZQU5rQkosU0FBU0MsY0FBYyxrQkFVdkNJLEVBQ2dCLEtBQ2xCQyxhQUFhQyxRQUNYLFFBQVNQLFNBQVNRLGdCQUFnQkMsYUFBYSxVQUVqREgsYUFBYUMsUUFBUSxxQkFDakJULEVBQUlJLGdCQUFnQk8sYUFBYSxrQkFxRG5DQyxHQTdDaUIsTUFDckIsTUFRTUMsRUFBZ0JDLElBQ21DLFVBQW5EWixTQUFTUSxnQkFBZ0JDLGFBQWEsU0FDeENJLElBRUFDLElBRUZULEtBR0lRLEVBQWEsS0FDakJmLEVBQUlNLFlBQVlXLGFBQWEsZUFBZ0IsU0FDN0NmLFNBQVNRLGdCQUFnQk8sYUFBYSxRQUFTLFFBQy9DakIsRUFBSU0sWUFBWVksTUFBTUMsbUJBQXFCLHdCQUMzQ25CLEVBQUlLLFdBQVdZLGFBQWEsTUFDeEIsbURBR0FELEVBQWMsS0FDbEJoQixFQUFJTSxZ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QzJXLEVBQWlCNVcsU0FBU0MsY0FBYyxnQkFDeEM0VyxFQUFrQjdXLFNBQVNDLGNBQWMsc0JBRXpDNlcsRUFBZ0IsS0FDaEI5VyxTQUFTUSxnQkFBZ0J1VyxZQUFjLEtBQ3pDSixFQUFjM1YsTUFBTWdXLFdBQWEsVUFDakNMLEVBQWMzVixNQUFNaVcsS0FBTyxNQUUzQk4sRUFBYzNWLE1BQU1nVyxXQUFhLFNBQ2pDTCxFQUFjM1YsTUFBTWlXLEtBQU8sV0FJL0I1VixPQUFPSCxpQkFBaUIsU0FBVTRWLEdBQ2xDelYsT0FBT0gsaUJBQWlCLE9BQVE0VixHQUVoQyxNQUFNSSxFQUFjLEtBQ3FCLFdBQW5DUCxFQUFjM1YsTUFBTWdXLFlBQ3RCTCxFQUFjM1YsTUFBTWdXLFdBQWEsVUFDakNMLEVBQWMzVixNQUFNaVcsS0FBTyxJQUMzQkosRUFBZ0JoVSxVQUVoQjhULEVBQWMzVixNQUFNaVcsS0FBTyxTQUMzQkUsWUFBVyxLQUNUUixFQUFjM1YsTUFBTWdXLFdBQWEsV0FDaEMsS0FDSEosRUFBZS9ULFVBSW5CK1QsRUFBZTFWLGlCQUFpQixRQUFTZ1csR0FDekNMLEVBQWdCM1YsaUJBQWlCLFFBQVNnVyxJQWpDckIsRyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgRE9NID0gKCgpID0+IHtcbiAgY29uc3QgYWNjZXNzaWJpbGl0eUNvbnRhaW5lciA9IFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FjY2Vzc2liaWxpdHktY29udGFpbmVyXCIpO1xuICBjb25zdCBhbmltYXRpb25Td2l0Y2ggPSBcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhbmltYXRpb24tc3dpdGNoXCIpO1xuICBjb25zdCBnaXRodWJMb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsb3dlci1uYXYgaW1nXCIpO1xuICBjb25zdCB0aGVtZVN3aXRjaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGhlbWUtc3dpdGNoXCIpO1xuXG4gIHJldHVybiB7XG4gICAgYWNjZXNzaWJpbGl0eUNvbnRhaW5lcixcbiAgICBhbmltYXRpb25Td2l0Y2gsXG4gICAgZ2l0aHViTG9nbyxcbiAgICB0aGVtZVN3aXRjaFxuICB9XG59KSgpO1xuXG5jb25zdCBzZXR0aW5ncyA9ICgoKSA9PiB7XG4gIGNvbnN0IHNhdmVUb0xvY2FsID0gKCkgPT4ge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgXCJ0aGVtZVwiLCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidGhlbWVcIikpO1xuXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJhbmltYXRpb25zLWVuYWJsZWRcIiwgXG4gICAgICAgIERPTS5hbmltYXRpb25Td2l0Y2guZ2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIpKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHNhdmVUb0xvY2FsXG4gIH07XG59KSgpO1xuXG5jb25zdCBkaXNwbGF5T3B0aW9ucyA9ICgoKSA9PiB7XG4gIGNvbnN0IF9vbkxvYWQgPSAoKSA9PiB7XG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidGhlbWVcIikgPT09IFwibGlnaHRcIikge1xuICAgICAgX2xpZ2h0VGhlbWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX2RhcmtUaGVtZSgpO1xuICAgIH07XG4gIH07XG5cbiAgY29uc3QgX3RvZ2dsZVRoZW1lID0gKGUpID0+IHtcbiAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcInRoZW1lXCIpID09PSBcImxpZ2h0XCIpIHtcbiAgICAgIF9kYXJrVGhlbWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX2xpZ2h0VGhlbWUoKTtcbiAgICB9O1xuICAgIHNldHRpbmdzLnNhdmVUb0xvY2FsKCk7XG4gIH07XG5cbiAgY29uc3QgX2RhcmtUaGVtZSA9ICgpID0+IHtcbiAgICBET00udGhlbWVTd2l0Y2guc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcInRoZW1lXCIsIFwiZGFya1wiKTtcbiAgICBET00udGhlbWVTd2l0Y2guc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gXCJjZW50ZXIgYm90dG9tIC0wLjhyZW1cIjtcbiAgICBET00uZ2l0aHViTG9nby5zZXRBdHRyaWJ1dGUoXCJzcmNcIixcbiAgICAgICAgXCJhc3NldHMvaW1hZ2VzL2xvZ29zL0dpdEh1Yi1NYXJrLUxpZ2h0LTMycHgucG5nXCIpO1xuICB9O1xuXG4gIGNvbnN0IF9saWdodFRoZW1lID0gKCkgPT4ge1xuICAgIERPTS50aGVtZVN3aXRjaC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIiwgXCJ0cnVlXCIpO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0aGVtZVwiLCBcImxpZ2h0XCIpO1xuICAgIERPTS50aGVtZVN3aXRjaC5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSBcImNlbnRlciB0b3AgMnB4XCI7XG4gICAgRE9NLmdpdGh1YkxvZ28uc2V0QXR0cmlidXRlKFwic3JjXCIsXG4gICAgXCJhc3NldHMvaW1hZ2VzL2xvZ29zL0dpdEh1Yi1NYXJrLTMycHgucG5nXCIpO1xuICB9O1xuXG4gIERPTS50aGVtZVN3aXRjaC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgX3RvZ2dsZVRoZW1lKTtcbiAgRE9NLnRoZW1lU3dpdGNoLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIiBcIikge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgX3RvZ2dsZVRoZW1lKCk7XG4gICAgfTtcbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIF9vbkxvYWQpO1xufSkoKTtcblxuY29uc3QgYWNjZXNzaWJpbGl0eU9wdGlvbnMgPSAoKCkgPT4ge1xuICBjb25zdCBfb25Mb2FkID0gKCkgPT4ge1xuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImFuaW1hdGlvbnMtZW5hYmxlZFwiKSA9PT0gXCJmYWxzZVwiKSB7XG4gICAgICBhbmltYXRpb25zRGlzYWJsZWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYW5pbWF0aW9uc0VuYWJsZWQoKTtcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IF90b2dnbGVBbmltYXRpb25zID0gKCkgPT4ge1xuICAgIGlmIChET00uYW5pbWF0aW9uU3dpdGNoLmdldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiKSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgIGFuaW1hdGlvbnNEaXNhYmxlZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbmltYXRpb25zRW5hYmxlZCgpO1xuICAgIH07XG4gICAgc2V0dGluZ3Muc2F2ZVRvTG9jYWwoKTtcbiAgfTtcblxuICBjb25zdCBhbmltYXRpb25zRW5hYmxlZCA9ICgpID0+IHtcbiAgICBET00uYW5pbWF0aW9uU3dpdGNoLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBcInRydWVcIik7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNjcm9sbEJlaGF2aW9yID0gXCJzbW9vdGhcIjtcbiAgICBET00uYWNjZXNzaWJpbGl0eUNvbnRhaW5lci5zdHlsZS50cmFuc2l0aW9uID0gXCJ0b3AgMC43NXMgZWFzZS1pbi1vdXRcIjtcbiAgICBET00uYW5pbWF0aW9uU3dpdGNoLnRleHRDb250ZW50ID0gXCJBbmltYXRpb25zIEVuYWJsZWRcIjtcbiAgICBET00udGhlbWVTd2l0Y2guc3R5bGUudHJhbnNpdGlvbiA9IFwiYmFja2dyb3VuZC1wb3NpdGlvbiAwLjNzIGVhc2UtaW5cIjtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haW4tbmF2XCIpLnN0eWxlLnRyYW5zaXRpb24gPSBcImxlZnQgMC41c1wiO1xuICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5sYWJlbC1hcnJvd1wiKSkuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGl0ZW0uc3R5bGUudHJhbnNpdGlvbiA9IFwidHJhbnNmb3JtIDAuNzVzXCI7XG4gICAgfSk7XG4gIH07XG4gICAgICAgIFxuICBjb25zdCBhbmltYXRpb25zRGlzYWJsZWQgPSAoKSA9PiB7XG4gICAgRE9NLmFuaW1hdGlvblN3aXRjaC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2Nyb2xsQmVoYXZpb3IgPSBcImF1dG9cIjtcbiAgICBET00uYW5pbWF0aW9uU3dpdGNoLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBcImZhbHNlXCIpO1xuICAgIERPTS5hbmltYXRpb25Td2l0Y2gudGV4dENvbnRlbnQgPSBcIkFuaW1hdGlvbnMgRGlzYWJsZWRcIjtcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYW5pbWF0ZWRcIikpLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBpdGVtLnN0eWxlLnRyYW5zaXRpb24gPSBcIm5vbmVcIjtcbiAgICB9KTtcbiAgfTtcblxuICBET00uYW5pbWF0aW9uU3dpdGNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBfdG9nZ2xlQW5pbWF0aW9ucyk7XG4gIERPTS5hbmltYXRpb25Td2l0Y2guYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09IFwiIFwiKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBfdG9nZ2xlQW5pbWF0aW9ucygpO1xuICAgIH07XG4gIH0pO1xuICBcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIF9vbkxvYWQpO1xuXG4gIHJldHVybiB7XG4gICAgYW5pbWF0aW9uc0VuYWJsZWQsXG4gICAgYW5pbWF0aW9uc0Rpc2FibGVkXG4gIH1cbn0pKCk7XG5cbmV4cG9ydCB7YWNjZXNzaWJpbGl0eU9wdGlvbnMsIGRpc3BsYXlPcHRpb25zLCBzZXR0aW5nc30iLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgYWNjZXNzaWJpbGl0eU9wdGlvbnMsIHNldHRpbmdzIH0gZnJvbSBcIi4vc2l0ZS1zZXR0aW5nc1wiO1xuXG5jb25zdCBET00gPSAoKCkgPT4ge1xuICBjb25zdCBtb2RhbEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtYm94XCIpO1xuICBjb25zdCBtb2RhbENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY29udGFpbmVyXCIpO1xuXG4gIHJldHVybiB7XG4gICAgbW9kYWxCb3gsXG4gICAgbW9kYWxDb250YWluZXJcbiAgfVxufSkoKTtcblxuY29uc3QgZ2VuZXJhbE1vZGFsID0gKCgpID0+IHtcbiAgY29uc3Qgb25DbG9zZSA9ICgpID0+IHtcbiAgICB3aGlsZSAoRE9NLm1vZGFsQm94LmZpcnN0Q2hpbGQpIHtcbiAgICAgIERPTS5tb2RhbEJveC5yZW1vdmVDaGlsZChET00ubW9kYWxCb3guZmlyc3RDaGlsZClcbiAgICB9O1xuICAgIERPTS5tb2RhbENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgRE9NLm1vZGFsQm94LmRhdGFzZXQuaW5kZXhSZWYgPSBcIlwiO1xuICAgIERPTS5tb2RhbEJveC5kYXRhc2V0Lmdyb3VwUmVmID0gXCJcIjtcbiAgfTtcblxuICBjb25zdCBvbk9wZW4gPSAoKSA9PiB7XG4gICAgRE9NLm1vZGFsQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWNsb3NlLWJ1dHRvblwiKS5mb2N1cygpO1xuICB9O1xuXG4gIGNvbnN0IGNyZWF0ZUNsb3NlQnRuID0gKCkgPT4ge1xuICAgIGNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBjbG9zZUJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xuICAgIGNsb3NlQnRuLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJDbG9zZSBtb2RhbFwiKTtcbiAgICBjbG9zZUJ0bi5jbGFzc0xpc3QuYWRkKFwibW9kYWwtY2xvc2UtYnV0dG9uXCIsIFwiY2xvc2UtYnRuXCIsIFwiZm9jdXNhYmxlXCIpO1xuICAgIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBnZW5lcmFsTW9kYWwub25DbG9zZSk7XG4gICAgRE9NLm1vZGFsQm94LmFwcGVuZENoaWxkKGNsb3NlQnRuKTtcbiAgfTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIG9uQ2xvc2UoKTtcbiAgICB9O1xuICB9KTtcblxuICByZXR1cm4ge1xuICAgIG9uQ2xvc2UsXG4gICAgb25PcGVuLFxuICAgIGNyZWF0ZUNsb3NlQnRuXG4gIH1cbn0pKCk7XG5cbmNvbnN0IHdhcm5pbmdNb2RhbCA9ICgoKSA9PiB7XG4gIGNvbnN0IF9zZWxlY3RPcHRpb24gPSAoZSkgPT4ge1xuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJkaXNhYmxlLWJ1dHRvblwiKSkge1xuICAgICAgYWNjZXNzaWJpbGl0eU9wdGlvbnMuYW5pbWF0aW9uc0Rpc2FibGVkKCk7XG4gICAgfSBlbHNlIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJlbmFibGUtYnV0dG9uXCIpKSB7XG4gICAgICBhY2Nlc3NpYmlsaXR5T3B0aW9ucy5hbmltYXRpb25zRW5hYmxlZCgpO1xuICAgIH07XG4gICAgc2V0dGluZ3Muc2F2ZVRvTG9jYWwoKTtcbiAgICBnZW5lcmFsTW9kYWwub25DbG9zZSgpO1xuICB9O1xuXG4gIGNvbnN0IF9yZW5kZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICBoZWFkaW5nLnRleHRDb250ZW50ID0gXCJUaGlzIHNpdGUgdXNlcyBtaW5pbWFsIGFuaW1hdGlvbiBlZmZlY3RzLlwiO1xuXG4gICAgY29uc3QgcGFyYTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBwYXJhMS50ZXh0Q29udGVudCA9IFwiRWZmZWN0cyBpbmNsdWRlIG1vdmluZyBtZW51cyBhbmQgc21vb3RoIHNjcm9sbGluZy4gSWYgeW91IHN1ZmZlciBmcm9tIGEgdmVzdGlidWxhciBkaXNvcmRlciBvciBvdGhlcndpc2UgcHJlZmVyIG5vIGFuaW1hdGlvbnMsIHlvdSBjYW4gdHVybiB0aGVtIG9mZiBieSBjbGlja2luZyB0aGUgZmlyc3QgYnV0dG9uIGJlbG93LlwiO1xuXG4gICAgY29uc3QgcGFyYTIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBwYXJhMi50ZXh0Q29udGVudD0gXCJZb3UgY2FuIGxhdGVyIGNoYW5nZSB0aGlzIHNldHRpbmcgaW4gdGhlIERpc3BsYXkgJiBBY2Nlc3NpYmlsaXR5IHRhYiBhdCB0aGUgdG9wIG9mIHRoZSBwYWdlLlwiO1xuXG4gICAgY29uc3QgZGlzYWJsZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgZGlzYWJsZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xuICAgIGRpc2FibGVCdXR0b24uY2xhc3NMaXN0LmFkZChcImRpc2FibGUtYnV0dG9uXCIsIFwiZm9jdXNhYmxlXCIsIFwicHJpbWFyeS1idG5cIik7XG4gICAgZGlzYWJsZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiRElTQUJMRSBBTklNQVRJT05TXCI7XG4gICAgZGlzYWJsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgX3NlbGVjdE9wdGlvbik7XG5cbiAgICBjb25zdCBlbmFibGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGVuYWJsZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xuICAgIGVuYWJsZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZW5hYmxlLWJ1dHRvblwiLCBcImZvY3VzYWJsZVwiLCBcInNlY29uZGFyeS1idG5cIik7XG4gICAgZW5hYmxlQnV0dG9uLnRleHRDb250ZW50ID0gXCJFTkFCTEUgQU5JTUFUSU9OU1wiO1xuICAgIGVuYWJsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgX3NlbGVjdE9wdGlvbik7XG5cbiAgICBET00ubW9kYWxCb3guYXBwZW5kQ2hpbGQoaGVhZGluZyk7XG4gICAgRE9NLm1vZGFsQm94LmFwcGVuZENoaWxkKHBhcmExKTtcbiAgICBET00ubW9kYWxCb3guYXBwZW5kQ2hpbGQocGFyYTIpO1xuICAgIERPTS5tb2RhbEJveC5hcHBlbmRDaGlsZChkaXNhYmxlQnV0dG9uKTtcbiAgICBET00ubW9kYWxCb3guYXBwZW5kQ2hpbGQoZW5hYmxlQnV0dG9uKTtcblxuICAgIERPTS5tb2RhbENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gIH07XG5cbiAgY29uc3QgX29uTG9hZCA9ICgpID0+IHtcbiAgICBpZiAobG9jYWxTdG9yYWdlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgX3JlbmRlcigpO1xuICAgIH07XG4gIH07XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIF9vbkxvYWQpO1xufSkoKTtcblxuY29uc3QgZ3JvdXBNb2RhbCA9ICgoKSA9PiB7XG4gIGNvbnN0IF9kZWZhdWx0R3JvdXBzID0gW1wiSW1wb3J0YW50XCIsIFwiTmV4dCA3IERheXNcIiwgXCJMYXRlclwiLCBcIkV2ZW50dWFsbHlcIl07XG4gIGNvbnN0IF90YXNrSGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWxlY3RlZC1ncm91cFwiKTtcblxuICBjb25zdCBfcmVuZGVyID0gKGUpID0+IHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XG4gICAgY29uc3QgZmllbGRzZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIik7XG4gICAgY29uc3QgbGVnZW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxlZ2VuZFwiKTtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IG1haW5CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG5cbiAgICBjb25zdCBuYW1lTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgbmFtZUxhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBcIm5hbWUtaW5wdXRcIik7XG4gICAgbmFtZUxhYmVsLnRleHRDb250ZW50ID0gXCJHcm91cCBOYW1lXCI7XG5cbiAgICBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgbmFtZUlucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgIG5hbWVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiLCBcInRydWVcIik7XG4gICAgbmFtZUlucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwibmFtZS1pbnB1dFwiKTtcbiAgICBuYW1lSW5wdXQuc2V0QXR0cmlidXRlKFwiYXV0b2NvbXBsZXRlXCIsIFwib2ZmXCIpO1xuICAgIG5hbWVJbnB1dC5jbGFzc0xpc3QuYWRkKFwiZm9jdXNhYmxlXCIpO1xuXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImFkZC1ncm91cC1idG5cIikpIHtcbiAgICAgIGxlZ2VuZC50ZXh0Q29udGVudCA9IFwiQWRkIGEgR3JvdXBcIjtcbiAgICAgIG1haW5CdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInN1Ym1pdFwiKTtcbiAgICAgIG1haW5CdG4uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJBREQgR1JPVVBcIik7XG4gICAgICBtYWluQnRuLmNsYXNzTGlzdC5hZGQoXCJzdWJtaXQtZ3JvdXAtYnRuXCIsIFwicHJpbWFyeS1idG5cIiwgXCJmb2N1c2FibGVcIiwgXCJzdWJtaXRcIik7XG4gICAgICBkaXYuYXBwZW5kQ2hpbGQobWFpbkJ0bik7XG4gICAgfSBlbHNlIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJncm91cC1vcHRpb24tYnRuXCIpKSB7XG4gICAgICBsZWdlbmQudGV4dENvbnRlbnQgPSBcIkdyb3VwIE9wdGlvbnNcIjtcbiAgICAgIG1haW5CdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInN1Ym1pdFwiKTtcbiAgICAgIG1haW5CdG4uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJVUERBVEVcIik7XG4gICAgICBtYWluQnRuLmNsYXNzTGlzdC5hZGQoXCJ1cGRhdGUtZ3JvdXAtYnRuXCIsIFwic2Vjb25kYXJ5LWJ0blwiLCBcImZvY3VzYWJsZVwiLCBcInN1Ym1pdFwiKTtcblxuICAgICAgY29uc3QgZGVsZXRlR3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgZGVsZXRlR3JvdXAuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcbiAgICAgIGRlbGV0ZUdyb3VwLmNsYXNzTGlzdC5hZGQoXCJkZWxldGUtZ3JvdXAtYnRuXCIsIFwiZGVsZXRlLWJ0blwiLCBcImZvY3VzYWJsZVwiKTtcbiAgICAgIGRlbGV0ZUdyb3VwLnRleHRDb250ZW50ID0gXCJERUxFVEUgR1JPVVBcIjtcblxuICAgICAgY29uc3QgZGVsZXRlQ29tcGxldGVkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgIGRlbGV0ZUNvbXBsZXRlZC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xuICAgICAgZGVsZXRlQ29tcGxldGVkLmNsYXNzTGlzdC5hZGQoXCJkZWxldGUtY29tcGxldGVkLWJ0blwiLCBcImRlbGV0ZS1idG5cIiwgXCJmb2N1c2FibGVcIik7XG4gICAgICBkZWxldGVDb21wbGV0ZWQudGV4dENvbnRlbnQgPSBcIkRFTEVURSBDT01QTEVURUQgVEFTS1NcIjtcblxuICAgICAgaWYgKF9kZWZhdWx0R3JvdXBzLmluZGV4T2YoX3Rhc2tIZWFkZXIudGV4dENvbnRlbnQpID49IDApIHtcbiAgICAgICAgbmFtZUxhYmVsLnN0eWxlLm9wYWNpdHkgPSBcIjAuMzhcIjtcbiAgICAgICAgbmFtZUlucHV0LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgbmFtZUlucHV0LnN0eWxlLm9wYWNpdHkgPSBcIjAuMzhcIjtcbiAgICAgICAgbWFpbkJ0bi5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XG4gICAgICAgIG1haW5CdG4uc3R5bGUub3BhY2l0eSA9IFwiMC4zOFwiO1xuICAgICAgICBkZWxldGVHcm91cC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XG4gICAgICAgIGRlbGV0ZUdyb3VwLnN0eWxlLm9wYWNpdHkgPSBcIjAuMzhcIjtcbiAgICAgIH07XG5cbiAgICAgIGRpdi5hcHBlbmRDaGlsZChtYWluQnRuKTtcbiAgICAgIGRpdi5hcHBlbmRDaGlsZChkZWxldGVHcm91cCk7XG4gICAgICBkaXYuYXBwZW5kQ2hpbGQoZGVsZXRlQ29tcGxldGVkKTtcbiAgICB9O1xuXG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQobGVnZW5kKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChuYW1lTGFiZWwpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKG5hbWVJbnB1dCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICBmb3JtLmFwcGVuZENoaWxkKGZpZWxkc2V0KTtcbiAgICBnZW5lcmFsTW9kYWwuY3JlYXRlQ2xvc2VCdG4oKTtcbiAgICBET00ubW9kYWxCb3guYXBwZW5kQ2hpbGQoZm9ybSk7XG4gIH07XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ncm91cC1vcHRpb24tYnRuXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIF9yZW5kZXIoZSk7XG4gICAgZ2VuZXJhbE1vZGFsLm9uT3BlbigpO1xuICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1ncm91cC1idG5cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgX3JlbmRlcihlKTtcbiAgICBnZW5lcmFsTW9kYWwub25PcGVuKCk7XG4gIH0pO1xufSkoKTtcblxuY29uc3QgdGFza01vZGFsID0gKCgpID0+IHtcbiAgY29uc3QgX3ByaW9yaXR5QXJyYXkgPSBbXCJOb3JtYWxcIiwgXCJJbXBvcnRhbnRcIl07XG5cbiAgLy8gcGFzcyBncm91cCBsaXN0IGZyb20gdGFzayBtb2R1bGUgcGF0dGVybiBpbiBsb2dpYy5qcyBmaWxlIGFzIGFyZ3VtZW50XG4gIGNvbnN0IHJlbmRlciA9IChlLCBncm91cEFycmF5KSA9PiB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO1xuICAgIGNvbnN0IGZpZWxkc2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpO1xuICAgIGNvbnN0IGxlZ2VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsZWdlbmRcIik7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGNvbnN0IG5hbWVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICBuYW1lTGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwibmFtZS1pbnB1dFwiKTtcbiAgICBuYW1lTGFiZWwudGV4dENvbnRlbnQgPSBcIlRhc2sgTmFtZSAocmVxdWlyZWQpXCI7XG5cbiAgICBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgbmFtZUlucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgIG5hbWVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm5hbWUtaW5wdXRcIik7XG4gICAgbmFtZUlucHV0LnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIFwiRW50ZXIgYSB0YXNrIG5hbWVcIik7XG4gICAgbmFtZUlucHV0LnNldEF0dHJpYnV0ZShcInJlcXVpcmVkXCIsIFwidHJ1ZVwiKTtcbiAgICBuYW1lSW5wdXQuc2V0QXR0cmlidXRlKFwiYXV0b2NvbXBsZXRlXCIsIFwib2ZmXCIpO1xuICAgIG5hbWVJbnB1dC5jbGFzc05hbWUgPSBcImZvY3VzYWJsZVwiO1xuXG4gICAgY29uc3QgZ3JvdXBMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICBncm91cExhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBcImdyb3VwLXNlbGVjdFwiKTtcbiAgICBncm91cExhYmVsLnRleHRDb250ZW50ID0gXCJHcm91cFwiO1xuXG4gICAgY29uc3QgZ3JvdXBTZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xuICAgIGdyb3VwU2VsZWN0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZ3JvdXAtc2VsZWN0XCIpO1xuICAgIGdyb3VwU2VsZWN0LmNsYXNzTmFtZSA9IFwiZm9jdXNhYmxlXCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBncm91cE9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICBncm91cE9wdGlvbi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBncm91cEFycmF5W2ldKTtcbiAgICAgIGdyb3VwT3B0aW9uLnRleHRDb250ZW50ID0gZ3JvdXBBcnJheVtpXTtcbiAgICAgIGdyb3VwU2VsZWN0LmFwcGVuZENoaWxkKGdyb3VwT3B0aW9uKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcHJpb3JpdHlMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICBwcmlvcml0eUxhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBcInByaW9yaXR5LXNlbGVjdFwiKTtcbiAgICBwcmlvcml0eUxhYmVsLnRleHRDb250ZW50ID0gXCJQcmlvcml0eVwiO1xuXG4gICAgY29uc3QgcHJpb3JpdHlTZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xuICAgIHByaW9yaXR5U2VsZWN0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwicHJpb3JpdHktc2VsZWN0XCIpO1xuICAgIHByaW9yaXR5U2VsZWN0LmNsYXNzTmFtZSA9IFwiZm9jdXNhYmxlXCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfcHJpb3JpdHlBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcHJpb3JpdHlPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgcHJpb3JpdHlPcHRpb24uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgX3ByaW9yaXR5QXJyYXlbaV0pO1xuICAgICAgcHJpb3JpdHlPcHRpb24udGV4dENvbnRlbnQgPSBfcHJpb3JpdHlBcnJheVtpXTtcbiAgICAgIHByaW9yaXR5U2VsZWN0LmFwcGVuZENoaWxkKHByaW9yaXR5T3B0aW9uKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGF0ZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIGRhdGVMYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJkYXRlLXNlbGVjdFwiKTtcbiAgICBkYXRlTGFiZWwudGV4dENvbnRlbnQgPSBcIkR1ZSBEYXRlIChvcHRpb25hbClcIjtcblxuICAgIGNvbnN0IGRhdGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBkYXRlSW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImRhdGVcIik7XG4gICAgZGF0ZUlucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZGF0ZS1zZWxlY3RcIik7XG4gICAgZGF0ZUlucHV0LmNsYXNzTmFtZSA9IFwiZm9jdXNhYmxlXCI7XG5cbiAgICBjb25zdCBub3Rlc0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIG5vdGVzTGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwibm90ZXMtaW5wdXRcIik7XG4gICAgbm90ZXNMYWJlbC50ZXh0Q29udGVudCA9IFwiQWRkaXRpb25hbCBOb3Rlc1wiO1xuXG4gICAgY29uc3Qgbm90ZXNJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgICBub3Rlc0lucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwibm90ZXMtaW5wdXRcIik7XG4gICAgbm90ZXNJbnB1dC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBcIkVudGVyIGFueSBhZGRpdGlvbmFsIG5vdGVzIGZvciB0aGUgdGFza1wiKTtcbiAgICBub3Rlc0lucHV0LmNsYXNzTmFtZSA9IFwiZm9jdXNhYmxlXCI7XG5cbiAgICBpZiAoZS50YXJnZXQudGV4dENvbnRlbnQuaW5jbHVkZXMoXCJBREQgVEFTS1wiKSkge1xuICAgICAgbGVnZW5kLnRleHRDb250ZW50ID0gXCJBZGQgYSBUYXNrXCI7XG5cbiAgICAgIGNvbnN0IGFkZE9uZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIGFkZE9uZUJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwic3VibWl0XCIpO1xuICAgICAgYWRkT25lQnRuLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiQUREIE9ORVwiKTtcbiAgICAgIGFkZE9uZUJ0bi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIFwiQWRkIHRhc2sgYW5kIGNsb3NlIG1vZGFsXCIpO1xuICAgICAgYWRkT25lQnRuLmNsYXNzTGlzdC5hZGQoXCJhZGQtc2luZ2xlLWJ0blwiLCBcInByaW1hcnktYnRuXCIsXCJzdWJtaXRcIiwgXCJmb2N1c2FibGVcIik7XG5cbiAgICAgIGNvbnN0IGFkZE1hbnlCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICBhZGRNYW55QnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJzdWJtaXRcIik7XG4gICAgICBhZGRNYW55QnRuLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiQUREIE1BTllcIik7XG4gICAgICBhZGRNYW55QnRuLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJBZGQgdGFzayBhbmQga2VlcCBtb2RhbCBvcGVuXCIpO1xuICAgICAgYWRkTWFueUJ0bi5jbGFzc0xpc3QuYWRkKFwiYWRkLW1hbnktYnRuXCIsIFwic2Vjb25kYXJ5LWJ0blwiLCBcInN1Ym1pdFwiLCBcImZvY3VzYWJsZVwiKTtcblxuICAgICAgZGl2LmFwcGVuZENoaWxkKGFkZE9uZUJ0bik7XG4gICAgICBkaXYuYXBwZW5kQ2hpbGQoYWRkTWFueUJ0bik7XG4gICAgfSBlbHNlIGlmIChlLnRhcmdldC50ZXh0Q29udGVudCA9PT0gKFwiRURJVFwiKSkge1xuICAgICAgbGVnZW5kLnRleHRDb250ZW50ID0gXCJFZGl0IFRhc2tcIjtcblxuICAgICAgY29uc3QgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIGVkaXRCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInN1Ym1pdFwiKTtcbiAgICAgIGVkaXRCdG4uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJVUERBVEVcIik7XG4gICAgICBlZGl0QnRuLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJVcGRhdGUgdGFzayBhbmQgY2xvc2UgbW9kYWxcIik7XG4gICAgICBlZGl0QnRuLmNsYXNzTGlzdC5hZGQoXCJ1cGRhdGUtdGFzay1idG5cIiwgXCJwcmltYXJ5LWJ0blwiLCBcImZvY3VzYWJsZVwiKTtcblxuICAgICAgZ3JvdXBTZWxlY3Quc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgZ3JvdXBMYWJlbC5zdHlsZS5vcGFjaXR5ID0gXCIwLjM4XCI7XG4gICAgICBncm91cFNlbGVjdC5zdHlsZS5vcGFjaXR5ID0gXCIwLjM4XCI7XG5cbiAgICAgIGRpdi5hcHBlbmRDaGlsZChlZGl0QnRuKTtcbiAgICB9O1xuXG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQobGVnZW5kKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChuYW1lTGFiZWwpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKG5hbWVJbnB1dCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQoZ3JvdXBMYWJlbCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChncm91cFNlbGVjdCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChwcmlvcml0eUxhYmVsKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKHByaW9yaXR5U2VsZWN0KTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKGRhdGVMYWJlbCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChkYXRlSW5wdXQpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQobm90ZXNMYWJlbCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQobm90ZXNJbnB1dCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICBmb3JtLmFwcGVuZENoaWxkKGZpZWxkc2V0KTtcbiAgICBnZW5lcmFsTW9kYWwuY3JlYXRlQ2xvc2VCdG4oKTtcbiAgICBET00ubW9kYWxCb3guYXBwZW5kQ2hpbGQoZm9ybSk7XG4gIH07XG5cbiAgcmV0dXJuIHtyZW5kZXJ9XG59KSgpO1xuXG5leHBvcnQgeyBnZW5lcmFsTW9kYWwsIHdhcm5pbmdNb2RhbCwgZ3JvdXBNb2RhbCwgdGFza01vZGFsIH0iLCJ2YXIgTUlMTElTRUNPTkRTX0lOX01JTlVURSA9IDYwMDAwO1xuXG5mdW5jdGlvbiBnZXREYXRlTWlsbGlzZWNvbmRzUGFydChkYXRlKSB7XG4gIHJldHVybiBkYXRlLmdldFRpbWUoKSAlIE1JTExJU0VDT05EU19JTl9NSU5VVEU7XG59XG4vKipcbiAqIEdvb2dsZSBDaHJvbWUgYXMgb2YgNjcuMC4zMzk2Ljg3IGludHJvZHVjZWQgdGltZXpvbmVzIHdpdGggb2Zmc2V0IHRoYXQgaW5jbHVkZXMgc2Vjb25kcy5cbiAqIFRoZXkgdXN1YWxseSBhcHBlYXIgZm9yIGRhdGVzIHRoYXQgZGVub3RlIHRpbWUgYmVmb3JlIHRoZSB0aW1lem9uZXMgd2VyZSBpbnRyb2R1Y2VkXG4gKiAoZS5nLiBmb3IgJ0V1cm9wZS9QcmFndWUnIHRpbWV6b25lIHRoZSBvZmZzZXQgaXMgR01UKzAwOjU3OjQ0IGJlZm9yZSAxIE9jdG9iZXIgMTg5MVxuICogYW5kIEdNVCswMTowMDowMCBhZnRlciB0aGF0IGRhdGUpXG4gKlxuICogRGF0ZSNnZXRUaW1lem9uZU9mZnNldCByZXR1cm5zIHRoZSBvZmZzZXQgaW4gbWludXRlcyBhbmQgd291bGQgcmV0dXJuIDU3IGZvciB0aGUgZXhhbXBsZSBhYm92ZSxcbiAqIHdoaWNoIHdvdWxkIGxlYWQgdG8gaW5jb3JyZWN0IGNhbGN1bGF0aW9ucy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHRpbWV6b25lIG9mZnNldCBpbiBtaWxsaXNlY29uZHMgdGhhdCB0YWtlcyBzZWNvbmRzIGluIGFjY291bnQuXG4gKi9cblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzKGRpcnR5RGF0ZSkge1xuICB2YXIgZGF0ZSA9IG5ldyBEYXRlKGRpcnR5RGF0ZS5nZXRUaW1lKCkpO1xuICB2YXIgYmFzZVRpbWV6b25lT2Zmc2V0ID0gTWF0aC5jZWlsKGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSk7XG4gIGRhdGUuc2V0U2Vjb25kcygwLCAwKTtcbiAgdmFyIGhhc05lZ2F0aXZlVVRDT2Zmc2V0ID0gYmFzZVRpbWV6b25lT2Zmc2V0ID4gMDtcbiAgdmFyIG1pbGxpc2Vjb25kc1BhcnRPZlRpbWV6b25lT2Zmc2V0ID0gaGFzTmVnYXRpdmVVVENPZmZzZXQgPyAoTUlMTElTRUNPTkRTX0lOX01JTlVURSArIGdldERhdGVNaWxsaXNlY29uZHNQYXJ0KGRhdGUpKSAlIE1JTExJU0VDT05EU19JTl9NSU5VVEUgOiBnZXREYXRlTWlsbGlzZWNvbmRzUGFydChkYXRlKTtcbiAgcmV0dXJuIGJhc2VUaW1lem9uZU9mZnNldCAqIE1JTExJU0VDT05EU19JTl9NSU5VVEUgKyBtaWxsaXNlY29uZHNQYXJ0T2ZUaW1lem9uZU9mZnNldDtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXF1aXJlZEFyZ3MocmVxdWlyZWQsIGFyZ3MpIHtcbiAgaWYgKGFyZ3MubGVuZ3RoIDwgcmVxdWlyZWQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHJlcXVpcmVkICsgJyBhcmd1bWVudCcgKyAocmVxdWlyZWQgPiAxID8gJ3MnIDogJycpICsgJyByZXF1aXJlZCwgYnV0IG9ubHkgJyArIGFyZ3MubGVuZ3RoICsgJyBwcmVzZW50Jyk7XG4gIH1cbn0iLCJpbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gJy4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzJztcbi8qKlxuICogQG5hbWUgdG9EYXRlXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBpdHMgY2xvbmUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyLCBpdCBpcyB0cmVhdGVkIGFzIGEgdGltZXN0YW1wLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBub25lIG9mIHRoZSBhYm92ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgSW52YWxpZCBEYXRlLlxuICpcbiAqICoqTm90ZSoqOiAqYWxsKiBEYXRlIGFyZ3VtZW50cyBwYXNzZWQgdG8gYW55ICpkYXRlLWZucyogZnVuY3Rpb24gaXMgcHJvY2Vzc2VkIGJ5IGB0b0RhdGVgLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGFyZ3VtZW50IC0gdGhlIHZhbHVlIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgcGFyc2VkIGRhdGUgaW4gdGhlIGxvY2FsIHRpbWUgem9uZVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENsb25lIHRoZSBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKG5ldyBEYXRlKDIwMTQsIDEsIDExLCAxMSwgMzAsIDMwKSlcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENvbnZlcnQgdGhlIHRpbWVzdGFtcCB0byBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKDEzOTIwOTg0MzAwMDApXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvRGF0ZShhcmd1bWVudCkge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgdmFyIGFyZ1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudCk7IC8vIENsb25lIHRoZSBkYXRlXG5cbiAgaWYgKGFyZ3VtZW50IGluc3RhbmNlb2YgRGF0ZSB8fCB0eXBlb2YgYXJndW1lbnQgPT09ICdvYmplY3QnICYmIGFyZ1N0ciA9PT0gJ1tvYmplY3QgRGF0ZV0nKSB7XG4gICAgLy8gUHJldmVudCB0aGUgZGF0ZSB0byBsb3NlIHRoZSBtaWxsaXNlY29uZHMgd2hlbiBwYXNzZWQgdG8gbmV3IERhdGUoKSBpbiBJRTEwXG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50LmdldFRpbWUoKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50ID09PSAnbnVtYmVyJyB8fCBhcmdTdHIgPT09ICdbb2JqZWN0IE51bWJlcl0nKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoKHR5cGVvZiBhcmd1bWVudCA9PT0gJ3N0cmluZycgfHwgYXJnU3RyID09PSAnW29iamVjdCBTdHJpbmddJykgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKFwiU3RhcnRpbmcgd2l0aCB2Mi4wLjAtYmV0YS4xIGRhdGUtZm5zIGRvZXNuJ3QgYWNjZXB0IHN0cmluZ3MgYXMgZGF0ZSBhcmd1bWVudHMuIFBsZWFzZSB1c2UgYHBhcnNlSVNPYCB0byBwYXJzZSBzdHJpbmdzLiBTZWU6IGh0dHBzOi8vZ2l0LmlvL2ZqdWxlXCIpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuXG4gICAgICBjb25zb2xlLndhcm4obmV3IEVycm9yKCkuc3RhY2spO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICB9XG59IiwiaW1wb3J0IHRvRGF0ZSBmcm9tICcuLi90b0RhdGUvaW5kZXguanMnO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tICcuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qcyc7XG4vKipcbiAqIEBuYW1lIGNvbXBhcmVBc2NcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgQ29tcGFyZSB0aGUgdHdvIGRhdGVzIGFuZCByZXR1cm4gLTEsIDAgb3IgMS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbXBhcmUgdGhlIHR3byBkYXRlcyBhbmQgcmV0dXJuIDEgaWYgdGhlIGZpcnN0IGRhdGUgaXMgYWZ0ZXIgdGhlIHNlY29uZCxcbiAqIC0xIGlmIHRoZSBmaXJzdCBkYXRlIGlzIGJlZm9yZSB0aGUgc2Vjb25kIG9yIDAgaWYgZGF0ZXMgYXJlIGVxdWFsLlxuICpcbiAqICMjIyB2Mi4wLjAgYnJlYWtpbmcgY2hhbmdlczpcbiAqXG4gKiAtIFtDaGFuZ2VzIHRoYXQgYXJlIGNvbW1vbiBmb3IgdGhlIHdob2xlIGxpYnJhcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNDb21tb24tQ2hhbmdlcykuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZUxlZnQgLSB0aGUgZmlyc3QgZGF0ZSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlUmlnaHQgLSB0aGUgc2Vjb25kIGRhdGUgdG8gY29tcGFyZVxuICogQHJldHVybnMge051bWJlcn0gdGhlIHJlc3VsdCBvZiB0aGUgY29tcGFyaXNvblxuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDb21wYXJlIDExIEZlYnJ1YXJ5IDE5ODcgYW5kIDEwIEp1bHkgMTk4OTpcbiAqIHZhciByZXN1bHQgPSBjb21wYXJlQXNjKG5ldyBEYXRlKDE5ODcsIDEsIDExKSwgbmV3IERhdGUoMTk4OSwgNiwgMTApKVxuICogLy89PiAtMVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTb3J0IHRoZSBhcnJheSBvZiBkYXRlczpcbiAqIHZhciByZXN1bHQgPSBbXG4gKiAgIG5ldyBEYXRlKDE5OTUsIDYsIDIpLFxuICogICBuZXcgRGF0ZSgxOTg3LCAxLCAxMSksXG4gKiAgIG5ldyBEYXRlKDE5ODksIDYsIDEwKVxuICogXS5zb3J0KGNvbXBhcmVBc2MpXG4gKiAvLz0+IFtcbiAqIC8vICAgV2VkIEZlYiAxMSAxOTg3IDAwOjAwOjAwLFxuICogLy8gICBNb24gSnVsIDEwIDE5ODkgMDA6MDA6MDAsXG4gKiAvLyAgIFN1biBKdWwgMDIgMTk5NSAwMDowMDowMFxuICogLy8gXVxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbXBhcmVBc2MoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQpIHtcbiAgcmVxdWlyZWRBcmdzKDIsIGFyZ3VtZW50cyk7XG4gIHZhciBkYXRlTGVmdCA9IHRvRGF0ZShkaXJ0eURhdGVMZWZ0KTtcbiAgdmFyIGRhdGVSaWdodCA9IHRvRGF0ZShkaXJ0eURhdGVSaWdodCk7XG4gIHZhciBkaWZmID0gZGF0ZUxlZnQuZ2V0VGltZSgpIC0gZGF0ZVJpZ2h0LmdldFRpbWUoKTtcblxuICBpZiAoZGlmZiA8IDApIHtcbiAgICByZXR1cm4gLTE7XG4gIH0gZWxzZSBpZiAoZGlmZiA+IDApIHtcbiAgICByZXR1cm4gMTsgLy8gUmV0dXJuIDAgaWYgZGlmZiBpcyAwOyByZXR1cm4gTmFOIGlmIGRpZmYgaXMgTmFOXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGRpZmY7XG4gIH1cbn0iLCJpbXBvcnQgdG9EYXRlIGZyb20gJy4uL3RvRGF0ZS9pbmRleC5qcyc7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gJy4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzJztcbi8qKlxuICogQG5hbWUgZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzXG4gKiBAY2F0ZWdvcnkgTWlsbGlzZWNvbmQgSGVscGVyc1xuICogQHN1bW1hcnkgR2V0IHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGJldHdlZW4gdGhlIGdpdmVuIGRhdGVzLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogR2V0IHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGJldHdlZW4gdGhlIGdpdmVuIGRhdGVzLlxuICpcbiAqICMjIyB2Mi4wLjAgYnJlYWtpbmcgY2hhbmdlczpcbiAqXG4gKiAtIFtDaGFuZ2VzIHRoYXQgYXJlIGNvbW1vbiBmb3IgdGhlIHdob2xlIGxpYnJhcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNDb21tb24tQ2hhbmdlcykuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZUxlZnQgLSB0aGUgbGF0ZXIgZGF0ZVxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZVJpZ2h0IC0gdGhlIGVhcmxpZXIgZGF0ZVxuICogQHJldHVybnMge051bWJlcn0gdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHNcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMiBhcmd1bWVudHMgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSG93IG1hbnkgbWlsbGlzZWNvbmRzIGFyZSBiZXR3ZWVuXG4gKiAvLyAyIEp1bHkgMjAxNCAxMjozMDoyMC42MDAgYW5kIDIgSnVseSAyMDE0IDEyOjMwOjIxLjcwMD9cbiAqIHZhciByZXN1bHQgPSBkaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMoXG4gKiAgIG5ldyBEYXRlKDIwMTQsIDYsIDIsIDEyLCAzMCwgMjEsIDcwMCksXG4gKiAgIG5ldyBEYXRlKDIwMTQsIDYsIDIsIDEyLCAzMCwgMjAsIDYwMClcbiAqIClcbiAqIC8vPT4gMTEwMFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRpZmZlcmVuY2VJbk1pbGxpc2Vjb25kcyhkaXJ0eURhdGVMZWZ0LCBkaXJ0eURhdGVSaWdodCkge1xuICByZXF1aXJlZEFyZ3MoMiwgYXJndW1lbnRzKTtcbiAgdmFyIGRhdGVMZWZ0ID0gdG9EYXRlKGRpcnR5RGF0ZUxlZnQpO1xuICB2YXIgZGF0ZVJpZ2h0ID0gdG9EYXRlKGRpcnR5RGF0ZVJpZ2h0KTtcbiAgcmV0dXJuIGRhdGVMZWZ0LmdldFRpbWUoKSAtIGRhdGVSaWdodC5nZXRUaW1lKCk7XG59IiwiaW1wb3J0IGRpZmZlcmVuY2VJbk1pbGxpc2Vjb25kcyBmcm9tICcuLi9kaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMvaW5kZXguanMnO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tICcuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qcyc7XG4vKipcbiAqIEBuYW1lIGRpZmZlcmVuY2VJblNlY29uZHNcbiAqIEBjYXRlZ29yeSBTZWNvbmQgSGVscGVyc1xuICogQHN1bW1hcnkgR2V0IHRoZSBudW1iZXIgb2Ygc2Vjb25kcyBiZXR3ZWVuIHRoZSBnaXZlbiBkYXRlcy5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdldCB0aGUgbnVtYmVyIG9mIHNlY29uZHMgYmV0d2VlbiB0aGUgZ2l2ZW4gZGF0ZXMuXG4gKlxuICogIyMjIHYyLjAuMCBicmVha2luZyBjaGFuZ2VzOlxuICpcbiAqIC0gW0NoYW5nZXMgdGhhdCBhcmUgY29tbW9uIGZvciB0aGUgd2hvbGUgbGlicmFyeV0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdXBncmFkZUd1aWRlLm1kI0NvbW1vbi1DaGFuZ2VzKS5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlTGVmdCAtIHRoZSBsYXRlciBkYXRlXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlUmlnaHQgLSB0aGUgZWFybGllciBkYXRlXG4gKiBAcmV0dXJucyB7TnVtYmVyfSB0aGUgbnVtYmVyIG9mIHNlY29uZHNcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMiBhcmd1bWVudHMgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSG93IG1hbnkgc2Vjb25kcyBhcmUgYmV0d2VlblxuICogLy8gMiBKdWx5IDIwMTQgMTI6MzA6MDcuOTk5IGFuZCAyIEp1bHkgMjAxNCAxMjozMDoyMC4wMDA/XG4gKiB2YXIgcmVzdWx0ID0gZGlmZmVyZW5jZUluU2Vjb25kcyhcbiAqICAgbmV3IERhdGUoMjAxNCwgNiwgMiwgMTIsIDMwLCAyMCwgMCksXG4gKiAgIG5ldyBEYXRlKDIwMTQsIDYsIDIsIDEyLCAzMCwgNywgOTk5KVxuICogKVxuICogLy89PiAxMlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRpZmZlcmVuY2VJblNlY29uZHMoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQpIHtcbiAgcmVxdWlyZWRBcmdzKDIsIGFyZ3VtZW50cyk7XG4gIHZhciBkaWZmID0gZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzKGRpcnR5RGF0ZUxlZnQsIGRpcnR5RGF0ZVJpZ2h0KSAvIDEwMDA7XG4gIHJldHVybiBkaWZmID4gMCA/IE1hdGguZmxvb3IoZGlmZikgOiBNYXRoLmNlaWwoZGlmZik7XG59IiwiaW1wb3J0IGFzc2lnbiBmcm9tICcuLi9hc3NpZ24vaW5kZXguanMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xvbmVPYmplY3QoZGlydHlPYmplY3QpIHtcbiAgcmV0dXJuIGFzc2lnbih7fSwgZGlydHlPYmplY3QpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIGRpcnR5T2JqZWN0KSB7XG4gIGlmICh0YXJnZXQgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Fzc2lnbiByZXF1aXJlcyB0aGF0IGlucHV0IHBhcmFtZXRlciBub3QgYmUgbnVsbCBvciB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIGRpcnR5T2JqZWN0ID0gZGlydHlPYmplY3QgfHwge307XG5cbiAgZm9yICh2YXIgcHJvcGVydHkgaW4gZGlydHlPYmplY3QpIHtcbiAgICBpZiAoZGlydHlPYmplY3QuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgICB0YXJnZXRbcHJvcGVydHldID0gZGlydHlPYmplY3RbcHJvcGVydHldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59IiwidmFyIGZvcm1hdERpc3RhbmNlTG9jYWxlID0ge1xuICBsZXNzVGhhblhTZWNvbmRzOiB7XG4gICAgb25lOiAnbGVzcyB0aGFuIGEgc2Vjb25kJyxcbiAgICBvdGhlcjogJ2xlc3MgdGhhbiB7e2NvdW50fX0gc2Vjb25kcydcbiAgfSxcbiAgeFNlY29uZHM6IHtcbiAgICBvbmU6ICcxIHNlY29uZCcsXG4gICAgb3RoZXI6ICd7e2NvdW50fX0gc2Vjb25kcydcbiAgfSxcbiAgaGFsZkFNaW51dGU6ICdoYWxmIGEgbWludXRlJyxcbiAgbGVzc1RoYW5YTWludXRlczoge1xuICAgIG9uZTogJ2xlc3MgdGhhbiBhIG1pbnV0ZScsXG4gICAgb3RoZXI6ICdsZXNzIHRoYW4ge3tjb3VudH19IG1pbnV0ZXMnXG4gIH0sXG4gIHhNaW51dGVzOiB7XG4gICAgb25lOiAnMSBtaW51dGUnLFxuICAgIG90aGVyOiAne3tjb3VudH19IG1pbnV0ZXMnXG4gIH0sXG4gIGFib3V0WEhvdXJzOiB7XG4gICAgb25lOiAnYWJvdXQgMSBob3VyJyxcbiAgICBvdGhlcjogJ2Fib3V0IHt7Y291bnR9fSBob3VycydcbiAgfSxcbiAgeEhvdXJzOiB7XG4gICAgb25lOiAnMSBob3VyJyxcbiAgICBvdGhlcjogJ3t7Y291bnR9fSBob3VycydcbiAgfSxcbiAgeERheXM6IHtcbiAgICBvbmU6ICcxIGRheScsXG4gICAgb3RoZXI6ICd7e2NvdW50fX0gZGF5cydcbiAgfSxcbiAgYWJvdXRYV2Vla3M6IHtcbiAgICBvbmU6ICdhYm91dCAxIHdlZWsnLFxuICAgIG90aGVyOiAnYWJvdXQge3tjb3VudH19IHdlZWtzJ1xuICB9LFxuICB4V2Vla3M6IHtcbiAgICBvbmU6ICcxIHdlZWsnLFxuICAgIG90aGVyOiAne3tjb3VudH19IHdlZWtzJ1xuICB9LFxuICBhYm91dFhNb250aHM6IHtcbiAgICBvbmU6ICdhYm91dCAxIG1vbnRoJyxcbiAgICBvdGhlcjogJ2Fib3V0IHt7Y291bnR9fSBtb250aHMnXG4gIH0sXG4gIHhNb250aHM6IHtcbiAgICBvbmU6ICcxIG1vbnRoJyxcbiAgICBvdGhlcjogJ3t7Y291bnR9fSBtb250aHMnXG4gIH0sXG4gIGFib3V0WFllYXJzOiB7XG4gICAgb25lOiAnYWJvdXQgMSB5ZWFyJyxcbiAgICBvdGhlcjogJ2Fib3V0IHt7Y291bnR9fSB5ZWFycydcbiAgfSxcbiAgeFllYXJzOiB7XG4gICAgb25lOiAnMSB5ZWFyJyxcbiAgICBvdGhlcjogJ3t7Y291bnR9fSB5ZWFycydcbiAgfSxcbiAgb3ZlclhZZWFyczoge1xuICAgIG9uZTogJ292ZXIgMSB5ZWFyJyxcbiAgICBvdGhlcjogJ292ZXIge3tjb3VudH19IHllYXJzJ1xuICB9LFxuICBhbG1vc3RYWWVhcnM6IHtcbiAgICBvbmU6ICdhbG1vc3QgMSB5ZWFyJyxcbiAgICBvdGhlcjogJ2FsbW9zdCB7e2NvdW50fX0geWVhcnMnXG4gIH1cbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb3JtYXREaXN0YW5jZSh0b2tlbiwgY291bnQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciByZXN1bHQ7XG5cbiAgaWYgKHR5cGVvZiBmb3JtYXREaXN0YW5jZUxvY2FsZVt0b2tlbl0gPT09ICdzdHJpbmcnKSB7XG4gICAgcmVzdWx0ID0gZm9ybWF0RGlzdGFuY2VMb2NhbGVbdG9rZW5dO1xuICB9IGVsc2UgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgcmVzdWx0ID0gZm9ybWF0RGlzdGFuY2VMb2NhbGVbdG9rZW5dLm9uZTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSBmb3JtYXREaXN0YW5jZUxvY2FsZVt0b2tlbl0ub3RoZXIucmVwbGFjZSgne3tjb3VudH19JywgY291bnQpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuYWRkU3VmZml4KSB7XG4gICAgaWYgKG9wdGlvbnMuY29tcGFyaXNvbiA+IDApIHtcbiAgICAgIHJldHVybiAnaW4gJyArIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc3VsdCArICcgYWdvJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkRm9ybWF0TG9uZ0ZuKGFyZ3MpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChkaXJ0eU9wdGlvbnMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGRpcnR5T3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgd2lkdGggPSBvcHRpb25zLndpZHRoID8gU3RyaW5nKG9wdGlvbnMud2lkdGgpIDogYXJncy5kZWZhdWx0V2lkdGg7XG4gICAgdmFyIGZvcm1hdCA9IGFyZ3MuZm9ybWF0c1t3aWR0aF0gfHwgYXJncy5mb3JtYXRzW2FyZ3MuZGVmYXVsdFdpZHRoXTtcbiAgICByZXR1cm4gZm9ybWF0O1xuICB9O1xufSIsImltcG9ydCBidWlsZEZvcm1hdExvbmdGbiBmcm9tICcuLi8uLi8uLi9fbGliL2J1aWxkRm9ybWF0TG9uZ0ZuL2luZGV4LmpzJztcbnZhciBkYXRlRm9ybWF0cyA9IHtcbiAgZnVsbDogJ0VFRUUsIE1NTU0gZG8sIHknLFxuICBsb25nOiAnTU1NTSBkbywgeScsXG4gIG1lZGl1bTogJ01NTSBkLCB5JyxcbiAgc2hvcnQ6ICdNTS9kZC95eXl5J1xufTtcbnZhciB0aW1lRm9ybWF0cyA9IHtcbiAgZnVsbDogJ2g6bW06c3MgYSB6enp6JyxcbiAgbG9uZzogJ2g6bW06c3MgYSB6JyxcbiAgbWVkaXVtOiAnaDptbTpzcyBhJyxcbiAgc2hvcnQ6ICdoOm1tIGEnXG59O1xudmFyIGRhdGVUaW1lRm9ybWF0cyA9IHtcbiAgZnVsbDogXCJ7e2RhdGV9fSAnYXQnIHt7dGltZX19XCIsXG4gIGxvbmc6IFwie3tkYXRlfX0gJ2F0JyB7e3RpbWV9fVwiLFxuICBtZWRpdW06ICd7e2RhdGV9fSwge3t0aW1lfX0nLFxuICBzaG9ydDogJ3t7ZGF0ZX19LCB7e3RpbWV9fSdcbn07XG52YXIgZm9ybWF0TG9uZyA9IHtcbiAgZGF0ZTogYnVpbGRGb3JtYXRMb25nRm4oe1xuICAgIGZvcm1hdHM6IGRhdGVGb3JtYXRzLFxuICAgIGRlZmF1bHRXaWR0aDogJ2Z1bGwnXG4gIH0pLFxuICB0aW1lOiBidWlsZEZvcm1hdExvbmdGbih7XG4gICAgZm9ybWF0czogdGltZUZvcm1hdHMsXG4gICAgZGVmYXVsdFdpZHRoOiAnZnVsbCdcbiAgfSksXG4gIGRhdGVUaW1lOiBidWlsZEZvcm1hdExvbmdGbih7XG4gICAgZm9ybWF0czogZGF0ZVRpbWVGb3JtYXRzLFxuICAgIGRlZmF1bHRXaWR0aDogJ2Z1bGwnXG4gIH0pXG59O1xuZXhwb3J0IGRlZmF1bHQgZm9ybWF0TG9uZzsiLCJ2YXIgZm9ybWF0UmVsYXRpdmVMb2NhbGUgPSB7XG4gIGxhc3RXZWVrOiBcIidsYXN0JyBlZWVlICdhdCcgcFwiLFxuICB5ZXN0ZXJkYXk6IFwiJ3llc3RlcmRheSBhdCcgcFwiLFxuICB0b2RheTogXCIndG9kYXkgYXQnIHBcIixcbiAgdG9tb3Jyb3c6IFwiJ3RvbW9ycm93IGF0JyBwXCIsXG4gIG5leHRXZWVrOiBcImVlZWUgJ2F0JyBwXCIsXG4gIG90aGVyOiAnUCdcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb3JtYXRSZWxhdGl2ZSh0b2tlbiwgX2RhdGUsIF9iYXNlRGF0ZSwgX29wdGlvbnMpIHtcbiAgcmV0dXJuIGZvcm1hdFJlbGF0aXZlTG9jYWxlW3Rva2VuXTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBidWlsZExvY2FsaXplRm4oYXJncykge1xuICByZXR1cm4gZnVuY3Rpb24gKGRpcnR5SW5kZXgsIGRpcnR5T3B0aW9ucykge1xuICAgIHZhciBvcHRpb25zID0gZGlydHlPcHRpb25zIHx8IHt9O1xuICAgIHZhciBjb250ZXh0ID0gb3B0aW9ucy5jb250ZXh0ID8gU3RyaW5nKG9wdGlvbnMuY29udGV4dCkgOiAnc3RhbmRhbG9uZSc7XG4gICAgdmFyIHZhbHVlc0FycmF5O1xuXG4gICAgaWYgKGNvbnRleHQgPT09ICdmb3JtYXR0aW5nJyAmJiBhcmdzLmZvcm1hdHRpbmdWYWx1ZXMpIHtcbiAgICAgIHZhciBkZWZhdWx0V2lkdGggPSBhcmdzLmRlZmF1bHRGb3JtYXR0aW5nV2lkdGggfHwgYXJncy5kZWZhdWx0V2lkdGg7XG4gICAgICB2YXIgd2lkdGggPSBvcHRpb25zLndpZHRoID8gU3RyaW5nKG9wdGlvbnMud2lkdGgpIDogZGVmYXVsdFdpZHRoO1xuICAgICAgdmFsdWVzQXJyYXkgPSBhcmdzLmZvcm1hdHRpbmdWYWx1ZXNbd2lkdGhdIHx8IGFyZ3MuZm9ybWF0dGluZ1ZhbHVlc1tkZWZhdWx0V2lkdGhdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX2RlZmF1bHRXaWR0aCA9IGFyZ3MuZGVmYXVsdFdpZHRoO1xuXG4gICAgICB2YXIgX3dpZHRoID0gb3B0aW9ucy53aWR0aCA/IFN0cmluZyhvcHRpb25zLndpZHRoKSA6IGFyZ3MuZGVmYXVsdFdpZHRoO1xuXG4gICAgICB2YWx1ZXNBcnJheSA9IGFyZ3MudmFsdWVzW193aWR0aF0gfHwgYXJncy52YWx1ZXNbX2RlZmF1bHRXaWR0aF07XG4gICAgfVxuXG4gICAgdmFyIGluZGV4ID0gYXJncy5hcmd1bWVudENhbGxiYWNrID8gYXJncy5hcmd1bWVudENhbGxiYWNrKGRpcnR5SW5kZXgpIDogZGlydHlJbmRleDtcbiAgICByZXR1cm4gdmFsdWVzQXJyYXlbaW5kZXhdO1xuICB9O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkTWF0Y2hGbihhcmdzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZGlydHlTdHJpbmcsIGRpcnR5T3B0aW9ucykge1xuICAgIHZhciBzdHJpbmcgPSBTdHJpbmcoZGlydHlTdHJpbmcpO1xuICAgIHZhciBvcHRpb25zID0gZGlydHlPcHRpb25zIHx8IHt9O1xuICAgIHZhciB3aWR0aCA9IG9wdGlvbnMud2lkdGg7XG4gICAgdmFyIG1hdGNoUGF0dGVybiA9IHdpZHRoICYmIGFyZ3MubWF0Y2hQYXR0ZXJuc1t3aWR0aF0gfHwgYXJncy5tYXRjaFBhdHRlcm5zW2FyZ3MuZGVmYXVsdE1hdGNoV2lkdGhdO1xuICAgIHZhciBtYXRjaFJlc3VsdCA9IHN0cmluZy5tYXRjaChtYXRjaFBhdHRlcm4pO1xuXG4gICAgaWYgKCFtYXRjaFJlc3VsdCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoZWRTdHJpbmcgPSBtYXRjaFJlc3VsdFswXTtcbiAgICB2YXIgcGFyc2VQYXR0ZXJucyA9IHdpZHRoICYmIGFyZ3MucGFyc2VQYXR0ZXJuc1t3aWR0aF0gfHwgYXJncy5wYXJzZVBhdHRlcm5zW2FyZ3MuZGVmYXVsdFBhcnNlV2lkdGhdO1xuICAgIHZhciB2YWx1ZTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocGFyc2VQYXR0ZXJucykgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHZhbHVlID0gZmluZEluZGV4KHBhcnNlUGF0dGVybnMsIGZ1bmN0aW9uIChwYXR0ZXJuKSB7XG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobWF0Y2hlZFN0cmluZyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgPSBmaW5kS2V5KHBhcnNlUGF0dGVybnMsIGZ1bmN0aW9uIChwYXR0ZXJuKSB7XG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobWF0Y2hlZFN0cmluZyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YWx1ZSA9IGFyZ3MudmFsdWVDYWxsYmFjayA/IGFyZ3MudmFsdWVDYWxsYmFjayh2YWx1ZSkgOiB2YWx1ZTtcbiAgICB2YWx1ZSA9IG9wdGlvbnMudmFsdWVDYWxsYmFjayA/IG9wdGlvbnMudmFsdWVDYWxsYmFjayh2YWx1ZSkgOiB2YWx1ZTtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgcmVzdDogc3RyaW5nLnNsaWNlKG1hdGNoZWRTdHJpbmcubGVuZ3RoKVxuICAgIH07XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZpbmRLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgIGlmIChvYmplY3QuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBwcmVkaWNhdGUob2JqZWN0W2tleV0pKSB7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSkge1xuICBmb3IgKHZhciBrZXkgPSAwOyBrZXkgPCBhcnJheS5sZW5ndGg7IGtleSsrKSB7XG4gICAgaWYgKHByZWRpY2F0ZShhcnJheVtrZXldKSkge1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgYnVpbGRNYXRjaFBhdHRlcm5GbiBmcm9tICcuLi8uLi8uLi9fbGliL2J1aWxkTWF0Y2hQYXR0ZXJuRm4vaW5kZXguanMnO1xuaW1wb3J0IGJ1aWxkTWF0Y2hGbiBmcm9tICcuLi8uLi8uLi9fbGliL2J1aWxkTWF0Y2hGbi9pbmRleC5qcyc7XG52YXIgbWF0Y2hPcmRpbmFsTnVtYmVyUGF0dGVybiA9IC9eKFxcZCspKHRofHN0fG5kfHJkKT8vaTtcbnZhciBwYXJzZU9yZGluYWxOdW1iZXJQYXR0ZXJuID0gL1xcZCsvaTtcbnZhciBtYXRjaEVyYVBhdHRlcm5zID0ge1xuICBuYXJyb3c6IC9eKGJ8YSkvaSxcbiAgYWJicmV2aWF0ZWQ6IC9eKGJcXC4/XFxzP2NcXC4/fGJcXC4/XFxzP2NcXC4/XFxzP2VcXC4/fGFcXC4/XFxzP2RcXC4/fGNcXC4/XFxzP2VcXC4/KS9pLFxuICB3aWRlOiAvXihiZWZvcmUgY2hyaXN0fGJlZm9yZSBjb21tb24gZXJhfGFubm8gZG9taW5pfGNvbW1vbiBlcmEpL2lcbn07XG52YXIgcGFyc2VFcmFQYXR0ZXJucyA9IHtcbiAgYW55OiBbL15iL2ksIC9eKGF8YykvaV1cbn07XG52YXIgbWF0Y2hRdWFydGVyUGF0dGVybnMgPSB7XG4gIG5hcnJvdzogL15bMTIzNF0vaSxcbiAgYWJicmV2aWF0ZWQ6IC9ecVsxMjM0XS9pLFxuICB3aWRlOiAvXlsxMjM0XSh0aHxzdHxuZHxyZCk/IHF1YXJ0ZXIvaVxufTtcbnZhciBwYXJzZVF1YXJ0ZXJQYXR0ZXJucyA9IHtcbiAgYW55OiBbLzEvaSwgLzIvaSwgLzMvaSwgLzQvaV1cbn07XG52YXIgbWF0Y2hNb250aFBhdHRlcm5zID0ge1xuICBuYXJyb3c6IC9eW2pmbWFzb25kXS9pLFxuICBhYmJyZXZpYXRlZDogL14oamFufGZlYnxtYXJ8YXByfG1heXxqdW58anVsfGF1Z3xzZXB8b2N0fG5vdnxkZWMpL2ksXG4gIHdpZGU6IC9eKGphbnVhcnl8ZmVicnVhcnl8bWFyY2h8YXByaWx8bWF5fGp1bmV8anVseXxhdWd1c3R8c2VwdGVtYmVyfG9jdG9iZXJ8bm92ZW1iZXJ8ZGVjZW1iZXIpL2lcbn07XG52YXIgcGFyc2VNb250aFBhdHRlcm5zID0ge1xuICBuYXJyb3c6IFsvXmovaSwgL15mL2ksIC9ebS9pLCAvXmEvaSwgL15tL2ksIC9eai9pLCAvXmovaSwgL15hL2ksIC9ecy9pLCAvXm8vaSwgL15uL2ksIC9eZC9pXSxcbiAgYW55OiBbL15qYS9pLCAvXmYvaSwgL15tYXIvaSwgL15hcC9pLCAvXm1heS9pLCAvXmp1bi9pLCAvXmp1bC9pLCAvXmF1L2ksIC9ecy9pLCAvXm8vaSwgL15uL2ksIC9eZC9pXVxufTtcbnZhciBtYXRjaERheVBhdHRlcm5zID0ge1xuICBuYXJyb3c6IC9eW3NtdHdmXS9pLFxuICBzaG9ydDogL14oc3V8bW98dHV8d2V8dGh8ZnJ8c2EpL2ksXG4gIGFiYnJldmlhdGVkOiAvXihzdW58bW9ufHR1ZXx3ZWR8dGh1fGZyaXxzYXQpL2ksXG4gIHdpZGU6IC9eKHN1bmRheXxtb25kYXl8dHVlc2RheXx3ZWRuZXNkYXl8dGh1cnNkYXl8ZnJpZGF5fHNhdHVyZGF5KS9pXG59O1xudmFyIHBhcnNlRGF5UGF0dGVybnMgPSB7XG4gIG5hcnJvdzogWy9ecy9pLCAvXm0vaSwgL150L2ksIC9edy9pLCAvXnQvaSwgL15mL2ksIC9ecy9pXSxcbiAgYW55OiBbL15zdS9pLCAvXm0vaSwgL150dS9pLCAvXncvaSwgL150aC9pLCAvXmYvaSwgL15zYS9pXVxufTtcbnZhciBtYXRjaERheVBlcmlvZFBhdHRlcm5zID0ge1xuICBuYXJyb3c6IC9eKGF8cHxtaXxufChpbiB0aGV8YXQpIChtb3JuaW5nfGFmdGVybm9vbnxldmVuaW5nfG5pZ2h0KSkvaSxcbiAgYW55OiAvXihbYXBdXFwuP1xccz9tXFwuP3xtaWRuaWdodHxub29ufChpbiB0aGV8YXQpIChtb3JuaW5nfGFmdGVybm9vbnxldmVuaW5nfG5pZ2h0KSkvaVxufTtcbnZhciBwYXJzZURheVBlcmlvZFBhdHRlcm5zID0ge1xuICBhbnk6IHtcbiAgICBhbTogL15hL2ksXG4gICAgcG06IC9ecC9pLFxuICAgIG1pZG5pZ2h0OiAvXm1pL2ksXG4gICAgbm9vbjogL15uby9pLFxuICAgIG1vcm5pbmc6IC9tb3JuaW5nL2ksXG4gICAgYWZ0ZXJub29uOiAvYWZ0ZXJub29uL2ksXG4gICAgZXZlbmluZzogL2V2ZW5pbmcvaSxcbiAgICBuaWdodDogL25pZ2h0L2lcbiAgfVxufTtcbnZhciBtYXRjaCA9IHtcbiAgb3JkaW5hbE51bWJlcjogYnVpbGRNYXRjaFBhdHRlcm5Gbih7XG4gICAgbWF0Y2hQYXR0ZXJuOiBtYXRjaE9yZGluYWxOdW1iZXJQYXR0ZXJuLFxuICAgIHBhcnNlUGF0dGVybjogcGFyc2VPcmRpbmFsTnVtYmVyUGF0dGVybixcbiAgICB2YWx1ZUNhbGxiYWNrOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIH1cbiAgfSksXG4gIGVyYTogYnVpbGRNYXRjaEZuKHtcbiAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaEVyYVBhdHRlcm5zLFxuICAgIGRlZmF1bHRNYXRjaFdpZHRoOiAnd2lkZScsXG4gICAgcGFyc2VQYXR0ZXJuczogcGFyc2VFcmFQYXR0ZXJucyxcbiAgICBkZWZhdWx0UGFyc2VXaWR0aDogJ2FueSdcbiAgfSksXG4gIHF1YXJ0ZXI6IGJ1aWxkTWF0Y2hGbih7XG4gICAgbWF0Y2hQYXR0ZXJuczogbWF0Y2hRdWFydGVyUGF0dGVybnMsXG4gICAgZGVmYXVsdE1hdGNoV2lkdGg6ICd3aWRlJyxcbiAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZVF1YXJ0ZXJQYXR0ZXJucyxcbiAgICBkZWZhdWx0UGFyc2VXaWR0aDogJ2FueScsXG4gICAgdmFsdWVDYWxsYmFjazogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICByZXR1cm4gaW5kZXggKyAxO1xuICAgIH1cbiAgfSksXG4gIG1vbnRoOiBidWlsZE1hdGNoRm4oe1xuICAgIG1hdGNoUGF0dGVybnM6IG1hdGNoTW9udGhQYXR0ZXJucyxcbiAgICBkZWZhdWx0TWF0Y2hXaWR0aDogJ3dpZGUnLFxuICAgIHBhcnNlUGF0dGVybnM6IHBhcnNlTW9udGhQYXR0ZXJucyxcbiAgICBkZWZhdWx0UGFyc2VXaWR0aDogJ2FueSdcbiAgfSksXG4gIGRheTogYnVpbGRNYXRjaEZuKHtcbiAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaERheVBhdHRlcm5zLFxuICAgIGRlZmF1bHRNYXRjaFdpZHRoOiAnd2lkZScsXG4gICAgcGFyc2VQYXR0ZXJuczogcGFyc2VEYXlQYXR0ZXJucyxcbiAgICBkZWZhdWx0UGFyc2VXaWR0aDogJ2FueSdcbiAgfSksXG4gIGRheVBlcmlvZDogYnVpbGRNYXRjaEZuKHtcbiAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaERheVBlcmlvZFBhdHRlcm5zLFxuICAgIGRlZmF1bHRNYXRjaFdpZHRoOiAnYW55JyxcbiAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZURheVBlcmlvZFBhdHRlcm5zLFxuICAgIGRlZmF1bHRQYXJzZVdpZHRoOiAnYW55J1xuICB9KVxufTtcbmV4cG9ydCBkZWZhdWx0IG1hdGNoOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkTWF0Y2hQYXR0ZXJuRm4oYXJncykge1xuICByZXR1cm4gZnVuY3Rpb24gKGRpcnR5U3RyaW5nLCBkaXJ0eU9wdGlvbnMpIHtcbiAgICB2YXIgc3RyaW5nID0gU3RyaW5nKGRpcnR5U3RyaW5nKTtcbiAgICB2YXIgb3B0aW9ucyA9IGRpcnR5T3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgbWF0Y2hSZXN1bHQgPSBzdHJpbmcubWF0Y2goYXJncy5tYXRjaFBhdHRlcm4pO1xuXG4gICAgaWYgKCFtYXRjaFJlc3VsdCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoZWRTdHJpbmcgPSBtYXRjaFJlc3VsdFswXTtcbiAgICB2YXIgcGFyc2VSZXN1bHQgPSBzdHJpbmcubWF0Y2goYXJncy5wYXJzZVBhdHRlcm4pO1xuXG4gICAgaWYgKCFwYXJzZVJlc3VsdCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gYXJncy52YWx1ZUNhbGxiYWNrID8gYXJncy52YWx1ZUNhbGxiYWNrKHBhcnNlUmVzdWx0WzBdKSA6IHBhcnNlUmVzdWx0WzBdO1xuICAgIHZhbHVlID0gb3B0aW9ucy52YWx1ZUNhbGxiYWNrID8gb3B0aW9ucy52YWx1ZUNhbGxiYWNrKHZhbHVlKSA6IHZhbHVlO1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICByZXN0OiBzdHJpbmcuc2xpY2UobWF0Y2hlZFN0cmluZy5sZW5ndGgpXG4gICAgfTtcbiAgfTtcbn0iLCJpbXBvcnQgZm9ybWF0RGlzdGFuY2UgZnJvbSAnLi9fbGliL2Zvcm1hdERpc3RhbmNlL2luZGV4LmpzJztcbmltcG9ydCBmb3JtYXRMb25nIGZyb20gJy4vX2xpYi9mb3JtYXRMb25nL2luZGV4LmpzJztcbmltcG9ydCBmb3JtYXRSZWxhdGl2ZSBmcm9tICcuL19saWIvZm9ybWF0UmVsYXRpdmUvaW5kZXguanMnO1xuaW1wb3J0IGxvY2FsaXplIGZyb20gJy4vX2xpYi9sb2NhbGl6ZS9pbmRleC5qcyc7XG5pbXBvcnQgbWF0Y2ggZnJvbSAnLi9fbGliL21hdGNoL2luZGV4LmpzJztcbi8qKlxuICogQHR5cGUge0xvY2FsZX1cbiAqIEBjYXRlZ29yeSBMb2NhbGVzXG4gKiBAc3VtbWFyeSBFbmdsaXNoIGxvY2FsZSAoVW5pdGVkIFN0YXRlcykuXG4gKiBAbGFuZ3VhZ2UgRW5nbGlzaFxuICogQGlzby02MzktMiBlbmdcbiAqIEBhdXRob3IgU2FzaGEgS29zcyBbQGtvc3Nub2NvcnBde0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9rb3Nzbm9jb3JwfVxuICogQGF1dGhvciBMZXNoYSBLb3NzIFtAbGVzaGFrb3NzXXtAbGluayBodHRwczovL2dpdGh1Yi5jb20vbGVzaGFrb3NzfVxuICovXG5cbnZhciBsb2NhbGUgPSB7XG4gIGNvZGU6ICdlbi1VUycsXG4gIGZvcm1hdERpc3RhbmNlOiBmb3JtYXREaXN0YW5jZSxcbiAgZm9ybWF0TG9uZzogZm9ybWF0TG9uZyxcbiAgZm9ybWF0UmVsYXRpdmU6IGZvcm1hdFJlbGF0aXZlLFxuICBsb2NhbGl6ZTogbG9jYWxpemUsXG4gIG1hdGNoOiBtYXRjaCxcbiAgb3B0aW9uczoge1xuICAgIHdlZWtTdGFydHNPbjogMFxuICAgIC8qIFN1bmRheSAqL1xuICAgICxcbiAgICBmaXJzdFdlZWtDb250YWluc0RhdGU6IDFcbiAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IGxvY2FsZTsiLCJpbXBvcnQgYnVpbGRMb2NhbGl6ZUZuIGZyb20gJy4uLy4uLy4uL19saWIvYnVpbGRMb2NhbGl6ZUZuL2luZGV4LmpzJztcbnZhciBlcmFWYWx1ZXMgPSB7XG4gIG5hcnJvdzogWydCJywgJ0EnXSxcbiAgYWJicmV2aWF0ZWQ6IFsnQkMnLCAnQUQnXSxcbiAgd2lkZTogWydCZWZvcmUgQ2hyaXN0JywgJ0Fubm8gRG9taW5pJ11cbn07XG52YXIgcXVhcnRlclZhbHVlcyA9IHtcbiAgbmFycm93OiBbJzEnLCAnMicsICczJywgJzQnXSxcbiAgYWJicmV2aWF0ZWQ6IFsnUTEnLCAnUTInLCAnUTMnLCAnUTQnXSxcbiAgd2lkZTogWycxc3QgcXVhcnRlcicsICcybmQgcXVhcnRlcicsICczcmQgcXVhcnRlcicsICc0dGggcXVhcnRlciddIC8vIE5vdGU6IGluIEVuZ2xpc2gsIHRoZSBuYW1lcyBvZiBkYXlzIG9mIHRoZSB3ZWVrIGFuZCBtb250aHMgYXJlIGNhcGl0YWxpemVkLlxuICAvLyBJZiB5b3UgYXJlIG1ha2luZyBhIG5ldyBsb2NhbGUgYmFzZWQgb24gdGhpcyBvbmUsIGNoZWNrIGlmIHRoZSBzYW1lIGlzIHRydWUgZm9yIHRoZSBsYW5ndWFnZSB5b3UncmUgd29ya2luZyBvbi5cbiAgLy8gR2VuZXJhbGx5LCBmb3JtYXR0ZWQgZGF0ZXMgc2hvdWxkIGxvb2sgbGlrZSB0aGV5IGFyZSBpbiB0aGUgbWlkZGxlIG9mIGEgc2VudGVuY2UsXG4gIC8vIGUuZy4gaW4gU3BhbmlzaCBsYW5ndWFnZSB0aGUgd2Vla2RheXMgYW5kIG1vbnRocyBzaG91bGQgYmUgaW4gdGhlIGxvd2VyY2FzZS5cblxufTtcbnZhciBtb250aFZhbHVlcyA9IHtcbiAgbmFycm93OiBbJ0onLCAnRicsICdNJywgJ0EnLCAnTScsICdKJywgJ0onLCAnQScsICdTJywgJ08nLCAnTicsICdEJ10sXG4gIGFiYnJldmlhdGVkOiBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJywgJ09jdCcsICdOb3YnLCAnRGVjJ10sXG4gIHdpZGU6IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddXG59O1xudmFyIGRheVZhbHVlcyA9IHtcbiAgbmFycm93OiBbJ1MnLCAnTScsICdUJywgJ1cnLCAnVCcsICdGJywgJ1MnXSxcbiAgc2hvcnQ6IFsnU3UnLCAnTW8nLCAnVHUnLCAnV2UnLCAnVGgnLCAnRnInLCAnU2EnXSxcbiAgYWJicmV2aWF0ZWQ6IFsnU3VuJywgJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGcmknLCAnU2F0J10sXG4gIHdpZGU6IFsnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXVxufTtcbnZhciBkYXlQZXJpb2RWYWx1ZXMgPSB7XG4gIG5hcnJvdzoge1xuICAgIGFtOiAnYScsXG4gICAgcG06ICdwJyxcbiAgICBtaWRuaWdodDogJ21pJyxcbiAgICBub29uOiAnbicsXG4gICAgbW9ybmluZzogJ21vcm5pbmcnLFxuICAgIGFmdGVybm9vbjogJ2FmdGVybm9vbicsXG4gICAgZXZlbmluZzogJ2V2ZW5pbmcnLFxuICAgIG5pZ2h0OiAnbmlnaHQnXG4gIH0sXG4gIGFiYnJldmlhdGVkOiB7XG4gICAgYW06ICdBTScsXG4gICAgcG06ICdQTScsXG4gICAgbWlkbmlnaHQ6ICdtaWRuaWdodCcsXG4gICAgbm9vbjogJ25vb24nLFxuICAgIG1vcm5pbmc6ICdtb3JuaW5nJyxcbiAgICBhZnRlcm5vb246ICdhZnRlcm5vb24nLFxuICAgIGV2ZW5pbmc6ICdldmVuaW5nJyxcbiAgICBuaWdodDogJ25pZ2h0J1xuICB9LFxuICB3aWRlOiB7XG4gICAgYW06ICdhLm0uJyxcbiAgICBwbTogJ3AubS4nLFxuICAgIG1pZG5pZ2h0OiAnbWlkbmlnaHQnLFxuICAgIG5vb246ICdub29uJyxcbiAgICBtb3JuaW5nOiAnbW9ybmluZycsXG4gICAgYWZ0ZXJub29uOiAnYWZ0ZXJub29uJyxcbiAgICBldmVuaW5nOiAnZXZlbmluZycsXG4gICAgbmlnaHQ6ICduaWdodCdcbiAgfVxufTtcbnZhciBmb3JtYXR0aW5nRGF5UGVyaW9kVmFsdWVzID0ge1xuICBuYXJyb3c6IHtcbiAgICBhbTogJ2EnLFxuICAgIHBtOiAncCcsXG4gICAgbWlkbmlnaHQ6ICdtaScsXG4gICAgbm9vbjogJ24nLFxuICAgIG1vcm5pbmc6ICdpbiB0aGUgbW9ybmluZycsXG4gICAgYWZ0ZXJub29uOiAnaW4gdGhlIGFmdGVybm9vbicsXG4gICAgZXZlbmluZzogJ2luIHRoZSBldmVuaW5nJyxcbiAgICBuaWdodDogJ2F0IG5pZ2h0J1xuICB9LFxuICBhYmJyZXZpYXRlZDoge1xuICAgIGFtOiAnQU0nLFxuICAgIHBtOiAnUE0nLFxuICAgIG1pZG5pZ2h0OiAnbWlkbmlnaHQnLFxuICAgIG5vb246ICdub29uJyxcbiAgICBtb3JuaW5nOiAnaW4gdGhlIG1vcm5pbmcnLFxuICAgIGFmdGVybm9vbjogJ2luIHRoZSBhZnRlcm5vb24nLFxuICAgIGV2ZW5pbmc6ICdpbiB0aGUgZXZlbmluZycsXG4gICAgbmlnaHQ6ICdhdCBuaWdodCdcbiAgfSxcbiAgd2lkZToge1xuICAgIGFtOiAnYS5tLicsXG4gICAgcG06ICdwLm0uJyxcbiAgICBtaWRuaWdodDogJ21pZG5pZ2h0JyxcbiAgICBub29uOiAnbm9vbicsXG4gICAgbW9ybmluZzogJ2luIHRoZSBtb3JuaW5nJyxcbiAgICBhZnRlcm5vb246ICdpbiB0aGUgYWZ0ZXJub29uJyxcbiAgICBldmVuaW5nOiAnaW4gdGhlIGV2ZW5pbmcnLFxuICAgIG5pZ2h0OiAnYXQgbmlnaHQnXG4gIH1cbn07XG5cbmZ1bmN0aW9uIG9yZGluYWxOdW1iZXIoZGlydHlOdW1iZXIsIF9kaXJ0eU9wdGlvbnMpIHtcbiAgdmFyIG51bWJlciA9IE51bWJlcihkaXJ0eU51bWJlcik7IC8vIElmIG9yZGluYWwgbnVtYmVycyBkZXBlbmQgb24gY29udGV4dCwgZm9yIGV4YW1wbGUsXG4gIC8vIGlmIHRoZXkgYXJlIGRpZmZlcmVudCBmb3IgZGlmZmVyZW50IGdyYW1tYXRpY2FsIGdlbmRlcnMsXG4gIC8vIHVzZSBgb3B0aW9ucy51bml0YDpcbiAgLy9cbiAgLy8gICB2YXIgb3B0aW9ucyA9IGRpcnR5T3B0aW9ucyB8fCB7fVxuICAvLyAgIHZhciB1bml0ID0gU3RyaW5nKG9wdGlvbnMudW5pdClcbiAgLy9cbiAgLy8gd2hlcmUgYHVuaXRgIGNhbiBiZSAneWVhcicsICdxdWFydGVyJywgJ21vbnRoJywgJ3dlZWsnLCAnZGF0ZScsICdkYXlPZlllYXInLFxuICAvLyAnZGF5JywgJ2hvdXInLCAnbWludXRlJywgJ3NlY29uZCdcblxuICB2YXIgcmVtMTAwID0gbnVtYmVyICUgMTAwO1xuXG4gIGlmIChyZW0xMDAgPiAyMCB8fCByZW0xMDAgPCAxMCkge1xuICAgIHN3aXRjaCAocmVtMTAwICUgMTApIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIG51bWJlciArICdzdCc7XG5cbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcmV0dXJuIG51bWJlciArICduZCc7XG5cbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIG51bWJlciArICdyZCc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bWJlciArICd0aCc7XG59XG5cbnZhciBsb2NhbGl6ZSA9IHtcbiAgb3JkaW5hbE51bWJlcjogb3JkaW5hbE51bWJlcixcbiAgZXJhOiBidWlsZExvY2FsaXplRm4oe1xuICAgIHZhbHVlczogZXJhVmFsdWVzLFxuICAgIGRlZmF1bHRXaWR0aDogJ3dpZGUnXG4gIH0pLFxuICBxdWFydGVyOiBidWlsZExvY2FsaXplRm4oe1xuICAgIHZhbHVlczogcXVhcnRlclZhbHVlcyxcbiAgICBkZWZhdWx0V2lkdGg6ICd3aWRlJyxcbiAgICBhcmd1bWVudENhbGxiYWNrOiBmdW5jdGlvbiAocXVhcnRlcikge1xuICAgICAgcmV0dXJuIE51bWJlcihxdWFydGVyKSAtIDE7XG4gICAgfVxuICB9KSxcbiAgbW9udGg6IGJ1aWxkTG9jYWxpemVGbih7XG4gICAgdmFsdWVzOiBtb250aFZhbHVlcyxcbiAgICBkZWZhdWx0V2lkdGg6ICd3aWRlJ1xuICB9KSxcbiAgZGF5OiBidWlsZExvY2FsaXplRm4oe1xuICAgIHZhbHVlczogZGF5VmFsdWVzLFxuICAgIGRlZmF1bHRXaWR0aDogJ3dpZGUnXG4gIH0pLFxuICBkYXlQZXJpb2Q6IGJ1aWxkTG9jYWxpemVGbih7XG4gICAgdmFsdWVzOiBkYXlQZXJpb2RWYWx1ZXMsXG4gICAgZGVmYXVsdFdpZHRoOiAnd2lkZScsXG4gICAgZm9ybWF0dGluZ1ZhbHVlczogZm9ybWF0dGluZ0RheVBlcmlvZFZhbHVlcyxcbiAgICBkZWZhdWx0Rm9ybWF0dGluZ1dpZHRoOiAnd2lkZSdcbiAgfSlcbn07XG5leHBvcnQgZGVmYXVsdCBsb2NhbGl6ZTsiLCJpbXBvcnQgZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcyBmcm9tICcuLi9fbGliL2dldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMvaW5kZXguanMnO1xuaW1wb3J0IGNvbXBhcmVBc2MgZnJvbSAnLi4vY29tcGFyZUFzYy9pbmRleC5qcyc7XG5pbXBvcnQgdG9EYXRlIGZyb20gJy4uL3RvRGF0ZS9pbmRleC5qcyc7XG5pbXBvcnQgZGlmZmVyZW5jZUluU2Vjb25kcyBmcm9tICcuLi9kaWZmZXJlbmNlSW5TZWNvbmRzL2luZGV4LmpzJztcbmltcG9ydCBjbG9uZU9iamVjdCBmcm9tICcuLi9fbGliL2Nsb25lT2JqZWN0L2luZGV4LmpzJztcbmltcG9ydCBkZWZhdWx0TG9jYWxlIGZyb20gJy4uL2xvY2FsZS9lbi1VUy9pbmRleC5qcyc7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gJy4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzJztcbnZhciBNSU5VVEVTX0lOX0RBWSA9IDE0NDA7XG52YXIgTUlOVVRFU19JTl9NT05USCA9IDQzMjAwO1xudmFyIE1JTlVURVNfSU5fWUVBUiA9IDUyNTYwMDtcbi8qKlxuICogQG5hbWUgZm9ybWF0RGlzdGFuY2VTdHJpY3RcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBnaXZlbiBkYXRlcyBpbiB3b3Jkcy5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgZ2l2ZW4gZGF0ZXMgaW4gd29yZHMsIHVzaW5nIHN0cmljdCB1bml0cy5cbiAqIFRoaXMgaXMgbGlrZSBgZm9ybWF0RGlzdGFuY2VgLCBidXQgZG9lcyBub3QgdXNlIGhlbHBlcnMgbGlrZSAnYWxtb3N0JywgJ292ZXInLFxuICogJ2xlc3MgdGhhbicgYW5kIHRoZSBsaWtlLlxuICpcbiAqIHwgRGlzdGFuY2UgYmV0d2VlbiBkYXRlcyB8IFJlc3VsdCAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IDAgLi4uIDU5IHNlY3MgICAgICAgICAgfCBbMC4uNTldIHNlY29uZHMgICAgIHxcbiAqIHwgMSAuLi4gNTkgbWlucyAgICAgICAgICB8IFsxLi41OV0gbWludXRlcyAgICAgfFxuICogfCAxIC4uLiAyMyBocnMgICAgICAgICAgIHwgWzEuLjIzXSBob3VycyAgICAgICB8XG4gKiB8IDEgLi4uIDI5IGRheXMgICAgICAgICAgfCBbMS4uMjldIGRheXMgICAgICAgIHxcbiAqIHwgMSAuLi4gMTEgbW9udGhzICAgICAgICB8IFsxLi4xMV0gbW9udGhzICAgICAgfFxuICogfCAxIC4uLiBOIHllYXJzICAgICAgICAgIHwgWzEuLk5dICB5ZWFycyAgICAgICB8XG4gKlxuICogIyMjIHYyLjAuMCBicmVha2luZyBjaGFuZ2VzOlxuICpcbiAqIC0gW0NoYW5nZXMgdGhhdCBhcmUgY29tbW9uIGZvciB0aGUgd2hvbGUgbGlicmFyeV0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdXBncmFkZUd1aWRlLm1kI0NvbW1vbi1DaGFuZ2VzKS5cbiAqXG4gKiAtIFRoZSBmdW5jdGlvbiB3YXMgcmVuYW1lZCBmcm9tIGBkaXN0YW5jZUluV29yZHNTdHJpY3RgIHRvIGBmb3JtYXREaXN0YW5jZVN0cmljdGBcbiAqICAgdG8gbWFrZSBpdHMgbmFtZSBjb25zaXN0ZW50IHdpdGggYGZvcm1hdGAgYW5kIGBmb3JtYXRSZWxhdGl2ZWAuXG4gKlxuICogLSBUaGUgb3JkZXIgb2YgYXJndW1lbnRzIGlzIHN3YXBwZWQgdG8gbWFrZSB0aGUgZnVuY3Rpb25cbiAqICAgY29uc2lzdGVudCB3aXRoIGBkaWZmZXJlbmNlSW4uLi5gIGZ1bmN0aW9ucy5cbiAqXG4gKiAgIGBgYGphdmFzY3JpcHRcbiAqICAgLy8gQmVmb3JlIHYyLjAuMFxuICpcbiAqICAgZGlzdGFuY2VJbldvcmRzU3RyaWN0KFxuICogICAgIG5ldyBEYXRlKDIwMTUsIDAsIDIpLFxuICogICAgIG5ldyBEYXRlKDIwMTQsIDYsIDIpXG4gKiAgICkgLy89PiAnNiBtb250aHMnXG4gKlxuICogICAvLyB2Mi4wLjAgb253YXJkXG4gKlxuICogICBmb3JtYXREaXN0YW5jZVN0cmljdChcbiAqICAgICBuZXcgRGF0ZSgyMDE0LCA2LCAyKSxcbiAqICAgICBuZXcgRGF0ZSgyMDE1LCAwLCAyKVxuICogICApIC8vPT4gJzYgbW9udGhzJ1xuICogICBgYGBcbiAqXG4gKiAtIGBwYXJ0aWFsTWV0aG9kYCBvcHRpb24gaXMgcmVuYW1lZCB0byBgcm91bmRpbmdNZXRob2RgLlxuICpcbiAqICAgYGBgamF2YXNjcmlwdFxuICogICAvLyBCZWZvcmUgdjIuMC4wXG4gKlxuICogICBkaXN0YW5jZUluV29yZHNTdHJpY3QoXG4gKiAgICAgbmV3IERhdGUoMTk4NiwgMywgNCwgMTAsIDMyLCAwKSxcbiAqICAgICBuZXcgRGF0ZSgxOTg2LCAzLCA0LCAxMCwgMzMsIDEpLFxuICogICAgIHsgcGFydGlhbE1ldGhvZDogJ2NlaWwnIH1cbiAqICAgKSAvLz0+ICcyIG1pbnV0ZXMnXG4gKlxuICogICAvLyB2Mi4wLjAgb253YXJkXG4gKlxuICogICBmb3JtYXREaXN0YW5jZVN0cmljdChcbiAqICAgICBuZXcgRGF0ZSgxOTg2LCAzLCA0LCAxMCwgMzMsIDEpLFxuICogICAgIG5ldyBEYXRlKDE5ODYsIDMsIDQsIDEwLCAzMiwgMCksXG4gKiAgICAgeyByb3VuZGluZ01ldGhvZDogJ2NlaWwnIH1cbiAqICAgKSAvLz0+ICcyIG1pbnV0ZXMnXG4gKiAgIGBgYFxuICpcbiAqIC0gSWYgYHJvdW5kaW5nTWV0aG9kYCBpcyBub3Qgc3BlY2lmaWVkLCBpdCBub3cgZGVmYXVsdHMgdG8gYHJvdW5kYCBpbnN0ZWFkIG9mIGBmbG9vcmAuXG4gKlxuICogLSBgdW5pdGAgb3B0aW9uIG5vdyBhY2NlcHRzIG9uZSBvZiB0aGUgc3RyaW5nczpcbiAqICAgJ3NlY29uZCcsICdtaW51dGUnLCAnaG91cicsICdkYXknLCAnbW9udGgnIG9yICd5ZWFyJyBpbnN0ZWFkIG9mICdzJywgJ20nLCAnaCcsICdkJywgJ00nIG9yICdZJ1xuICpcbiAqICAgYGBgamF2YXNjcmlwdFxuICogICAvLyBCZWZvcmUgdjIuMC4wXG4gKlxuICogICBkaXN0YW5jZUluV29yZHNTdHJpY3QoXG4gKiAgICAgbmV3IERhdGUoMTk4NiwgMywgNCwgMTAsIDMyLCAwKSxcbiAqICAgICBuZXcgRGF0ZSgxOTg2LCAzLCA0LCAxMCwgMzMsIDEpLFxuICogICAgIHsgdW5pdDogJ20nIH1cbiAqICAgKVxuICpcbiAqICAgLy8gdjIuMC4wIG9ud2FyZFxuICpcbiAqICAgZm9ybWF0RGlzdGFuY2VTdHJpY3QoXG4gKiAgICAgbmV3IERhdGUoMTk4NiwgMywgNCwgMTAsIDMzLCAxKSxcbiAqICAgICBuZXcgRGF0ZSgxOTg2LCAzLCA0LCAxMCwgMzIsIDApLFxuICogICAgIHsgdW5pdDogJ21pbnV0ZScgfVxuICogICApXG4gKiAgIGBgYFxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgZGF0ZVxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gYmFzZURhdGUgLSB0aGUgZGF0ZSB0byBjb21wYXJlIHdpdGhcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5hZGRTdWZmaXg9ZmFsc2VdIC0gcmVzdWx0IGluZGljYXRlcyBpZiB0aGUgc2Vjb25kIGRhdGUgaXMgZWFybGllciBvciBsYXRlciB0aGFuIHRoZSBmaXJzdFxuICogQHBhcmFtIHsnc2Vjb25kJ3wnbWludXRlJ3wnaG91cid8J2RheSd8J21vbnRoJ3wneWVhcid9IFtvcHRpb25zLnVuaXRdIC0gaWYgc3BlY2lmaWVkLCB3aWxsIGZvcmNlIGEgdW5pdFxuICogQHBhcmFtIHsnZmxvb3InfCdjZWlsJ3wncm91bmQnfSBbb3B0aW9ucy5yb3VuZGluZ01ldGhvZD0ncm91bmQnXSAtIHdoaWNoIHdheSB0byByb3VuZCBwYXJ0aWFsIHVuaXRzXG4gKiBAcGFyYW0ge0xvY2FsZX0gW29wdGlvbnMubG9jYWxlPWRlZmF1bHRMb2NhbGVdIC0gdGhlIGxvY2FsZSBvYmplY3QuIFNlZSBbTG9jYWxlXXtAbGluayBodHRwczovL2RhdGUtZm5zLm9yZy9kb2NzL0xvY2FsZX1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IHRoZSBkaXN0YW5jZSBpbiB3b3Jkc1xuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gYGRhdGVgIG11c3Qgbm90IGJlIEludmFsaWQgRGF0ZVxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gYGJhc2VEYXRlYCBtdXN0IG5vdCBiZSBJbnZhbGlkIERhdGVcbiAqIEB0aHJvd3Mge1JhbmdlRXJyb3J9IGBvcHRpb25zLnJvdW5kaW5nTWV0aG9kYCBtdXN0IGJlICdmbG9vcicsICdjZWlsJyBvciAncm91bmQnXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBgb3B0aW9ucy51bml0YCBtdXN0IGJlICdzZWNvbmQnLCAnbWludXRlJywgJ2hvdXInLCAnZGF5JywgJ21vbnRoJyBvciAneWVhcidcbiAqIEB0aHJvd3Mge1JhbmdlRXJyb3J9IGBvcHRpb25zLmxvY2FsZWAgbXVzdCBjb250YWluIGBmb3JtYXREaXN0YW5jZWAgcHJvcGVydHlcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gV2hhdCBpcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiAyIEp1bHkgMjAxNCBhbmQgMSBKYW51YXJ5IDIwMTU/XG4gKiB2YXIgcmVzdWx0ID0gZm9ybWF0RGlzdGFuY2VTdHJpY3QobmV3IERhdGUoMjAxNCwgNiwgMiksIG5ldyBEYXRlKDIwMTUsIDAsIDIpKVxuICogLy89PiAnNiBtb250aHMnXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoYXQgaXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gMSBKYW51YXJ5IDIwMTUgMDA6MDA6MTVcbiAqIC8vIGFuZCAxIEphbnVhcnkgMjAxNSAwMDowMDowMD9cbiAqIHZhciByZXN1bHQgPSBmb3JtYXREaXN0YW5jZVN0cmljdChcbiAqICAgbmV3IERhdGUoMjAxNSwgMCwgMSwgMCwgMCwgMTUpLFxuICogICBuZXcgRGF0ZSgyMDE1LCAwLCAxLCAwLCAwLCAwKVxuICogKVxuICogLy89PiAnMTUgc2Vjb25kcydcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gV2hhdCBpcyB0aGUgZGlzdGFuY2UgZnJvbSAxIEphbnVhcnkgMjAxNlxuICogLy8gdG8gMSBKYW51YXJ5IDIwMTUsIHdpdGggYSBzdWZmaXg/XG4gKiB2YXIgcmVzdWx0ID0gZm9ybWF0RGlzdGFuY2VTdHJpY3QobmV3IERhdGUoMjAxNSwgMCwgMSksIG5ldyBEYXRlKDIwMTYsIDAsIDEpLCB7XG4gKiAgIGFkZFN1ZmZpeDogdHJ1ZVxuICogfSlcbiAqIC8vPT4gJzEgeWVhciBhZ28nXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoYXQgaXMgdGhlIGRpc3RhbmNlIGZyb20gMSBKYW51YXJ5IDIwMTZcbiAqIC8vIHRvIDEgSmFudWFyeSAyMDE1LCBpbiBtaW51dGVzP1xuICogdmFyIHJlc3VsdCA9IGZvcm1hdERpc3RhbmNlU3RyaWN0KG5ldyBEYXRlKDIwMTYsIDAsIDEpLCBuZXcgRGF0ZSgyMDE1LCAwLCAxKSwge1xuICogICB1bml0OiAnbWludXRlJ1xuICogfSlcbiAqIC8vPT4gJzUyNTYwMCBtaW51dGVzJ1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBXaGF0IGlzIHRoZSBkaXN0YW5jZSBmcm9tIDEgSmFudWFyeSAyMDE1XG4gKiAvLyB0byAyOCBKYW51YXJ5IDIwMTUsIGluIG1vbnRocywgcm91bmRlZCB1cD9cbiAqIHZhciByZXN1bHQgPSBmb3JtYXREaXN0YW5jZVN0cmljdChuZXcgRGF0ZSgyMDE1LCAwLCAyOCksIG5ldyBEYXRlKDIwMTUsIDAsIDEpLCB7XG4gKiAgIHVuaXQ6ICdtb250aCcsXG4gKiAgIHJvdW5kaW5nTWV0aG9kOiAnY2VpbCdcbiAqIH0pXG4gKiAvLz0+ICcxIG1vbnRoJ1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBXaGF0IGlzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIDEgQXVndXN0IDIwMTYgYW5kIDEgSmFudWFyeSAyMDE1IGluIEVzcGVyYW50bz9cbiAqIGltcG9ydCB7IGVvTG9jYWxlIH0gZnJvbSAnZGF0ZS1mbnMvbG9jYWxlL2VvJ1xuICogdmFyIHJlc3VsdCA9IGZvcm1hdERpc3RhbmNlU3RyaWN0KG5ldyBEYXRlKDIwMTYsIDcsIDEpLCBuZXcgRGF0ZSgyMDE1LCAwLCAxKSwge1xuICogICBsb2NhbGU6IGVvTG9jYWxlXG4gKiB9KVxuICogLy89PiAnMSBqYXJvJ1xuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZvcm1hdERpc3RhbmNlU3RyaWN0KGRpcnR5RGF0ZSwgZGlydHlCYXNlRGF0ZSwgZGlydHlPcHRpb25zKSB7XG4gIHJlcXVpcmVkQXJncygyLCBhcmd1bWVudHMpO1xuICB2YXIgb3B0aW9ucyA9IGRpcnR5T3B0aW9ucyB8fCB7fTtcbiAgdmFyIGxvY2FsZSA9IG9wdGlvbnMubG9jYWxlIHx8IGRlZmF1bHRMb2NhbGU7XG5cbiAgaWYgKCFsb2NhbGUuZm9ybWF0RGlzdGFuY2UpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignbG9jYWxlIG11c3QgY29udGFpbiBsb2NhbGl6ZS5mb3JtYXREaXN0YW5jZSBwcm9wZXJ0eScpO1xuICB9XG5cbiAgdmFyIGNvbXBhcmlzb24gPSBjb21wYXJlQXNjKGRpcnR5RGF0ZSwgZGlydHlCYXNlRGF0ZSk7XG5cbiAgaWYgKGlzTmFOKGNvbXBhcmlzb24pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgdGltZSB2YWx1ZScpO1xuICB9XG5cbiAgdmFyIGxvY2FsaXplT3B0aW9ucyA9IGNsb25lT2JqZWN0KG9wdGlvbnMpO1xuICBsb2NhbGl6ZU9wdGlvbnMuYWRkU3VmZml4ID0gQm9vbGVhbihvcHRpb25zLmFkZFN1ZmZpeCk7XG4gIGxvY2FsaXplT3B0aW9ucy5jb21wYXJpc29uID0gY29tcGFyaXNvbjtcbiAgdmFyIGRhdGVMZWZ0O1xuICB2YXIgZGF0ZVJpZ2h0O1xuXG4gIGlmIChjb21wYXJpc29uID4gMCkge1xuICAgIGRhdGVMZWZ0ID0gdG9EYXRlKGRpcnR5QmFzZURhdGUpO1xuICAgIGRhdGVSaWdodCA9IHRvRGF0ZShkaXJ0eURhdGUpO1xuICB9IGVsc2Uge1xuICAgIGRhdGVMZWZ0ID0gdG9EYXRlKGRpcnR5RGF0ZSk7XG4gICAgZGF0ZVJpZ2h0ID0gdG9EYXRlKGRpcnR5QmFzZURhdGUpO1xuICB9XG5cbiAgdmFyIHJvdW5kaW5nTWV0aG9kID0gb3B0aW9ucy5yb3VuZGluZ01ldGhvZCA9PSBudWxsID8gJ3JvdW5kJyA6IFN0cmluZyhvcHRpb25zLnJvdW5kaW5nTWV0aG9kKTtcbiAgdmFyIHJvdW5kaW5nTWV0aG9kRm47XG5cbiAgaWYgKHJvdW5kaW5nTWV0aG9kID09PSAnZmxvb3InKSB7XG4gICAgcm91bmRpbmdNZXRob2RGbiA9IE1hdGguZmxvb3I7XG4gIH0gZWxzZSBpZiAocm91bmRpbmdNZXRob2QgPT09ICdjZWlsJykge1xuICAgIHJvdW5kaW5nTWV0aG9kRm4gPSBNYXRoLmNlaWw7XG4gIH0gZWxzZSBpZiAocm91bmRpbmdNZXRob2QgPT09ICdyb3VuZCcpIHtcbiAgICByb3VuZGluZ01ldGhvZEZuID0gTWF0aC5yb3VuZDtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInJvdW5kaW5nTWV0aG9kIG11c3QgYmUgJ2Zsb29yJywgJ2NlaWwnIG9yICdyb3VuZCdcIik7XG4gIH1cblxuICB2YXIgc2Vjb25kcyA9IGRpZmZlcmVuY2VJblNlY29uZHMoZGF0ZVJpZ2h0LCBkYXRlTGVmdCk7XG4gIHZhciBvZmZzZXRJblNlY29uZHMgPSAoZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcyhkYXRlUmlnaHQpIC0gZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcyhkYXRlTGVmdCkpIC8gMTAwMDtcbiAgdmFyIG1pbnV0ZXMgPSByb3VuZGluZ01ldGhvZEZuKChzZWNvbmRzIC0gb2Zmc2V0SW5TZWNvbmRzKSAvIDYwKTtcbiAgdmFyIHVuaXQ7XG5cbiAgaWYgKG9wdGlvbnMudW5pdCA9PSBudWxsKSB7XG4gICAgaWYgKG1pbnV0ZXMgPCAxKSB7XG4gICAgICB1bml0ID0gJ3NlY29uZCc7XG4gICAgfSBlbHNlIGlmIChtaW51dGVzIDwgNjApIHtcbiAgICAgIHVuaXQgPSAnbWludXRlJztcbiAgICB9IGVsc2UgaWYgKG1pbnV0ZXMgPCBNSU5VVEVTX0lOX0RBWSkge1xuICAgICAgdW5pdCA9ICdob3VyJztcbiAgICB9IGVsc2UgaWYgKG1pbnV0ZXMgPCBNSU5VVEVTX0lOX01PTlRIKSB7XG4gICAgICB1bml0ID0gJ2RheSc7XG4gICAgfSBlbHNlIGlmIChtaW51dGVzIDwgTUlOVVRFU19JTl9ZRUFSKSB7XG4gICAgICB1bml0ID0gJ21vbnRoJztcbiAgICB9IGVsc2Uge1xuICAgICAgdW5pdCA9ICd5ZWFyJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdW5pdCA9IFN0cmluZyhvcHRpb25zLnVuaXQpO1xuICB9IC8vIDAgdXAgdG8gNjAgc2Vjb25kc1xuXG5cbiAgaWYgKHVuaXQgPT09ICdzZWNvbmQnKSB7XG4gICAgcmV0dXJuIGxvY2FsZS5mb3JtYXREaXN0YW5jZSgneFNlY29uZHMnLCBzZWNvbmRzLCBsb2NhbGl6ZU9wdGlvbnMpOyAvLyAxIHVwIHRvIDYwIG1pbnNcbiAgfSBlbHNlIGlmICh1bml0ID09PSAnbWludXRlJykge1xuICAgIHJldHVybiBsb2NhbGUuZm9ybWF0RGlzdGFuY2UoJ3hNaW51dGVzJywgbWludXRlcywgbG9jYWxpemVPcHRpb25zKTsgLy8gMSB1cCB0byAyNCBob3Vyc1xuICB9IGVsc2UgaWYgKHVuaXQgPT09ICdob3VyJykge1xuICAgIHZhciBob3VycyA9IHJvdW5kaW5nTWV0aG9kRm4obWludXRlcyAvIDYwKTtcbiAgICByZXR1cm4gbG9jYWxlLmZvcm1hdERpc3RhbmNlKCd4SG91cnMnLCBob3VycywgbG9jYWxpemVPcHRpb25zKTsgLy8gMSB1cCB0byAzMCBkYXlzXG4gIH0gZWxzZSBpZiAodW5pdCA9PT0gJ2RheScpIHtcbiAgICB2YXIgZGF5cyA9IHJvdW5kaW5nTWV0aG9kRm4obWludXRlcyAvIE1JTlVURVNfSU5fREFZKTtcbiAgICByZXR1cm4gbG9jYWxlLmZvcm1hdERpc3RhbmNlKCd4RGF5cycsIGRheXMsIGxvY2FsaXplT3B0aW9ucyk7IC8vIDEgdXAgdG8gMTIgbW9udGhzXG4gIH0gZWxzZSBpZiAodW5pdCA9PT0gJ21vbnRoJykge1xuICAgIHZhciBtb250aHMgPSByb3VuZGluZ01ldGhvZEZuKG1pbnV0ZXMgLyBNSU5VVEVTX0lOX01PTlRIKTtcbiAgICByZXR1cm4gbG9jYWxlLmZvcm1hdERpc3RhbmNlKCd4TW9udGhzJywgbW9udGhzLCBsb2NhbGl6ZU9wdGlvbnMpOyAvLyAxIHllYXIgdXAgdG8gbWF4IERhdGVcbiAgfSBlbHNlIGlmICh1bml0ID09PSAneWVhcicpIHtcbiAgICB2YXIgeWVhcnMgPSByb3VuZGluZ01ldGhvZEZuKG1pbnV0ZXMgLyBNSU5VVEVTX0lOX1lFQVIpO1xuICAgIHJldHVybiBsb2NhbGUuZm9ybWF0RGlzdGFuY2UoJ3hZZWFycycsIHllYXJzLCBsb2NhbGl6ZU9wdGlvbnMpO1xuICB9XG5cbiAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJ1bml0IG11c3QgYmUgJ3NlY29uZCcsICdtaW51dGUnLCAnaG91cicsICdkYXknLCAnbW9udGgnIG9yICd5ZWFyJ1wiKTtcbn0iLCJpbXBvcnQgdG9EYXRlIGZyb20gJy4uL3RvRGF0ZS9pbmRleC5qcyc7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gJy4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzJztcbi8qKlxuICogQG5hbWUgc3RhcnRPZkRheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgZGF5IGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSBkYXkgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiAjIyMgdjIuMC4wIGJyZWFraW5nIGNoYW5nZXM6XG4gKlxuICogLSBbQ2hhbmdlcyB0aGF0IGFyZSBjb21tb24gZm9yIHRoZSB3aG9sZSBsaWJyYXJ5XShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91cGdyYWRlR3VpZGUubWQjQ29tbW9uLUNoYW5nZXMpLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgb3JpZ2luYWwgZGF0ZVxuICogQHJldHVybnMge0RhdGV9IHRoZSBzdGFydCBvZiBhIGRheVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhIGRheSBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIHZhciByZXN1bHQgPSBzdGFydE9mRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IFR1ZSBTZXAgMDIgMjAxNCAwMDowMDowMFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0YXJ0T2ZEYXkoZGlydHlEYXRlKSB7XG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICB2YXIgZGF0ZSA9IHRvRGF0ZShkaXJ0eURhdGUpO1xuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gZGF0ZTtcbn0iLCJpbXBvcnQgZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcyBmcm9tICcuLi9fbGliL2dldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMvaW5kZXguanMnO1xuaW1wb3J0IHN0YXJ0T2ZEYXkgZnJvbSAnLi4vc3RhcnRPZkRheS9pbmRleC5qcyc7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gJy4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzJztcbnZhciBNSUxMSVNFQ09ORFNfSU5fREFZID0gODY0MDAwMDA7XG4vKipcbiAqIEBuYW1lIGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5c1xuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBHZXQgdGhlIG51bWJlciBvZiBjYWxlbmRhciBkYXlzIGJldHdlZW4gdGhlIGdpdmVuIGRhdGVzLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogR2V0IHRoZSBudW1iZXIgb2YgY2FsZW5kYXIgZGF5cyBiZXR3ZWVuIHRoZSBnaXZlbiBkYXRlcy4gVGhpcyBtZWFucyB0aGF0IHRoZSB0aW1lcyBhcmUgcmVtb3ZlZFxuICogZnJvbSB0aGUgZGF0ZXMgYW5kIHRoZW4gdGhlIGRpZmZlcmVuY2UgaW4gZGF5cyBpcyBjYWxjdWxhdGVkLlxuICpcbiAqICMjIyB2Mi4wLjAgYnJlYWtpbmcgY2hhbmdlczpcbiAqXG4gKiAtIFtDaGFuZ2VzIHRoYXQgYXJlIGNvbW1vbiBmb3IgdGhlIHdob2xlIGxpYnJhcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNDb21tb24tQ2hhbmdlcykuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZUxlZnQgLSB0aGUgbGF0ZXIgZGF0ZVxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZVJpZ2h0IC0gdGhlIGVhcmxpZXIgZGF0ZVxuICogQHJldHVybnMge051bWJlcn0gdGhlIG51bWJlciBvZiBjYWxlbmRhciBkYXlzXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDIgYXJndW1lbnRzIHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEhvdyBtYW55IGNhbGVuZGFyIGRheXMgYXJlIGJldHdlZW5cbiAqIC8vIDIgSnVseSAyMDExIDIzOjAwOjAwIGFuZCAyIEp1bHkgMjAxMiAwMDowMDowMD9cbiAqIHZhciByZXN1bHQgPSBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMoXG4gKiAgIG5ldyBEYXRlKDIwMTIsIDYsIDIsIDAsIDApLFxuICogICBuZXcgRGF0ZSgyMDExLCA2LCAyLCAyMywgMClcbiAqIClcbiAqIC8vPT4gMzY2XG4gKiAvLyBIb3cgbWFueSBjYWxlbmRhciBkYXlzIGFyZSBiZXR3ZWVuXG4gKiAvLyAyIEp1bHkgMjAxMSAyMzo1OTowMCBhbmQgMyBKdWx5IDIwMTEgMDA6MDE6MDA/XG4gKiB2YXIgcmVzdWx0ID0gZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKFxuICogICBuZXcgRGF0ZSgyMDExLCA2LCAzLCAwLCAxKSxcbiAqICAgbmV3IERhdGUoMjAxMSwgNiwgMiwgMjMsIDU5KVxuICogKVxuICogLy89PiAxXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKGRpcnR5RGF0ZUxlZnQsIGRpcnR5RGF0ZVJpZ2h0KSB7XG4gIHJlcXVpcmVkQXJncygyLCBhcmd1bWVudHMpO1xuICB2YXIgc3RhcnRPZkRheUxlZnQgPSBzdGFydE9mRGF5KGRpcnR5RGF0ZUxlZnQpO1xuICB2YXIgc3RhcnRPZkRheVJpZ2h0ID0gc3RhcnRPZkRheShkaXJ0eURhdGVSaWdodCk7XG4gIHZhciB0aW1lc3RhbXBMZWZ0ID0gc3RhcnRPZkRheUxlZnQuZ2V0VGltZSgpIC0gZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcyhzdGFydE9mRGF5TGVmdCk7XG4gIHZhciB0aW1lc3RhbXBSaWdodCA9IHN0YXJ0T2ZEYXlSaWdodC5nZXRUaW1lKCkgLSBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzKHN0YXJ0T2ZEYXlSaWdodCk7IC8vIFJvdW5kIHRoZSBudW1iZXIgb2YgZGF5cyB0byB0aGUgbmVhcmVzdCBpbnRlZ2VyXG4gIC8vIGJlY2F1c2UgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaW4gYSBkYXkgaXMgbm90IGNvbnN0YW50XG4gIC8vIChlLmcuIGl0J3MgZGlmZmVyZW50IGluIHRoZSBkYXkgb2YgdGhlIGRheWxpZ2h0IHNhdmluZyB0aW1lIGNsb2NrIHNoaWZ0KVxuXG4gIHJldHVybiBNYXRoLnJvdW5kKCh0aW1lc3RhbXBMZWZ0IC0gdGltZXN0YW1wUmlnaHQpIC8gTUlMTElTRUNPTkRTX0lOX0RBWSk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCBmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0IGZyb20gXCJkYXRlLWZucy9mb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0XCI7XG5pbXBvcnQgZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzIGZyb20gJ2RhdGUtZm5zL2RpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyc7XG5cbmNvbnN0IGdyb3VwQ29udGFpbmVyID0gKCgpID0+IHtcbiAgY29uc3QgX2N1c3RvbUdyb3VwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY3VzdG9tLWdyb3Vwcy1jb250YWluZXJcIik7XG5cbiAgY29uc3QgX2NsZWFyID0gKCkgPT4ge1xuICAgIHdoaWxlIChfY3VzdG9tR3JvdXBzLmZpcnN0Q2hpbGQpIHtcbiAgICAgIF9jdXN0b21Hcm91cHMucmVtb3ZlQ2hpbGQoX2N1c3RvbUdyb3Vwcy5maXJzdENoaWxkKTtcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlciA9IChsaXN0KSA9PiB7XG4gICAgX2NsZWFyKCk7XG4gICAgT2JqZWN0LmtleXMobGlzdCkuZm9yRWFjaChncm91cCA9PiB7XG4gICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gICAgICBidXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBgR3JvdXAgbmFtZTogJHtncm91cH1gKTtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY3VzdG9tLWdyb3VwXCIsIFwiZm9jdXNhYmxlXCIsIFwiZ3JvdXAtYnRuXCIpO1xuICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gZ3JvdXA7XG4gICAgICBfY3VzdG9tR3JvdXBzLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHtyZW5kZXJ9XG59KSgpO1xuXG5jb25zdCB0YXNrQ29udGFpbmVyID0gKCgpID0+IHtcbiAgY29uc3QgX3Rhc2tIZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlbGVjdGVkLWdyb3VwXCIpO1xuICBjb25zdCBfdGFza0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2stY29udGFpbmVyXCIpO1xuXG4gIGNvbnN0IF9jbGVhciA9ICgpID0+IHtcbiAgICB3aGlsZSAoX3Rhc2tMaXN0LmZpcnN0Q2hpbGQpIHtcbiAgICAgIF90YXNrTGlzdC5yZW1vdmVDaGlsZChfdGFza0xpc3QuZmlyc3RDaGlsZCk7XG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBfY2hlY2tEYXRlID0gKGRhdGUpID0+IHtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZSgoZGF0ZSkuc3BsaXQoXCItXCIpLmpvaW4oXCIsIFwiKSk7XG4gICAgcmV0dXJuIGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyhuZXdEYXRlLCBub3cpO1xuICB9O1xuXG4gIGNvbnN0IF9mb3JtYXR0ZWREYXRlID0gKGRhdGUpID0+IHtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZSgoZGF0ZSkuc3BsaXQoXCItXCIpLmpvaW4oXCIsIFwiKSk7XG4gIFxuICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgY2FzZSBkYXRlID09PSBcIlwiOlxuICAgICAgICByZXR1cm4gXCJObyBkdWUgZGF0ZVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKG5ld0RhdGUsIG5vdykgPCAwOlxuICAgICAgICByZXR1cm4gXCJEdWUgZGF0ZSBwYXNzZWRcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyhuZXdEYXRlLCBub3cpID09PSAwOlxuICAgICAgICByZXR1cm4gXCJUb2RheVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKG5ld0RhdGUsIG5vdykgPT09IDE6XG4gICAgICAgIHJldHVybiBcIlRvbW9ycm93XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMobmV3RGF0ZSwgbm93KSA8PSAyOTpcbiAgICAgICAgcmV0dXJuIGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyhuZXdEYXRlLCBub3cpICsgXCIgZGF5c1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0KG5ld0RhdGUpO1xuICAgICAgICBicmVhaztcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IF9yZW5kZXIgPSAodGFzaywgZ3JvdXAsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgdGFza0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiKTtcbiAgICB0YXNrSXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWdyb3VwXCIsIGdyb3VwKTtcbiAgICB0YXNrSXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIsIGluZGV4KTtcbiAgICB0YXNrSXRlbS5jbGFzc05hbWUgPSBcInRhc2staXRlbVwiO1xuXG4gICAgY29uc3QgcHJpb3JpdHlCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBwcmlvcml0eUJveC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIGAke3Rhc2sucHJpb3JpdHl9IHRhc2tgKTtcbiAgICBwcmlvcml0eUJveC5jbGFzc05hbWUgPSBcInRhc2stcHJpb3JpdHlcIlxuICAgIGlmICh0YXNrLnByaW9yaXR5ID09PSBcIkltcG9ydGFudFwiKSB7XG4gICAgICBjb25zdCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICBpY29uLmNsYXNzTmFtZSA9IFwibWF0ZXJpYWwtaWNvbnNcIjtcbiAgICAgIGljb24udGV4dENvbnRlbnQgPSBcInByaW9yaXR5X2hpZ2hcIjtcbiAgICAgIHByaW9yaXR5Qm94LmFwcGVuZENoaWxkKGljb24pO1xuICAgIH07XG5cbiAgICBjb25zdCBzdGF0dXNCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBzdGF0dXNCb3guc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImNoZWNrYm94XCIpO1xuICAgIHN0YXR1c0JveC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICBzdGF0dXNCb3guc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwgXCIwXCIpO1xuICAgIHN0YXR1c0JveC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIHRhc2sudGFza05hbWUpO1xuICAgIHN0YXR1c0JveC5jbGFzc0xpc3QuYWRkKFwidGFzay1zdGF0dXNcIiwgXCJmb2N1c2FibGVcIik7XG4gICAgaWYgKHRhc2suY29tcGxldGVkKSB7XG4gICAgICBzdGF0dXNCb3guc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXG4gICAgICBcInVybChhc3NldHMvaW1hZ2VzL2ljb25zL2RvbmUtYmxhY2stMjRkcC5zdmcpXCI7XG4gICAgfTtcblxuICAgIGNvbnN0IG5hbWVGaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIG5hbWVGaWVsZC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwiYnV0dG9uXCIpO1xuICAgIG5hbWVGaWVsZC5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLCBcIjBcIik7XG4gICAgbmFtZUZpZWxkLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgYERldGFpbHMgZm9yICR7dGFzay50YXNrTmFtZX1gKTtcbiAgICBuYW1lRmllbGQuY2xhc3NMaXN0LmFkZChcInRhc2stbmFtZVwiLCBcImZvY3VzYWJsZVwiKTtcbiAgICBuYW1lRmllbGQudGV4dENvbnRlbnQgPSB0YXNrLnRhc2tOYW1lO1xuXG4gICAgY29uc3QgZGF0ZUZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgZGF0ZUZpZWxkLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXG4gICAgICAgIGBEdWUgZGF0ZSBmb3IgdGFzayAke3Rhc2sudGFza05hbWV9OiAke3Rhc2suZHVlRGF0ZX1gKTtcbiAgICBkYXRlRmllbGQuY2xhc3NOYW1lID0gXCJ0YXNrLWRhdGVcIjtcbiAgICBkYXRlRmllbGQudGV4dENvbnRlbnQgPSBfZm9ybWF0dGVkRGF0ZSh0YXNrLmR1ZURhdGUpO1xuXG4gICAgY29uc3QgZGV0YWlscyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGV0YWlscy5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRhc2tcIiwgdGFzay50YXNrTmFtZSk7XG4gICAgZGV0YWlscy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWdyb3VwXCIsIGdyb3VwKTtcbiAgICBkZXRhaWxzLnNldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIiwgaW5kZXgpO1xuICAgIGRldGFpbHMuY2xhc3NOYW1lID0gXCJ0YXNrLWRldGFpbHNcIjtcblxuICAgIGNvbnN0IG5vdGVzRmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBjb25zdCBub3Rlc0FycmF5ID0gdGFzay5ub3Rlcy5zcGxpdChcIlxcblwiKTtcbiAgICBub3Rlc0ZpZWxkLmNsYXNzTmFtZSA9IFwidGFzay1ub3Rlc1wiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm90ZXNBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5vdGVzQXJyYXlbaV0pXG4gICAgICBub3Rlc0ZpZWxkLmFwcGVuZENoaWxkKHRleHQpO1xuICAgICAgbm90ZXNGaWVsZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO1xuICAgIH07XG5cbiAgICBjb25zdCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBlZGl0QnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gICAgZWRpdEJ0bi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIGBFZGl0IHRhc2sgJHt0YXNrLnRhc2tOYW1lfWApO1xuICAgIGVkaXRCdG4uY2xhc3NMaXN0LmFkZChcImVkaXQtYnRuXCIsIFwiZm9jdXNhYmxlXCIpO1xuICAgIGVkaXRCdG4udGV4dENvbnRlbnQgPSBcIkVESVRcIjtcblxuICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgZGVsZXRlQnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gICAgZGVsZXRlQnRuLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgYERlbGV0ZSB0YXNrICR7dGFzay50YXNrTmFtZX1gKTtcbiAgICBkZWxldGVCdG4uY2xhc3NMaXN0LmFkZChcImRlbGV0ZS1idG5cIiwgXCJmb2N1c2FibGVcIik7XG4gICAgZGVsZXRlQnRuLnRleHRDb250ZW50ID0gXCJERUxFVEVcIjtcblxuICAgIGRldGFpbHMuYXBwZW5kQ2hpbGQobm90ZXNGaWVsZCk7XG4gICAgZGV0YWlscy5hcHBlbmRDaGlsZChlZGl0QnRuKTtcbiAgICBkZXRhaWxzLmFwcGVuZENoaWxkKGRlbGV0ZUJ0bik7XG4gICAgdGFza0l0ZW0uYXBwZW5kQ2hpbGQocHJpb3JpdHlCb3gpO1xuICAgIHRhc2tJdGVtLmFwcGVuZENoaWxkKHN0YXR1c0JveCk7XG4gICAgdGFza0l0ZW0uYXBwZW5kQ2hpbGQobmFtZUZpZWxkKTtcbiAgICB0YXNrSXRlbS5hcHBlbmRDaGlsZChkYXRlRmllbGQpO1xuICAgIHRhc2tJdGVtLmFwcGVuZENoaWxkKGRldGFpbHMpO1xuICAgIF90YXNrTGlzdC5hcHBlbmRDaGlsZCh0YXNrSXRlbSk7XG4gIH07XG5cbiAgY29uc3QgbG9hZEdyb3VwVGFza3MgPSAobGlzdCwgdGFyZ2V0KSA9PiB7XG4gICAgY29uc3Qga2V5QXJyYXkgPSBPYmplY3Qua2V5cyhsaXN0KTtcbiAgICBfY2xlYXIoKTtcbiAgICBzd2l0Y2ggKHRhcmdldCkge1xuICAgICAgY2FzZSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImltcG9ydGFudFwiKTpcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhsaXN0KS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGl0ZW1baV0ucHJpb3JpdHkgPT09IFwiSW1wb3J0YW50XCIpIHtcbiAgICAgICAgICAgICAgX3JlbmRlcihpdGVtW2ldLCBrZXlBcnJheVtpbmRleF0sIGkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmV4dC03LWRheXNcIik6XG4gICAgICAgIE9iamVjdC52YWx1ZXMobGlzdCkuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChfY2hlY2tEYXRlKGl0ZW1baV0uZHVlRGF0ZSkgPD0gNykge1xuICAgICAgICAgICAgICBfcmVuZGVyKGl0ZW1baV0sIGtleUFycmF5W2luZGV4XSwgaSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsYXRlclwiKTpcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhsaXN0KS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKF9jaGVja0RhdGUoaXRlbVtpXS5kdWVEYXRlKSA+IDcpIHtcbiAgICAgICAgICAgICAgX3JlbmRlcihpdGVtW2ldLCBrZXlBcnJheVtpbmRleF0sIGkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXZlbnR1YWxseVwiKTpcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhsaXN0KS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGl0ZW1baV0uZHVlRGF0ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICBfcmVuZGVyKGl0ZW1baV0sIGtleUFycmF5W2luZGV4XSwgaSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxpc3RbdGFyZ2V0LnRleHRDb250ZW50XS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgIF9yZW5kZXIoaXRlbSwgdGFyZ2V0LnRleHRDb250ZW50LCBpbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICB9O1xuICAgIGlmIChfdGFza0xpc3QuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBoMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcbiAgICAgIGgyLnRleHRDb250ZW50ID0gXCJObyB0YXNrcyBmb3IgdGhpcyBncm91cCFcIjtcbiAgICAgIF90YXNrTGlzdC5hcHBlbmRDaGlsZChoMik7XG4gICAgfTtcbiAgfTtcblxuICBjb25zdCB1cGRhdGVIZWFkZXIgPSAodGFyZ2V0KSA9PiB7XG4gICAgX3Rhc2tIZWFkZXIudGV4dENvbnRlbnQgPSB0YXJnZXQudGV4dENvbnRlbnQ7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBsb2FkR3JvdXBUYXNrcyxcbiAgICB1cGRhdGVIZWFkZXJcbiAgfVxufSkoKTtcblxuZXhwb3J0IHsgZ3JvdXBDb250YWluZXIsIHRhc2tDb250YWluZXIgfSIsImltcG9ydCBkaXN0YW5jZUluU3RyaWN0V29yZHMgZnJvbSAnLi4vZm9ybWF0RGlzdGFuY2VTdHJpY3QvaW5kZXguanMnO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tICcuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qcyc7XG4vKipcbiAqIEBuYW1lIGZvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3RcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBnaXZlbiBkYXRlIGFuZCBub3cgaW4gd29yZHMuXG4gKiBAcHVyZSBmYWxzZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBnaXZlbiBkYXRlcyBpbiB3b3JkcywgdXNpbmcgc3RyaWN0IHVuaXRzLlxuICogVGhpcyBpcyBsaWtlIGBmb3JtYXREaXN0YW5jZWAsIGJ1dCBkb2VzIG5vdCB1c2UgaGVscGVycyBsaWtlICdhbG1vc3QnLCAnb3ZlcicsXG4gKiAnbGVzcyB0aGFuJyBhbmQgdGhlIGxpa2UuXG4gKlxuICogfCBEaXN0YW5jZSBiZXR3ZWVuIGRhdGVzIHwgUmVzdWx0ICAgICAgICAgICAgICB8XG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwgMCAuLi4gNTkgc2VjcyAgICAgICAgICB8IFswLi41OV0gc2Vjb25kcyAgICAgfFxuICogfCAxIC4uLiA1OSBtaW5zICAgICAgICAgIHwgWzEuLjU5XSBtaW51dGVzICAgICB8XG4gKiB8IDEgLi4uIDIzIGhycyAgICAgICAgICAgfCBbMS4uMjNdIGhvdXJzICAgICAgIHxcbiAqIHwgMSAuLi4gMjkgZGF5cyAgICAgICAgICB8IFsxLi4yOV0gZGF5cyAgICAgICAgfFxuICogfCAxIC4uLiAxMSBtb250aHMgICAgICAgIHwgWzEuLjExXSBtb250aHMgICAgICB8XG4gKiB8IDEgLi4uIE4geWVhcnMgICAgICAgICAgfCBbMS4uTl0gIHllYXJzICAgICAgIHxcbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlIC0gdGhlIGdpdmVuIGRhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5hZGRTdWZmaXg9ZmFsc2VdIC0gcmVzdWx0IGluZGljYXRlcyBpZiB0aGUgc2Vjb25kIGRhdGUgaXMgZWFybGllciBvciBsYXRlciB0aGFuIHRoZSBmaXJzdFxuICogQHBhcmFtIHsnc2Vjb25kJ3wnbWludXRlJ3wnaG91cid8J2RheSd8J21vbnRoJ3wneWVhcid9IFtvcHRpb25zLnVuaXRdIC0gaWYgc3BlY2lmaWVkLCB3aWxsIGZvcmNlIGEgdW5pdFxuICogQHBhcmFtIHsnZmxvb3InfCdjZWlsJ3wncm91bmQnfSBbb3B0aW9ucy5yb3VuZGluZ01ldGhvZD0ncm91bmQnXSAtIHdoaWNoIHdheSB0byByb3VuZCBwYXJ0aWFsIHVuaXRzXG4gKiBAcGFyYW0ge0xvY2FsZX0gW29wdGlvbnMubG9jYWxlPWRlZmF1bHRMb2NhbGVdIC0gdGhlIGxvY2FsZSBvYmplY3QuIFNlZSBbTG9jYWxlXXtAbGluayBodHRwczovL2RhdGUtZm5zLm9yZy9kb2NzL0xvY2FsZX1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IHRoZSBkaXN0YW5jZSBpbiB3b3Jkc1xuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBgZGF0ZWAgbXVzdCBub3QgYmUgSW52YWxpZCBEYXRlXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBgb3B0aW9ucy5sb2NhbGVgIG11c3QgY29udGFpbiBgZm9ybWF0RGlzdGFuY2VgIHByb3BlcnR5XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRvZGF5IGlzIDEgSmFudWFyeSAyMDE1LCB3aGF0IGlzIHRoZSBkaXN0YW5jZSB0byAyIEp1bHkgMjAxND9cbiAqIHZhciByZXN1bHQgPSBmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0KFxuICogICBuZXcgRGF0ZSgyMDE0LCA2LCAyKVxuICogKVxuICogLy89PiAnNiBtb250aHMnXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIG5vdyBpcyAxIEphbnVhcnkgMjAxNSAwMDowMDowMCxcbiAqIC8vIHdoYXQgaXMgdGhlIGRpc3RhbmNlIHRvIDEgSmFudWFyeSAyMDE1IDAwOjAwOjE1LCBpbmNsdWRpbmcgc2Vjb25kcz9cbiAqIHZhciByZXN1bHQgPSBmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0KFxuICogICBuZXcgRGF0ZSgyMDE1LCAwLCAxLCAwLCAwLCAxNSlcbiAqIClcbiAqIC8vPT4gJzIwIHNlY29uZHMnXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRvZGF5IGlzIDEgSmFudWFyeSAyMDE1LFxuICogLy8gd2hhdCBpcyB0aGUgZGlzdGFuY2UgdG8gMSBKYW51YXJ5IDIwMTYsIHdpdGggYSBzdWZmaXg/XG4gKiB2YXIgcmVzdWx0ID0gZm9ybWF0RGlzdGFuY2VUb05vd1N0cmljdChcbiAqICAgbmV3IERhdGUoMjAxNiwgMCwgMSksXG4gKiAgIHthZGRTdWZmaXg6IHRydWV9XG4gKiApXG4gKiAvLz0+ICdpbiAxIHllYXInXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRvZGF5IGlzIDI4IEphbnVhcnkgMjAxNSxcbiAqIC8vIHdoYXQgaXMgdGhlIGRpc3RhbmNlIHRvIDEgSmFudWFyeSAyMDE1LCBpbiBtb250aHMsIHJvdW5kZWQgdXA/P1xuICogdmFyIHJlc3VsdCA9IGZvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3QobmV3IERhdGUoMjAxNSwgMCwgMSksIHtcbiAqICAgdW5pdDogJ21vbnRoJyxcbiAqICAgcm91bmRpbmdNZXRob2Q6ICdjZWlsJ1xuICogfSlcbiAqIC8vPT4gJzEgbW9udGgnXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRvZGF5IGlzIDEgSmFudWFyeSAyMDE1LFxuICogLy8gd2hhdCBpcyB0aGUgZGlzdGFuY2UgdG8gMSBBdWd1c3QgMjAxNiBpbiBFc3BlcmFudG8/XG4gKiB2YXIgZW9Mb2NhbGUgPSByZXF1aXJlKCdkYXRlLWZucy9sb2NhbGUvZW8nKVxuICogdmFyIHJlc3VsdCA9IGZvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3QoXG4gKiAgIG5ldyBEYXRlKDIwMTYsIDcsIDEpLFxuICogICB7bG9jYWxlOiBlb0xvY2FsZX1cbiAqIClcbiAqIC8vPT4gJzEgamFybydcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0KGRpcnR5RGF0ZSwgZGlydHlPcHRpb25zKSB7XG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICByZXR1cm4gZGlzdGFuY2VJblN0cmljdFdvcmRzKGRpcnR5RGF0ZSwgRGF0ZS5ub3coKSwgZGlydHlPcHRpb25zKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgZ2VuZXJhbE1vZGFsLCB0YXNrTW9kYWwgfSBmcm9tIFwiLi9tb2RhbHNcIjtcbmltcG9ydCB7IGdyb3VwQ29udGFpbmVyLCB0YXNrQ29udGFpbmVyIH0gZnJvbSBcIi4vcmVuZGVyLWNvbnRhaW5lcnNcIjtcblxuY29uc3QgRE9NID0gKCgpID0+IHtcbiAgY29uc3QgYWN0aXZlT25Mb2FkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbXBvcnRhbnRcIik7XG4gIGNvbnN0IGRlZmF1bHRHcm91cHMgPSBbXCJJbXBvcnRhbnRcIiwgXCJOZXh0IDcgRGF5c1wiLCBcIkxhdGVyXCIsIFwiRXZlbnR1YWxseVwiXTtcbiAgY29uc3QgbW9kYWxCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWJveFwiKTtcbiAgY29uc3QgdGFza0hlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VsZWN0ZWQtZ3JvdXBcIik7XG4gIFxuICByZXR1cm4ge1xuICAgIGFjdGl2ZU9uTG9hZCxcbiAgICBkZWZhdWx0R3JvdXBzLFxuICAgIG1vZGFsQm94LFxuICAgIHRhc2tIZWFkZXJcbiAgfVxufSkoKTtcblxuY29uc3QgdG9EbyA9ICgoKSA9PiB7XG4gIGNvbnN0IG1hc3Rlckxpc3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9Eby1saXN0XCIpKSB8fCBcbiAgICB7XG4gICAgICBFeGFtcGxlOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0YXNrTmFtZTogXCJEbyB0aGUgZGlzaGVzXCIsXG4gICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICBwcmlvcml0eTogXCJOb3JtYWxcIixcbiAgICAgICAgICBkdWVEYXRlOiBcIlwiLFxuICAgICAgICAgIG5vdGVzOlxuICAgICAgICAgICAgXCJMZXQgdGhlIHBhbnMgc29haywgcHV0IHRoZSBwbGF0ZXMgaW4gdGhlIGRpc2h3YXNoZXIsIHdhc2ggdGhlIG11Z3MgYnkgaGFuZC5cXG5cXG5XYXNoIHBhbnMgYWZ0ZXIgMzAgbWludXRlcyBzb2FraW5nLlwiLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGFza05hbWU6IFwiQnJpbmcgTXVmZmluIHRvIHZldFwiLFxuICAgICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgcHJpb3JpdHk6IFwiSW1wb3J0YW50XCIsXG4gICAgICAgICAgZHVlRGF0ZTogXCIyMDIxLTEyLTMxXCIsXG4gICAgICAgICAgbm90ZXM6IFwiUGFjayBoZXIgZmF2b3JpdGUgdG95IHNvIHNoZSBzdGF5cyBjYWxtLlwiLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9O1xuXG4gIGNvbnN0IHNhdmVUb0xvY2FsID0gKCkgPT4ge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidG9Eby1saXN0XCIsIEpTT04uc3RyaW5naWZ5KGxpc3QpKTtcbiAgfTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKGUpID0+IHtcbiAgICBncm91cENvbnRhaW5lci5yZW5kZXIobWFzdGVyTGlzdCk7XG4gICAgdGFza0NvbnRhaW5lci5sb2FkR3JvdXBUYXNrcyhtYXN0ZXJMaXN0LCBET00uYWN0aXZlT25Mb2FkKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHsgXG4gICAgbWFzdGVyTGlzdCxcbiAgICBzYXZlVG9Mb2NhbFxuICB9XG59KSgpO1xuXG5jb25zdCBncm91cHMgPSAoKCkgPT4ge1xuICBjb25zdCBfc2V0SW5hY3RpdmUgPSAoKSA9PiB7XG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZ3JvdXAtYnRuXCIpKS5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGUgPSAobmFtZSkgPT4ge1xuICAgIHRvRG8ubWFzdGVyTGlzdFtuYW1lXSA9IFtdO1xuICAgIGNvbnNvbGUubG9nKHRvRG8ubWFzdGVyTGlzdCk7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlID0gKG9sZE5hbWUsIG5ld05hbWUpID0+IHtcbiAgICBkZWxldGUgT2JqZWN0LmFzc2lnbih0b0RvLm1hc3Rlckxpc3QsIHtbbmV3TmFtZV06IHRvRG8ubWFzdGVyTGlzdFtvbGROYW1lXX0pW29sZE5hbWVdO1xuICAgIGNvbnNvbGUubG9nKHRvRG8ubWFzdGVyTGlzdCk7XG4gIH07XG5cbiAgY29uc3QgY2hlY2tOYW1lID0gKG5hbWUpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgRE9NLmRlZmF1bHRHcm91cHMuaW5kZXhPZihuYW1lKSA+PSAwIHx8XG4gICAgICBPYmplY3Qua2V5cyh0b0RvLm1hc3Rlckxpc3QpLmluZGV4T2YobmFtZSkgPj0gMCB8fFxuICAgICAgbmFtZS5tYXRjaCgvXlxcc3sxLH0kLykgfHxcbiAgICAgIG5hbWUgPT09IFwiXCJcbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IHJlbW92ZSA9IChuYW1lKSA9PiB7XG4gICAgZGVsZXRlIHRvRG8ubWFzdGVyTGlzdFtuYW1lXTtcbiAgICBjb25zb2xlLmxvZyh0b0RvLm1hc3Rlckxpc3QpO1xuICB9O1xuXG4gIGNvbnN0IHNldEFjdGl2ZSA9ICh0YXJnZXQpID0+IHtcbiAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgfTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW4tbmF2XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJncm91cC1idG5cIikpIHtcbiAgICAgIF9zZXRJbmFjdGl2ZSgpO1xuICAgICAgc2V0QWN0aXZlKGUudGFyZ2V0KTtcbiAgICAgIHRhc2tDb250YWluZXIudXBkYXRlSGVhZGVyKGUudGFyZ2V0KTtcbiAgICAgIHRhc2tDb250YWluZXIubG9hZEdyb3VwVGFza3ModG9Eby5tYXN0ZXJMaXN0LCBlLnRhcmdldCk7XG4gICAgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBjcmVhdGUsXG4gICAgdXBkYXRlLFxuICAgIGNoZWNrTmFtZSxcbiAgICByZW1vdmUsXG4gICAgc2V0QWN0aXZlXG4gIH1cbn0pKCk7XG5cbmNvbnN0IHRhc2tzID0gKCgpID0+IHtcbiAgY29uc3QgX3Rhc2tMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWNvbnRhaW5lclwiKTtcbiAgXG4gIGNvbnN0IF9jaGFuZ2VTdGF0dXMgPSAobm9kZSkgPT4ge1xuICAgIGNvbnN0IGdyb3VwRGF0YSA9IG5vZGUuZGF0YXNldC5ncm91cDtcbiAgICBjb25zdCB0YXNrSW5kZXggPSBub2RlLmRhdGFzZXQuaW5kZXg7XG5cbiAgICBpZiAobm9kZS5jaGlsZHJlblsxXS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSA9PT0gbnVsbCkge1xuICAgICAgdG9Eby5tYXN0ZXJMaXN0W2dyb3VwRGF0YV1bdGFza0luZGV4XS5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgbm9kZS5jaGlsZHJlblsxXS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcbiAgICAgICAgICBcInVybChhc3NldHMvaW1hZ2VzL2ljb25zL2RvbmUtYmxhY2stMjRkcC5zdmcpXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvRG8ubWFzdGVyTGlzdFtncm91cERhdGFdW3Rhc2tJbmRleF0uY29tcGxldGVkID0gZmFsc2U7XG4gICAgICBub2RlLmNoaWxkcmVuWzFdLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgIH07XG4gICAgY29uc29sZS5sb2codG9Eby5tYXN0ZXJMaXN0KTtcbiAgfTtcblxuICBjb25zdCBfZ2V0VGFza0RhdGEgPSAobm9kZSkgPT4ge1xuICAgIGNvbnN0IGdyb3VwRGF0YSA9IG5vZGUuZGF0YXNldC5ncm91cDtcbiAgICBjb25zdCB0YXNrSW5kZXggPSBub2RlLmRhdGFzZXQuaW5kZXg7XG4gICAgLy8gc3RvcmUgcmVmZXJlbmNlIHRvIGdyb3VwIGFuZCBpbmRleCBvZiB0YXNrIGJlaW5nIHVwZGF0ZWRcbiAgICBET00ubW9kYWxCb3guZGF0YXNldC5pbmRleFJlZiA9IHRhc2tJbmRleDtcbiAgICBET00ubW9kYWxCb3guZGF0YXNldC5ncm91cFJlZiA9IGdyb3VwRGF0YTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZS1pbnB1dFwiKS52YWx1ZSA9IFxuICAgICAgICB0b0RvLm1hc3Rlckxpc3RbZ3JvdXBEYXRhXVt0YXNrSW5kZXhdLnRhc2tOYW1lO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ3JvdXAtc2VsZWN0XCIpLnZhbHVlID0gZ3JvdXBEYXRhO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJpb3JpdHktc2VsZWN0XCIpLnZhbHVlID0gXG4gICAgICAgIHRvRG8ubWFzdGVyTGlzdFtncm91cERhdGFdW3Rhc2tJbmRleF0ucHJpb3JpdHk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkYXRlLXNlbGVjdFwiKS52YWx1ZSA9IFxuICAgICAgICB0b0RvLm1hc3Rlckxpc3RbZ3JvdXBEYXRhXVt0YXNrSW5kZXhdLmR1ZURhdGU7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNub3Rlcy1pbnB1dFwiKS52YWx1ZSA9IFxuICAgICAgICB0b0RvLm1hc3Rlckxpc3RbZ3JvdXBEYXRhXVt0YXNrSW5kZXhdLm5vdGVzO1xuICB9O1xuXG4gIGNvbnN0IF9yZXNvbHZlVGFza0V2ZW50ID0gKGUpID0+IHtcbiAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgIGNhc2UgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwidGFzay1zdGF0dXNcIik6XG4gICAgICAgIF9jaGFuZ2VTdGF0dXMoZS50YXJnZXQucGFyZW50RWxlbWVudCk7XG4gICAgICAgIC8vIHRvRG8uc2F2ZVRvTG9jYWwoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInRhc2stbmFtZVwiKTpcbiAgICAgICAgLy8gdG9nZ2xlJ3MgdGFzayBpdGVtJ3MgZGV0YWlscyBzZWN0aW9uXG4gICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2hpbGRyZW5bNF0uY2xhc3NMaXN0LnRvZ2dsZShcImV4cGFuZGVkXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZWRpdC1idG5cIik6XG4gICAgICAgIHRhc2tNb2RhbC5yZW5kZXIoZSwgT2JqZWN0LmtleXModG9Eby5tYXN0ZXJMaXN0KSk7XG4gICAgICAgIF9nZXRUYXNrRGF0YShlLnRhcmdldC5wYXJlbnRFbGVtZW50KTtcbiAgICAgICAgZ2VuZXJhbE1vZGFsLm9uT3BlbigpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGVsZXRlLWJ0blwiKTpcbiAgICAgICAgaWYgKGNvbmZpcm0oYFBsZWFzZSBjbGljayBcIk9LXCIgdG8gY29uZmlybSBkZWxldGlvbiBvZiB0YXNrIFxuICAgICAgICAgICAgXCIke2UudGFyZ2V0LnBhcmVudEVsZW1lbnQuZGF0YXNldC50YXNrfVwiLmApKSB7XG4gICAgICAgICAgcmVtb3ZlU2luZ2xlKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQpO1xuICAgICAgICAgIHRhc2tDb250YWluZXIubG9hZEdyb3VwVGFza3ModG9Eby5tYXN0ZXJMaXN0LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hY3RpdmVcIikpO1xuICAgICAgICAgIC8vIHRvRG8uc2F2ZVRvTG9jYWwoKTtcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGUgPSAodGFza05hbWUsIHByaW9yaXR5LCBkdWVEYXRlLCBub3RlcywgY29tcGxldGVkKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRhc2tOYW1lLFxuICAgICAgcHJpb3JpdHksXG4gICAgICBkdWVEYXRlLFxuICAgICAgbm90ZXMsXG4gICAgICBjb21wbGV0ZWRcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGdyb3VwUmVmID0gRE9NLm1vZGFsQm94LmdldEF0dHJpYnV0ZShcImRhdGEtZ3JvdXAtcmVmXCIpO1xuICAgIGNvbnN0IHRhc2tSZWYgPSBET00ubW9kYWxCb3guZ2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleC1yZWZcIik7XG5cbiAgICB0b0RvLm1hc3Rlckxpc3RbZ3JvdXBSZWZdW3Rhc2tSZWZdLnRhc2tOYW1lID0gXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZS1pbnB1dFwiKS52YWx1ZTtcbiAgICB0b0RvLm1hc3Rlckxpc3RbZ3JvdXBSZWZdW3Rhc2tSZWZdLnByaW9yaXR5ID0gXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJpb3JpdHktc2VsZWN0XCIpLnZhbHVlO1xuICAgIHRvRG8ubWFzdGVyTGlzdFtncm91cFJlZl1bdGFza1JlZl0uZHVlRGF0ZSA9IFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RhdGUtc2VsZWN0XCIpLnZhbHVlO1xuICAgIHRvRG8ubWFzdGVyTGlzdFtncm91cFJlZl1bdGFza1JlZl0ubm90ZXMgPSBcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNub3Rlcy1pbnB1dFwiKS52YWx1ZTtcbiAgfTtcblxuICBjb25zdCBjaGVja05hbWUgPSAobmFtZSkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICBuYW1lLm1hdGNoKC9eXFxzezEsfSQvKSB8fFxuICAgICAgbmFtZSA9PT0gXCJcIlxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlU2luZ2xlID0gKG5vZGUpID0+IHtcbiAgICB0b0RvLm1hc3Rlckxpc3Rbbm9kZS5kYXRhc2V0Lmdyb3VwXS5zcGxpY2Uobm9kZS5kYXRhc2V0LmluZGV4LCAxKTtcbiAgICBub2RlLnJlbW92ZSgpO1xuICAgIGNvbnNvbGUubG9nKHRvRG8ubWFzdGVyTGlzdCk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlQ29tcGxldGVkID0gKGdyb3VwKSA9PiB7XG4gICAgaWYgKERPTS5kZWZhdWx0R3JvdXBzLmluZGV4T2YoZ3JvdXApID49IDApIHtcbiAgICAgIGNvbnN0IGtleUFycmF5ID0gT2JqZWN0LmtleXModG9Eby5tYXN0ZXJMaXN0KTtcbiAgICAgIE9iamVjdC52YWx1ZXModG9Eby5tYXN0ZXJMaXN0KS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gKGl0ZW0ubGVuZ3RoIC0gMSk7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGl0ZW1baV0uY29tcGxldGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0b0RvLm1hc3Rlckxpc3Rba2V5QXJyYXlbaW5kZXhdXS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b0RvLm1hc3Rlckxpc3RbZ3JvdXBdLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9ICh0b0RvLm1hc3Rlckxpc3RbZ3JvdXBdLmxlbmd0aCAtIDEpOyBpID49IDAgOyBpLS0pIHtcbiAgICAgICAgICBpZiAoaXRlbS5jb21wbGV0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRvRG8ubWFzdGVyTGlzdFtncm91cF0uc3BsaWNlKGksIDEpXG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgY29uc3QgY29uZmlybU1hc3NSZW1vdmUgPSAoKSA9PiB7XG4gICAgaWYgKERPTS5kZWZhdWx0R3JvdXBzLmluZGV4T2YoRE9NLnRhc2tIZWFkZXIudGV4dENvbnRlbnQpID49IDApIHtcbiAgICAgIHJldHVybiBjb25maXJtKGBUaGlzIHdpbGwgZGVsZXRlIGFsbCBjb21wbGV0ZWQgdGFza3MgaW4gZXZlcnkgZ3JvdXAuIGAgKyBcbiAgICAgICAgICAgICAgICAgICAgYFxcblxcblBsZWFzZSBjbGljayBcIk9LXCIgdG8gY29uZmlybSBkZWxldGlvbi5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNvbmZpcm0oYFRoaXMgd2lsbCBkZWxldGUgYWxsIGNvbXBsZXRlZCB0YXNrcyBpbiB0aGUgYCArIFxuICAgICAgICAgICAgICAgICAgICBgJHtET00udGFza0hlYWRlci50ZXh0Q29udGVudH0gZ3JvdXAuXFxuXFxuUGxlYXNlIGNsaWNrIGAgKyBcbiAgICAgICAgICAgICAgICAgICAgYFwiT0tcIiB0byBjb25maXJtIGRlbGV0aW9uLmApO1xuICAgIH07XG4gIH07XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFzay1idG5cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgaWYgKE9iamVjdC5rZXlzKHRvRG8ubWFzdGVyTGlzdCkubGVuZ3RoID09PSAwKSB7XG4gICAgICBhbGVydChcIk5vIGdyb3VwcyBleGlzdC4gUGxlYXNlIGNyZWF0ZSBhIGdyb3VwIGJlZm9yZSBhZGRpbmcgYSB0YXNrLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFza01vZGFsLnJlbmRlcihlLCBPYmplY3Qua2V5cyh0b0RvLm1hc3Rlckxpc3QpKTtcbiAgICAgIGdlbmVyYWxNb2RhbC5vbk9wZW4oKTtcbiAgICB9O1xuICB9KTtcblxuICBfdGFza0xpc3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF9yZXNvbHZlVGFza0V2ZW50KTtcbiAgX3Rhc2tMaXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIiBcIiAmJiBcbiAgICAgICAgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInRhc2stc3RhdHVzXCIpIHx8IFxuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJ0YXNrLW5hbWVcIikpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBfcmVzb2x2ZVRhc2tFdmVudChlKTtcbiAgICB9O1xuICB9KTtcblxuICByZXR1cm4ge1xuICAgIGNyZWF0ZSxcbiAgICB1cGRhdGUsXG4gICAgY2hlY2tOYW1lLFxuICAgIHJlbW92ZVNpbmdsZSxcbiAgICByZW1vdmVDb21wbGV0ZWQsXG4gICAgY29uZmlybU1hc3NSZW1vdmUsXG4gIH1cbn0pKCk7XG5cbmNvbnN0IG1vZGFsRXZlbnRzID0gKCgpID0+IHtcbiAgRE9NLm1vZGFsQm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGNvbnN0IF9hY3RpdmVHcm91cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWN0aXZlXCIpO1xuICAgIGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZS1pbnB1dFwiKTtcbiAgICBjb25zdCBncm91cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ3JvdXAtc2VsZWN0XCIpO1xuXG4gICAgc3dpdGNoIChlLnRhcmdldCkge1xuICAgICAgY2FzZSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdC1ncm91cC1idG5cIik6XG4gICAgICBjYXNlIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXBkYXRlLWdyb3VwLWJ0blwiKTpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoZ3JvdXBzLmNoZWNrTmFtZShuYW1lSW5wdXQudmFsdWUpKSB7XG4gICAgICAgICAgYWxlcnQoXCJHcm91cCBuYW1lIGNhbm5vdCBiZSBibGFuayBhbmQgY2Fubm90IGFscmVhZHkgYmUgdGFrZW4uXCIgKyBcbiAgICAgICAgICAgICAgICBcIlxcblxcblBsZWFzZSBlbnRlciBhIG5ldyBuYW1lLlwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInN1Ym1pdC1ncm91cC1idG5cIikpIHtcbiAgICAgICAgICAgIGdyb3Vwcy5jcmVhdGUobmFtZUlucHV0LnZhbHVlKTtcbiAgICAgICAgICAgIGdyb3VwQ29udGFpbmVyLnJlbmRlcih0b0RvLm1hc3Rlckxpc3QpO1xuICAgICAgICAgICAgZ3JvdXBzLnNldEFjdGl2ZShET00uYWN0aXZlT25Mb2FkKTtcbiAgICAgICAgICAgIHRhc2tDb250YWluZXIubG9hZEdyb3VwVGFza3ModG9Eby5tYXN0ZXJMaXN0LCBET00uYWN0aXZlT25Mb2FkKTtcbiAgICAgICAgICAgIHRhc2tDb250YWluZXIudXBkYXRlSGVhZGVyKERPTS5hY3RpdmVPbkxvYWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBncm91cHMudXBkYXRlKERPTS50YXNrSGVhZGVyLnRleHRDb250ZW50LCBuYW1lSW5wdXQudmFsdWUpO1xuICAgICAgICAgICAgX2FjdGl2ZUdyb3VwLnRleHRDb250ZW50ID0gbmFtZUlucHV0LnZhbHVlO1xuICAgICAgICAgICAgdGFza0NvbnRhaW5lci51cGRhdGVIZWFkZXIoX2FjdGl2ZUdyb3VwKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICAgIC8vIHRvRG8uc2F2ZVRvTG9jYWwoKTtcbiAgICAgICAgICBnZW5lcmFsTW9kYWwub25DbG9zZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kZWxldGUtZ3JvdXAtYnRuXCIpOlxuICAgICAgICBpZiAoY29uZmlybShgVGhpcyB3aWxsIGRlbGV0ZSB0aGUgJHtET00udGFza0hlYWRlci50ZXh0Q29udGVudH0gYCArIFxuICAgICAgICAgICAgYGdyb3VwLCBhbG9uZyB3aXRoIGFueSB0YXNrcyB3aXRoaW4gaXQuXFxuXFxuUGxlYXNlIGNsaWNrIFwiT0tcIiBgICsgXG4gICAgICAgICAgICBgdG8gY29uZmlybSBkZWxldGlvbi5gKSkge1xuICAgICAgICAgIGdyb3Vwcy5yZW1vdmUoRE9NLnRhc2tIZWFkZXIudGV4dENvbnRlbnQpO1xuICAgICAgICAgIC8vIHRvRG8uc2F2ZVRvTG9jYWwoKTsgXG4gICAgICAgICAgZ2VuZXJhbE1vZGFsLm9uQ2xvc2UoKTtcbiAgICAgICAgICBncm91cENvbnRhaW5lci5yZW5kZXIodG9Eby5tYXN0ZXJMaXN0KTtcbiAgICAgICAgICBncm91cHMuc2V0QWN0aXZlKERPTS5hY3RpdmVPbkxvYWQpO1xuICAgICAgICAgIHRhc2tDb250YWluZXIubG9hZEdyb3VwVGFza3ModG9Eby5tYXN0ZXJMaXN0LCBET00uYWN0aXZlT25Mb2FkKTtcbiAgICAgICAgICB0YXNrQ29udGFpbmVyLnVwZGF0ZUhlYWRlcihET00uYWN0aXZlT25Mb2FkKTtcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGVsZXRlLWNvbXBsZXRlZC1idG5cIik6XG4gICAgICAgIGlmICh0YXNrcy5jb25maXJtTWFzc1JlbW92ZSgpKSB7XG4gICAgICAgICAgdGFza3MucmVtb3ZlQ29tcGxldGVkKERPTS50YXNrSGVhZGVyLnRleHRDb250ZW50KTtcbiAgICAgICAgICAvLyB0b0RvLnNhdmVUb0xvY2FsKCk7XG4gICAgICAgICAgZ2VuZXJhbE1vZGFsLm9uQ2xvc2UoKTtcbiAgICAgICAgICB0YXNrQ29udGFpbmVyLmxvYWRHcm91cFRhc2tzKHRvRG8ubWFzdGVyTGlzdCwgX2FjdGl2ZUdyb3VwKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyh0b0RvLm1hc3Rlckxpc3QpO1xuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtc2luZ2xlLWJ0blwiKTpcbiAgICAgIGNhc2UgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtbWFueS1idG5cIik6XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHRhc2tzLmNoZWNrTmFtZShuYW1lSW5wdXQudmFsdWUpKSB7XG4gICAgICAgICAgYWxlcnQoXCJUYXNrIG5hbWUgY2Fubm90IGJlIGJsYW5rLlxcblxcblBsZWFzZSBlbnRlciBhIG5ldyBuYW1lLlwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbmV3VGFzayA9IHRhc2tzLmNyZWF0ZShcbiAgICAgICAgICAgIG5hbWVJbnB1dC52YWx1ZSxcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJpb3JpdHktc2VsZWN0XCIpLnZhbHVlLFxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkYXRlLXNlbGVjdFwiKS52YWx1ZSxcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbm90ZXMtaW5wdXRcIikudmFsdWUsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICk7XG4gICAgICAgICAgdG9Eby5tYXN0ZXJMaXN0W2dyb3VwLnZhbHVlXS5wdXNoKG5ld1Rhc2spO1xuICAgICAgICAgIC8vIHRvRG8uc2F2ZVRvTG9jYWwoKTtcbiAgICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWRkLW1hbnktYnRuXCIpKSB7XG4gICAgICAgICAgICBuYW1lSW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICAgIG5hbWVJbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICBncm91cC5zZWxlY3RlZEluZGV4ID0gMDtcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJpb3JpdHktc2VsZWN0XCIpLnNlbGVjdGVkSW5kZXggPSAwO1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkYXRlLXNlbGVjdFwiKS52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25vdGVzLWlucHV0XCIpLnZhbHVlID0gXCJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2VuZXJhbE1vZGFsLm9uQ2xvc2UoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRhc2tDb250YWluZXIubG9hZEdyb3VwVGFza3ModG9Eby5tYXN0ZXJMaXN0LCBfYWN0aXZlR3JvdXApO1xuICAgICAgICAgIGNvbnNvbGUubG9nKHRvRG8ubWFzdGVyTGlzdCk7XG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVwZGF0ZS10YXNrLWJ0blwiKTpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAodGFza3MuY2hlY2tOYW1lKG5hbWVJbnB1dC52YWx1ZSkpIHtcbiAgICAgICAgICBhbGVydChcIlRhc2sgbmFtZSBjYW5ub3QgYmUgYmxhbmsuXFxuXFxuUGxlYXNlIGVudGVyIGEgbmV3IG5hbWUuXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YXNrcy51cGRhdGUoKTtcbiAgICAgICAgICAvLyB0b0RvLnNhdmVUb0xvY2FsKCk7XG4gICAgICAgICAgZ2VuZXJhbE1vZGFsLm9uQ2xvc2UoKTtcbiAgICAgICAgICB0YXNrQ29udGFpbmVyLmxvYWRHcm91cFRhc2tzKHRvRG8ubWFzdGVyTGlzdCwgRE9NLnRhc2tIZWFkZXIpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKHRvRG8ubWFzdGVyTGlzdCk7XG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gIH0pO1xufSkoKTtcblxuZXhwb3J0IHsgdG9EbywgZ3JvdXBzLCB0YXNrcywgbW9kYWxFdmVudHMgfTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCB7IGFjY2Vzc2liaWxpdHlPcHRpb25zLCBkaXNwbGF5T3B0aW9ucyB9IGZyb20gXCIuL3NpdGUtc2V0dGluZ3NcIjtcbmltcG9ydCB7IGdyb3VwTW9kYWwsIHdhcm5pbmdNb2RhbCB9IGZyb20gXCIuL21vZGFsc1wiO1xuaW1wb3J0IHsgZ3JvdXBzLCBtb2RhbEV2ZW50cywgdGFza3MsIHRvRG8gfSBmcm9tIFwiLi9sb2dpY1wiO1xuaW1wb3J0IGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyBmcm9tICdkYXRlLWZucy9kaWZmZXJlbmNlSW5DYWxlbmRhckRheXMnXG5pbXBvcnQgZm9ybWF0RGlzdGFuY2VUb05vd1N0cmljdCBmcm9tIFwiZGF0ZS1mbnMvZm9ybWF0RGlzdGFuY2VUb05vd1N0cmljdFwiO1xuXG5jb25zb2xlLmxvZyh0b0RvLm1hc3Rlckxpc3QpO1xuXG5jb25zdCBtZW51VmlzaWJpbGl0eSA9ICgoKSA9PiB7XG4gIGNvbnN0IG1lbnVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haW4tbmF2XCIpO1xuICBjb25zdCBtZW51T3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS1idXR0b25cIik7XG4gIGNvbnN0IG1lbnVDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS1jbG9zZS1idXR0b25cIik7XG5cbiAgY29uc3QgX29uU2NyZWVuU2l6ZSA9ICgpID0+IHtcbiAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoID4gNzYzKSB7XG4gICAgICBtZW51Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgIG1lbnVDb250YWluZXIuc3R5bGUubGVmdCA9IFwiMFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZW51Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgbWVudUNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gXCItODAwcHhcIjtcbiAgICB9O1xuICB9O1xuICBcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgX29uU2NyZWVuU2l6ZSk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBfb25TY3JlZW5TaXplKTtcblxuICBjb25zdCBfdG9nZ2xlTWVudSA9ICgpID0+IHtcbiAgICBpZiAobWVudUNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID09PSBcImhpZGRlblwiKSB7XG4gICAgICBtZW51Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgIG1lbnVDb250YWluZXIuc3R5bGUubGVmdCA9IFwiMFwiO1xuICAgICAgbWVudUNsb3NlQnV0dG9uLmZvY3VzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lbnVDb250YWluZXIuc3R5bGUubGVmdCA9IFwiLTgwMHB4XCI7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbWVudUNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIlxuICAgICAgfSwgNjAwKTtcbiAgICAgIG1lbnVPcGVuQnV0dG9uLmZvY3VzKCk7XG4gICAgfTtcbiAgfTtcblxuICBtZW51T3BlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgX3RvZ2dsZU1lbnUpO1xuICBtZW51Q2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF90b2dnbGVNZW51KTtcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==