!function(){"use strict";const e={accessibilityContainer:document.querySelector("#accessibility-container"),animationSwitch:document.querySelector("#animation-switch"),githubLogo:document.querySelector("#lower-nav img"),themeSwitch:document.querySelector("#theme-switch")},t=()=>{localStorage.setItem("theme",document.documentElement.getAttribute("theme")),localStorage.setItem("animations-enabled",e.animationSwitch.getAttribute("aria-checked"))},a=((()=>{const a=e=>{"light"===document.documentElement.getAttribute("theme")?n():o(),t()},n=()=>{e.themeSwitch.setAttribute("aria-checked","false"),document.documentElement.setAttribute("theme","dark"),e.themeSwitch.style.backgroundPosition="center bottom -0.8rem",e.githubLogo.setAttribute("src","assets/images/logos/GitHub-Mark-Light-32px.png")},o=()=>{e.themeSwitch.setAttribute("aria-checked","true"),document.documentElement.setAttribute("theme","light"),e.themeSwitch.style.backgroundPosition="center top 2px",e.githubLogo.setAttribute("src","assets/images/logos/GitHub-Mark-32px.png")};e.themeSwitch.addEventListener("click",a),e.themeSwitch.addEventListener("keydown",(e=>{" "===e.key&&(e.preventDefault(),a())})),window.addEventListener("load",(()=>{"light"===localStorage.getItem("theme")?o():n()}))})(),(()=>{const a=()=>{"true"===e.animationSwitch.getAttribute("aria-checked")?o():n(),t()},n=()=>{e.animationSwitch.setAttribute("aria-checked","true"),document.documentElement.style.scrollBehavior="smooth",e.accessibilityContainer.style.transition="top 0.75s ease-in-out",e.animationSwitch.textContent="Animations Enabled",e.themeSwitch.style.transition="background-position 0.3s ease-in",document.querySelector("#main-nav").style.transition="left 0.5s",Array.from(document.querySelectorAll(".label-arrow")).forEach((e=>{e.style.transition="transform 0.75s"}))},o=()=>{e.animationSwitch.setAttribute("aria-checked","false"),document.documentElement.style.scrollBehavior="auto",e.animationSwitch.setAttribute("aria-checked","false"),e.animationSwitch.textContent="Animations Disabled",Array.from(document.querySelectorAll(".animated")).forEach((e=>{e.style.transition="none"}))};return e.animationSwitch.addEventListener("click",a),e.animationSwitch.addEventListener("keydown",(e=>{" "===e.key&&(e.preventDefault(),a())})),window.addEventListener("load",(()=>{"false"===localStorage.getItem("animations-enabled")?o():n()})),{animationsEnabled:n,animationsDisabled:o}})()),n={modalBox:document.querySelector(".modal-box"),modalContainer:document.querySelector(".modal-container")},o=(()=>{const e=()=>{for(;n.modalBox.firstChild;)n.modalBox.removeChild(n.modalBox.firstChild);n.modalContainer.style.display="none",n.modalBox.dataset.indexRef="",n.modalBox.dataset.groupRef=""};return window.addEventListener("keydown",(t=>{"Escape"===t.key&&e()})),{onClose:e,onOpen:()=>{n.modalContainer.style.display="flex",document.querySelector(".modal-close-button").focus()},createCloseBtn:()=>{const e=document.createElement("button");e.setAttribute("type","button"),e.setAttribute("aria-label","Close modal"),e.classList.add("modal-close-button","close-btn","focusable"),e.addEventListener("click",o.onClose),n.modalBox.appendChild(e)}}})(),r=((()=>{const e=e=>{e.target.classList.contains("disable-button")?a.animationsDisabled():e.target.classList.contains("enable-button")&&a.animationsEnabled(),t(),o.onClose()};window.addEventListener("load",(()=>{0===localStorage.length&&(()=>{const t=document.createElement("h1");t.textContent="This site uses minimal animation effects.";const a=document.createElement("p");a.textContent="Effects include moving menus and smooth scrolling. If you suffer from a vestibular disorder or otherwise prefer no animations, you can turn them off by clicking the first button below.";const o=document.createElement("p");o.textContent="You can later change this setting in the Display & Accessibility tab at the top of the page.";const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("disable-button","focusable","primary-btn"),r.textContent="DISABLE ANIMATIONS",r.addEventListener("click",e);const i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("enable-button","focusable","secondary-btn"),i.textContent="ENABLE ANIMATIONS",i.addEventListener("click",e),n.modalBox.appendChild(t),n.modalBox.appendChild(a),n.modalBox.appendChild(o),n.modalBox.appendChild(r),n.modalBox.appendChild(i),n.modalContainer.style.display="flex"})()}))})(),(()=>{const e=["Important","Next 7 Days","Later","Eventually"],t=document.querySelector(".selected-group"),a=a=>{const r=document.createElement("form"),i=document.createElement("fieldset"),s=document.createElement("legend"),l=document.createElement("div"),d=document.createElement("input"),u=document.createElement("label");u.setAttribute("for","name-input"),u.textContent="Group Name";const c=document.createElement("input");if(c.setAttribute("type","text"),c.setAttribute("required","true"),c.setAttribute("id","name-input"),c.setAttribute("autocomplete","off"),c.classList.add("focusable"),a.target.classList.contains("add-group-btn"))s.textContent="Add a Group",d.setAttribute("type","submit"),d.setAttribute("value","ADD GROUP"),d.classList.add("submit-group-btn","primary-btn","focusable","submit"),l.appendChild(d);else if(a.target.classList.contains("group-option-btn")){s.textContent="Group Options",d.setAttribute("type","submit"),d.setAttribute("value","UPDATE"),d.classList.add("update-group-btn","secondary-btn","focusable","submit");const a=document.createElement("button");a.setAttribute("type","button"),a.classList.add("delete-group-btn","delete-btn","focusable"),a.textContent="DELETE GROUP";const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add("delete-completed-btn","delete-btn","focusable"),n.textContent="DELETE COMPLETED TASKS",e.indexOf(t.textContent)>=0&&(u.style.opacity="0.38",c.setAttribute("disabled","true"),c.style.opacity="0.38",d.setAttribute("disabled","true"),d.style.opacity="0.38",a.setAttribute("disabled","true"),a.style.opacity="0.38"),l.appendChild(d),l.appendChild(a),l.appendChild(n)}i.appendChild(s),i.appendChild(u),i.appendChild(c),i.appendChild(l),r.appendChild(i),o.createCloseBtn(),n.modalBox.appendChild(r)};document.querySelector(".group-option-btn").addEventListener("click",(e=>{a(e),o.onOpen()})),document.querySelector(".add-group-btn").addEventListener("click",(e=>{a(e),o.onOpen()}))})(),(()=>{const e=["Normal","Important"];return{render:(t,a)=>{const r=document.createElement("form"),i=document.createElement("fieldset"),s=document.createElement("legend"),l=document.createElement("div"),d=document.createElement("label");d.setAttribute("for","name-input"),d.textContent="Task Name (required)";const u=document.createElement("input");u.setAttribute("type","text"),u.setAttribute("id","name-input"),u.setAttribute("placeholder","Enter a task name"),u.setAttribute("required","true"),u.setAttribute("autocomplete","off"),u.className="focusable";const c=document.createElement("label");c.setAttribute("for","group-select"),c.textContent="Group";const m=document.createElement("select");m.setAttribute("id","group-select"),m.className="focusable";for(let e=0;e<a.length;e++){const t=document.createElement("option");t.setAttribute("value",a[e]),t.textContent=a[e],m.appendChild(t)}const p=document.createElement("label");p.setAttribute("for","priority-select"),p.textContent="Priority";const h=document.createElement("select");h.setAttribute("id","priority-select"),h.className="focusable";for(let t=0;t<e.length;t++){const a=document.createElement("option");a.setAttribute("value",e[t]),a.textContent=e[t],h.appendChild(a)}const b=document.createElement("label");b.setAttribute("for","date-select"),b.textContent="Due Date (optional)";const f=document.createElement("input");f.setAttribute("type","date"),f.setAttribute("id","date-select"),f.className="focusable";const g=document.createElement("label");g.setAttribute("for","notes-input"),g.textContent="Additional Notes";const y=document.createElement("textarea");if(y.setAttribute("id","notes-input"),y.setAttribute("placeholder","Enter any additional notes for the task"),y.className="focusable",t.target.textContent.includes("ADD TASK")){s.textContent="Add a Task";const e=document.createElement("input");e.setAttribute("type","submit"),e.setAttribute("value","ADD ONE"),e.setAttribute("aria-label","Add task and close modal"),e.classList.add("add-single-btn","primary-btn","submit","focusable");const t=document.createElement("input");t.setAttribute("type","submit"),t.setAttribute("value","ADD MANY"),t.setAttribute("aria-label","Add task and keep modal open"),t.classList.add("add-many-btn","secondary-btn","submit","focusable"),l.appendChild(e),l.appendChild(t)}else if("EDIT"===t.target.textContent){s.textContent="Edit Task";const e=document.createElement("input");e.setAttribute("type","submit"),e.setAttribute("value","UPDATE"),e.setAttribute("aria-label","Update task and close modal"),e.classList.add("update-task-btn","primary-btn","focusable"),m.setAttribute("disabled","true"),c.style.opacity="0.38",m.style.opacity="0.38",l.appendChild(e)}i.appendChild(s),i.appendChild(d),i.appendChild(u),i.appendChild(c),i.appendChild(document.createElement("br")),i.appendChild(m),i.appendChild(document.createElement("br")),i.appendChild(p),i.appendChild(document.createElement("br")),i.appendChild(h),i.appendChild(document.createElement("br")),i.appendChild(b),i.appendChild(document.createElement("br")),i.appendChild(f),i.appendChild(document.createElement("br")),i.appendChild(g),i.appendChild(y),i.appendChild(l),r.appendChild(i),o.createCloseBtn(),n.modalBox.appendChild(r)}}})());var i=6e4;function s(e){return e.getTime()%i}function l(e){var t=new Date(e.getTime()),a=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var n=a>0?(i+s(t))%i:s(t);return a*i+n}function d(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function u(e){d(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function c(e,t){d(2,arguments);var a=u(e),n=u(t),o=a.getTime()-n.getTime();return o<0?-1:o>0?1:o}function m(e,t){d(2,arguments);var a=u(e),n=u(t);return a.getTime()-n.getTime()}function p(e,t){d(2,arguments);var a=m(e,t)/1e3;return a>0?Math.floor(a):Math.ceil(a)}function h(e){return function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var a in t=t||{})t.hasOwnProperty(a)&&(e[a]=t[a]);return e}({},e)}var b={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function f(e){return function(t){var a=t||{},n=a.width?String(a.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var g={date:f({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:f({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:f({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},y={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function v(e){return function(t,a){var n,o=a||{};if("formatting"===(o.context?String(o.context):"standalone")&&e.formattingValues){var r=e.defaultFormattingWidth||e.defaultWidth,i=o.width?String(o.width):r;n=e.formattingValues[i]||e.formattingValues[r]}else{var s=e.defaultWidth,l=o.width?String(o.width):e.defaultWidth;n=e.values[l]||e.values[s]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function k(e){return function(t,a){var n=String(t),o=a||{},r=o.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=n.match(i);if(!s)return null;var l,d=s[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth];return l="[object Array]"===Object.prototype.toString.call(u)?function(e,t){for(var a=0;a<e.length;a++)if(e[a].test(d))return a}(u):function(e,t){for(var a in e)if(e.hasOwnProperty(a)&&e[a].test(d))return a}(u),l=e.valueCallback?e.valueCallback(l):l,{value:l=o.valueCallback?o.valueCallback(l):l,rest:n.slice(d.length)}}}var E,C={code:"en-US",formatDistance:function(e,t,a){var n;return a=a||{},n="string"==typeof b[e]?b[e]:1===t?b[e].one:b[e].other.replace("{{count}}",t),a.addSuffix?a.comparison>0?"in "+n:n+" ago":n},formatLong:g,formatRelative:function(e,t,a,n){return y[e]},localize:{ordinalNumber:function(e,t){var a=Number(e),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},era:v({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:v({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:v({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:v({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:v({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(E={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e,t){var a=String(e),n=t||{},o=a.match(E.matchPattern);if(!o)return null;var r=o[0],i=a.match(E.parsePattern);if(!i)return null;var s=E.valueCallback?E.valueCallback(i[0]):i[0];return{value:s=n.valueCallback?n.valueCallback(s):s,rest:a.slice(r.length)}}),era:k({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:k({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:k({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:k({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:k({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},w=1440,A=43200,L=525600;function x(e,t,a){d(2,arguments);var n=a||{},o=n.locale||C;if(!o.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var r=c(e,t);if(isNaN(r))throw new RangeError("Invalid time value");var i,s,m=h(n);m.addSuffix=Boolean(n.addSuffix),m.comparison=r,r>0?(i=u(t),s=u(e)):(i=u(e),s=u(t));var b,f=null==n.roundingMethod?"round":String(n.roundingMethod);if("floor"===f)b=Math.floor;else if("ceil"===f)b=Math.ceil;else{if("round"!==f)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");b=Math.round}var g,y=p(s,i),v=(l(s)-l(i))/1e3,k=b((y-v)/60);if("second"===(g=null==n.unit?k<1?"second":k<60?"minute":k<w?"hour":k<A?"day":k<L?"month":"year":String(n.unit)))return o.formatDistance("xSeconds",y,m);if("minute"===g)return o.formatDistance("xMinutes",k,m);if("hour"===g){var E=b(k/60);return o.formatDistance("xHours",E,m)}if("day"===g){var x=b(k/w);return o.formatDistance("xDays",x,m)}if("month"===g){var S=b(k/A);return o.formatDistance("xMonths",S,m)}if("year"===g){var D=b(k/L);return o.formatDistance("xYears",D,m)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function S(e){d(1,arguments);var t=u(e);return t.setHours(0,0,0,0),t}var D=864e5;function q(e,t){d(2,arguments);var a=S(e),n=S(t),o=a.getTime()-l(a),r=n.getTime()-l(n);return Math.round((o-r)/D)}const N=(()=>{const e=document.querySelector(".custom-groups-container");return{render:t=>{(()=>{for(;e.firstChild;)e.removeChild(e.firstChild)})(),Object.keys(t).forEach((t=>{const a=document.createElement("button");a.setAttribute("type","button"),a.setAttribute("aria-label",`Group name: ${t}`),a.classList.add("custom-group","focusable","group-btn"),a.textContent=t,e.appendChild(a)}))}}})(),M=(()=>{const e=document.querySelector(".selected-group"),t=document.querySelector(".task-container"),a=e=>{const t=new Date;return q(new Date(e.split("-").join(", ")),t)},n=(e,a,n)=>{const o=document.createElement("section");o.setAttribute("data-group",a),o.setAttribute("data-index",n),o.className="task-item";const r=document.createElement("span");if(r.setAttribute("aria-label",`${e.priority} task`),r.className="task-priority","Important"===e.priority){const e=document.createElement("span");e.className="material-icons",e.textContent="priority_high",r.appendChild(e)}const i=document.createElement("span");i.setAttribute("role","checkbox"),i.setAttribute("aria-checked","false"),i.setAttribute("tabindex","0"),i.setAttribute("aria-label",e.taskName),i.classList.add("task-status","focusable"),e.completed&&(i.style.backgroundImage="url(assets/images/icons/done-black-24dp.svg)");const s=document.createElement("span");s.setAttribute("role","button"),s.setAttribute("tabindex","0"),s.setAttribute("aria-label",`Details for ${e.taskName}`),s.classList.add("task-name","focusable"),s.textContent=e.taskName;const l=document.createElement("span");l.setAttribute("aria-label",`Due date for task ${e.taskName}: ${e.dueDate}`),l.className="task-date",l.textContent=(e=>{const t=new Date,a=new Date(e.split("-").join(", "));switch(!0){case""===e:return"No due date";case q(a,t)<0:return"Due date passed";case 0===q(a,t):return"Today";case 1===q(a,t):return"Tomorrow";case q(a,t)<=29:return q(a,t)+" days";default:return function(e,t){return d(1,arguments),x(e,Date.now(),t)}(a)}})(e.dueDate);const u=document.createElement("div");u.setAttribute("data-task",e.taskName),u.setAttribute("data-group",a),u.setAttribute("data-index",n),u.className="task-details";const c=document.createElement("p");c.className="task-notes",c.textContent=e.notes;const m=document.createElement("button");m.setAttribute("type","button"),m.setAttribute("aria-label",`Edit task ${e.taskName}`),m.classList.add("edit-btn","focusable"),m.textContent="EDIT";const p=document.createElement("button");p.setAttribute("type","button"),p.setAttribute("aria-label",`Delete task ${e.taskName}`),p.classList.add("delete-btn","focusable"),p.textContent="DELETE",u.appendChild(c),u.appendChild(m),u.appendChild(p),o.appendChild(r),o.appendChild(i),o.appendChild(s),o.appendChild(l),o.appendChild(u),t.appendChild(o)};return{loadGroupTasks:(e,o)=>{const r=Object.keys(e);switch((()=>{for(;t.firstChild;)t.removeChild(t.firstChild)})(),o){case document.getElementById("important"):Object.values(e).forEach(((e,t)=>{for(let a=0;a<e.length;a++)"Important"===e[a].priority&&n(e[a],r[t],a)}));break;case document.getElementById("next-7-days"):Object.values(e).forEach(((e,t)=>{for(let o=0;o<e.length;o++)a(e[o].dueDate)<=7&&n(e[o],r[t],o)}));break;case document.getElementById("later"):Object.values(e).forEach(((e,t)=>{for(let o=0;o<e.length;o++)a(e[o].dueDate)>7&&n(e[o],r[t],o)}));break;case document.getElementById("eventually"):Object.values(e).forEach(((e,t)=>{for(let a=0;a<e.length;a++)""===e[a].dueDate&&n(e[a],r[t],a)}));break;default:e[o.textContent].forEach(((e,t)=>{n(e,o.textContent,t)}))}if(0===t.children.length){const e=document.createElement("h2");e.textContent="No tasks for this group!",t.appendChild(e)}},updateHeader:t=>{e.textContent=t.textContent}}})(),T={activeOnLoad:document.getElementById("important"),defaultGroups:["Important","Next 7 Days","Later","Eventually"],modalBox:document.querySelector(".modal-box"),taskHeader:document.querySelector(".selected-group")},O=(()=>{const e=JSON.parse(localStorage.getItem("toDo-list"))||{Example:[{taskName:"Do the dishes",completed:!1,priority:"Normal",dueDate:"",notes:"Let the pans soak, put the plates in the dishwasher, wash the mugs by hand.\n\nWash pans after 30 minutes soaking."},{taskName:"Bring Muffin to vet",completed:!1,priority:"Important",dueDate:"2021-12-31",notes:"Pack her favorite toy so she stays calm."}]};return window.addEventListener("load",(t=>{N.render(e),M.loadGroupTasks(e,T.activeOnLoad)})),{masterList:e,saveToLocal:()=>{localStorage.setItem("toDo-list",JSON.stringify(list))}}})(),P=(()=>{const e=e=>{e.classList.add("active")};return document.getElementById("main-nav").addEventListener("click",(t=>{t.target.classList.contains("group-btn")&&(Array.from(document.getElementsByClassName("group-btn")).forEach((e=>{e.classList.remove("active")})),e(t.target),M.updateHeader(t.target),M.loadGroupTasks(O.masterList,t.target))})),{create:e=>{O.masterList[e]=[],console.log(O.masterList)},update:(e,t)=>{delete Object.assign(O.masterList,{[t]:O.masterList[e]})[e],console.log(O.masterList)},checkName:e=>T.defaultGroups.indexOf(e)>=0||Object.keys(O.masterList).indexOf(e)>=0||e.match(/^\s{1,}$/)||""===e,remove:e=>{delete O.masterList[e],console.log(O.masterList)},setActive:e}})(),B=(()=>{const e=document.querySelector(".task-container"),t=e=>{switch(!0){case e.target.classList.contains("task-status"):(e=>{const t=e.dataset.group,a=e.dataset.index;null===e.children[1].getAttribute("style")?(O.masterList[t][a].completed=!0,e.children[1].style.backgroundImage="url(assets/images/icons/done-black-24dp.svg)"):(O.masterList[t][a].completed=!1,e.children[1].removeAttribute("style")),console.log(O.masterList)})(e.target.parentElement);break;case e.target.classList.contains("task-name"):e.target.parentElement.children[4].classList.toggle("expanded");break;case e.target.classList.contains("edit-btn"):r.render(e,Object.keys(O.masterList)),(e=>{const t=e.dataset.group,a=e.dataset.index;T.modalBox.dataset.indexRef=a,T.modalBox.dataset.groupRef=t,document.querySelector("#name-input").value=O.masterList[t][a].taskName,document.querySelector("#group-select").value=t,document.querySelector("#priority-select").value=O.masterList[t][a].priority,document.querySelector("#date-select").value=O.masterList[t][a].dueDate,document.querySelector("#notes-input").value=O.masterList[t][a].notes})(e.target.parentElement),o.onOpen();break;case e.target.classList.contains("delete-btn"):confirm(`Please click "OK" to confirm deletion of task \n            "${e.target.parentElement.dataset.task}".`)&&(a(e.target.parentElement),M.loadGroupTasks(O.masterList,T.taskHeader));break;default:return}},a=e=>{O.masterList[e.dataset.group].splice(e.dataset.index,1),e.remove(),console.log(O.masterList)};return document.querySelector(".add-task-btn").addEventListener("click",(e=>{0!==Object.keys(O.masterList).length?(r.render(e,Object.keys(O.masterList)),o.onOpen()):alert("No groups exist. Please create a group before adding a task.")})),e.addEventListener("click",t),e.addEventListener("keydown",(e=>{" "===e.key&&t(e)})),{create:(e,t,a,n,o)=>({taskName:e,priority:t,dueDate:a,notes:n,completed:o}),update:()=>{const e=T.modalBox.getAttribute("data-group-ref"),t=T.modalBox.getAttribute("data-index-ref");O.masterList[e][t].taskName=document.querySelector("#name-input").value,O.masterList[e][t].priority=document.querySelector("#priority-select").value,O.masterList[e][t].dueDate=document.querySelector("#date-select").value,O.masterList[e][t].notes=document.querySelector("#notes-input").value},checkName:e=>e.match(/^\s{1,}$/)||""===e,removeSingle:a,removeCompleted:e=>{if(T.defaultGroups.indexOf(e)>=0){const e=Object.keys(O.masterList);Object.values(O.masterList).forEach(((t,a)=>{for(let n=t.length-1;n>=0;n--)!0===t[n].completed&&O.masterList[e[a]].splice(n,1)}))}else O.masterList[e].forEach((t=>{for(let a=O.masterList[e].length-1;a>=0;a--)!0===t.completed&&O.masterList[e].splice(a,1)}))},confirmMassRemove:()=>T.defaultGroups.indexOf(T.taskHeader.textContent)>=0?confirm('This will delete all completed tasks in every group. \n\nPlease click "OK" to confirm deletion.'):confirm(`This will delete all completed tasks in the ${T.taskHeader.textContent} group.\n\nPlease click "OK" to confirm deletion.`)}})();document.querySelector(".selected-group"),T.modalBox.addEventListener("click",(e=>{const t=document.querySelector(".active"),a=document.querySelector("#name-input"),n=document.querySelector("#group-select");switch(e.target){case document.querySelector(".submit-group-btn"):case document.querySelector(".update-group-btn"):if(e.preventDefault(),P.checkName(a.value))return void alert("Group name cannot be blank and cannot already be taken.\n\nPlease enter a new name.");e.target.classList.contains("submit-group-btn")?(P.create(a.value),N.render(O.masterList),P.setActive(T.activeOnLoad),M.loadGroupTasks(O.masterList,T.activeOnLoad),M.updateHeader(T.activeOnLoad)):(P.update(T.taskHeader.textContent,a.value),t.textContent=a.value,M.updateHeader(t)),o.onClose();break;case document.querySelector(".delete-group-btn"):confirm(`This will delete the ${T.taskHeader.textContent} group, along with any tasks within it.\n\nPlease click "OK" to confirm deletion.`)&&(P.remove(T.taskHeader.textContent),o.onClose(),N.render(O.masterList),P.setActive(T.activeOnLoad),M.loadGroupTasks(O.masterList,T.activeOnLoad),M.updateHeader(T.activeOnLoad));break;case document.querySelector(".delete-completed-btn"):B.confirmMassRemove()&&(B.removeCompleted(T.taskHeader.textContent),o.onClose(),M.loadGroupTasks(O.masterList,t),console.log(O.masterList));break;case document.querySelector(".add-single-btn"):case document.querySelector(".add-many-btn"):if(e.preventDefault(),B.checkName(a.value))return void alert("Task name cannot be blank.\n\nPlease enter a new name.");{const r=B.create(a.value,document.querySelector("#priority-select").value,document.querySelector("#date-select").value,document.querySelector("#notes-input").value,!1);O.masterList[n.value].push(r),e.target.classList.contains("add-many-btn")?(a.focus(),a.value="",n.selectedIndex=0,document.querySelector("#priority-select").selectedIndex=0,document.querySelector("#date-select").value="",document.querySelector("#notes-input").value=""):o.onClose(),M.loadGroupTasks(O.masterList,t),console.log(O.masterList)}break;case document.querySelector(".update-task-btn"):if(e.preventDefault(),B.checkName(a.value))return void alert("Task name cannot be blank.\n\nPlease enter a new name.");B.update(),o.onClose(),M.loadGroupTasks(O.masterList,T.taskHeader),console.log(O.masterList);break;default:return}})),console.log(O.masterList),(()=>{const e=document.querySelector("#main-nav"),t=document.querySelector(".menu-button"),a=document.querySelector(".menu-close-button"),n=()=>{document.documentElement.scrollWidth>763?(e.style.visibility="visible",e.style.left="0"):(e.style.visibility="hidden",e.style.left="-800px")};window.addEventListener("resize",n),window.addEventListener("load",n);const o=()=>{"hidden"===e.style.visibility?(e.style.visibility="visible",e.style.left="0",a.focus()):(e.style.left="-800px",setTimeout((()=>{e.style.visibility="hidden"}),600),t.focus())};t.addEventListener("click",o),a.addEventListener("click",o)})()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc2l0ZS1zZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbW9kYWxzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi9nZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS90b0RhdGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9jb21wYXJlQXNjL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vZGlmZmVyZW5jZUluU2Vjb25kcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL19saWIvY2xvbmVPYmplY3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9fbGliL2Fzc2lnbi9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2xvY2FsZS9lbi1VUy9fbGliL2Zvcm1hdERpc3RhbmNlL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vbG9jYWxlL19saWIvYnVpbGRGb3JtYXRMb25nRm4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9sb2NhbGUvZW4tVVMvX2xpYi9mb3JtYXRMb25nL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vbG9jYWxlL2VuLVVTL19saWIvZm9ybWF0UmVsYXRpdmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9sb2NhbGUvX2xpYi9idWlsZExvY2FsaXplRm4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9sb2NhbGUvX2xpYi9idWlsZE1hdGNoRm4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9sb2NhbGUvZW4tVVMvX2xpYi9tYXRjaC9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2xvY2FsZS9fbGliL2J1aWxkTWF0Y2hQYXR0ZXJuRm4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9sb2NhbGUvZW4tVVMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9sb2NhbGUvZW4tVVMvX2xpYi9sb2NhbGl6ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2Zvcm1hdERpc3RhbmNlU3RyaWN0L2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vc3RhcnRPZkRheS9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2RpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvcmVuZGVyLWNvbnRhaW5lcnMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9mb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0L2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9sb2dpYy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiRE9NIiwiYWNjZXNzaWJpbGl0eUNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFuaW1hdGlvblN3aXRjaCIsImdpdGh1YkxvZ28iLCJ0aGVtZVN3aXRjaCIsInNldHRpbmdzIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImRvY3VtZW50RWxlbWVudCIsImdldEF0dHJpYnV0ZSIsImFjY2Vzc2liaWxpdHlPcHRpb25zIiwiX3RvZ2dsZVRoZW1lIiwiZSIsIl9kYXJrVGhlbWUiLCJfbGlnaHRUaGVtZSIsInNldEF0dHJpYnV0ZSIsInN0eWxlIiwiYmFja2dyb3VuZFBvc2l0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImtleSIsInByZXZlbnREZWZhdWx0Iiwid2luZG93IiwiZ2V0SXRlbSIsIl90b2dnbGVBbmltYXRpb25zIiwiYW5pbWF0aW9uc0Rpc2FibGVkIiwiYW5pbWF0aW9uc0VuYWJsZWQiLCJzY3JvbGxCZWhhdmlvciIsInRyYW5zaXRpb24iLCJ0ZXh0Q29udGVudCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiaXRlbSIsIm1vZGFsQm94IiwibW9kYWxDb250YWluZXIiLCJnZW5lcmFsTW9kYWwiLCJvbkNsb3NlIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiZGlzcGxheSIsImRhdGFzZXQiLCJpbmRleFJlZiIsImdyb3VwUmVmIiwib25PcGVuIiwiZm9jdXMiLCJjcmVhdGVDbG9zZUJ0biIsImNsb3NlQnRuIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImFwcGVuZENoaWxkIiwidGFza01vZGFsIiwiX3NlbGVjdE9wdGlvbiIsInRhcmdldCIsImNvbnRhaW5zIiwibGVuZ3RoIiwiaGVhZGluZyIsInBhcmExIiwicGFyYTIiLCJkaXNhYmxlQnV0dG9uIiwiZW5hYmxlQnV0dG9uIiwiX3JlbmRlciIsIl9kZWZhdWx0R3JvdXBzIiwiX3Rhc2tIZWFkZXIiLCJmb3JtIiwiZmllbGRzZXQiLCJsZWdlbmQiLCJkaXYiLCJtYWluQnRuIiwibmFtZUxhYmVsIiwibmFtZUlucHV0IiwiZGVsZXRlR3JvdXAiLCJkZWxldGVDb21wbGV0ZWQiLCJpbmRleE9mIiwib3BhY2l0eSIsIl9wcmlvcml0eUFycmF5IiwicmVuZGVyIiwiZ3JvdXBBcnJheSIsImNsYXNzTmFtZSIsImdyb3VwTGFiZWwiLCJncm91cFNlbGVjdCIsImkiLCJncm91cE9wdGlvbiIsInByaW9yaXR5TGFiZWwiLCJwcmlvcml0eVNlbGVjdCIsInByaW9yaXR5T3B0aW9uIiwiZGF0ZUxhYmVsIiwiZGF0ZUlucHV0Iiwibm90ZXNMYWJlbCIsIm5vdGVzSW5wdXQiLCJpbmNsdWRlcyIsImFkZE9uZUJ0biIsImFkZE1hbnlCdG4iLCJlZGl0QnRuIiwiTUlMTElTRUNPTkRTX0lOX01JTlVURSIsImdldERhdGVNaWxsaXNlY29uZHNQYXJ0IiwiZGF0ZSIsImdldFRpbWUiLCJnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzIiwiZGlydHlEYXRlIiwiRGF0ZSIsImJhc2VUaW1lem9uZU9mZnNldCIsIk1hdGgiLCJjZWlsIiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJzZXRTZWNvbmRzIiwibWlsbGlzZWNvbmRzUGFydE9mVGltZXpvbmVPZmZzZXQiLCJyZXF1aXJlZEFyZ3MiLCJyZXF1aXJlZCIsImFyZ3MiLCJUeXBlRXJyb3IiLCJ0b0RhdGUiLCJhcmd1bWVudCIsImFyZ3VtZW50cyIsImFyZ1N0ciIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsImNvbnNvbGUiLCJ3YXJuIiwiRXJyb3IiLCJzdGFjayIsIk5hTiIsImNvbXBhcmVBc2MiLCJkaXJ0eURhdGVMZWZ0IiwiZGlydHlEYXRlUmlnaHQiLCJkYXRlTGVmdCIsImRhdGVSaWdodCIsImRpZmYiLCJkaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMiLCJkaWZmZXJlbmNlSW5TZWNvbmRzIiwiZmxvb3IiLCJjbG9uZU9iamVjdCIsImRpcnR5T2JqZWN0IiwicHJvcGVydHkiLCJoYXNPd25Qcm9wZXJ0eSIsImZvcm1hdERpc3RhbmNlTG9jYWxlIiwibGVzc1RoYW5YU2Vjb25kcyIsIm9uZSIsIm90aGVyIiwieFNlY29uZHMiLCJoYWxmQU1pbnV0ZSIsImxlc3NUaGFuWE1pbnV0ZXMiLCJ4TWludXRlcyIsImFib3V0WEhvdXJzIiwieEhvdXJzIiwieERheXMiLCJhYm91dFhXZWVrcyIsInhXZWVrcyIsImFib3V0WE1vbnRocyIsInhNb250aHMiLCJhYm91dFhZZWFycyIsInhZZWFycyIsIm92ZXJYWWVhcnMiLCJhbG1vc3RYWWVhcnMiLCJidWlsZEZvcm1hdExvbmdGbiIsImRpcnR5T3B0aW9ucyIsIm9wdGlvbnMiLCJ3aWR0aCIsIlN0cmluZyIsImRlZmF1bHRXaWR0aCIsImZvcm1hdHMiLCJmb3JtYXRMb25nIiwiZnVsbCIsImxvbmciLCJtZWRpdW0iLCJzaG9ydCIsInRpbWUiLCJkYXRlVGltZSIsImZvcm1hdFJlbGF0aXZlTG9jYWxlIiwibGFzdFdlZWsiLCJ5ZXN0ZXJkYXkiLCJ0b2RheSIsInRvbW9ycm93IiwibmV4dFdlZWsiLCJidWlsZExvY2FsaXplRm4iLCJkaXJ0eUluZGV4IiwidmFsdWVzQXJyYXkiLCJjb250ZXh0IiwiZm9ybWF0dGluZ1ZhbHVlcyIsImRlZmF1bHRGb3JtYXR0aW5nV2lkdGgiLCJfZGVmYXVsdFdpZHRoIiwiX3dpZHRoIiwidmFsdWVzIiwiYXJndW1lbnRDYWxsYmFjayIsImJ1aWxkTWF0Y2hGbiIsImRpcnR5U3RyaW5nIiwic3RyaW5nIiwibWF0Y2hQYXR0ZXJuIiwibWF0Y2hQYXR0ZXJucyIsImRlZmF1bHRNYXRjaFdpZHRoIiwibWF0Y2hSZXN1bHQiLCJtYXRjaCIsInZhbHVlIiwibWF0Y2hlZFN0cmluZyIsInBhcnNlUGF0dGVybnMiLCJkZWZhdWx0UGFyc2VXaWR0aCIsImFycmF5IiwicHJlZGljYXRlIiwidGVzdCIsImZpbmRJbmRleCIsIm9iamVjdCIsImZpbmRLZXkiLCJ2YWx1ZUNhbGxiYWNrIiwicmVzdCIsInNsaWNlIiwiY29kZSIsImZvcm1hdERpc3RhbmNlIiwidG9rZW4iLCJjb3VudCIsInJlc3VsdCIsInJlcGxhY2UiLCJhZGRTdWZmaXgiLCJjb21wYXJpc29uIiwiZm9ybWF0UmVsYXRpdmUiLCJfZGF0ZSIsIl9iYXNlRGF0ZSIsIl9vcHRpb25zIiwibG9jYWxpemUiLCJvcmRpbmFsTnVtYmVyIiwiZGlydHlOdW1iZXIiLCJfZGlydHlPcHRpb25zIiwibnVtYmVyIiwiTnVtYmVyIiwicmVtMTAwIiwiZXJhIiwibmFycm93IiwiYWJicmV2aWF0ZWQiLCJ3aWRlIiwicXVhcnRlciIsIm1vbnRoIiwiZGF5IiwiZGF5UGVyaW9kIiwiYW0iLCJwbSIsIm1pZG5pZ2h0Iiwibm9vbiIsIm1vcm5pbmciLCJhZnRlcm5vb24iLCJldmVuaW5nIiwibmlnaHQiLCJwYXJzZVBhdHRlcm4iLCJwYXJzZUludCIsInBhcnNlUmVzdWx0IiwiYW55IiwiaW5kZXgiLCJ3ZWVrU3RhcnRzT24iLCJmaXJzdFdlZWtDb250YWluc0RhdGUiLCJNSU5VVEVTX0lOX0RBWSIsIk1JTlVURVNfSU5fTU9OVEgiLCJNSU5VVEVTX0lOX1lFQVIiLCJmb3JtYXREaXN0YW5jZVN0cmljdCIsImRpcnR5QmFzZURhdGUiLCJsb2NhbGUiLCJSYW5nZUVycm9yIiwiaXNOYU4iLCJsb2NhbGl6ZU9wdGlvbnMiLCJCb29sZWFuIiwicm91bmRpbmdNZXRob2RGbiIsInJvdW5kaW5nTWV0aG9kIiwicm91bmQiLCJ1bml0Iiwic2Vjb25kcyIsIm9mZnNldEluU2Vjb25kcyIsIm1pbnV0ZXMiLCJob3VycyIsImRheXMiLCJtb250aHMiLCJ5ZWFycyIsInN0YXJ0T2ZEYXkiLCJzZXRIb3VycyIsIk1JTExJU0VDT05EU19JTl9EQVkiLCJkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMiLCJzdGFydE9mRGF5TGVmdCIsInN0YXJ0T2ZEYXlSaWdodCIsInRpbWVzdGFtcExlZnQiLCJ0aW1lc3RhbXBSaWdodCIsImdyb3VwQ29udGFpbmVyIiwiX2N1c3RvbUdyb3VwcyIsImxpc3QiLCJfY2xlYXIiLCJrZXlzIiwiZ3JvdXAiLCJidXR0b24iLCJ0YXNrQ29udGFpbmVyIiwiX3Rhc2tzTGlzdCIsIl9jaGVja0RhdGUiLCJub3ciLCJzcGxpdCIsImpvaW4iLCJ0YXNrIiwidGFza0l0ZW0iLCJwcmlvcml0eUJveCIsInByaW9yaXR5IiwiaWNvbiIsInN0YXR1c0JveCIsInRhc2tOYW1lIiwiY29tcGxldGVkIiwiYmFja2dyb3VuZEltYWdlIiwibmFtZUZpZWxkIiwiZGF0ZUZpZWxkIiwiZHVlRGF0ZSIsIm5ld0RhdGUiLCJmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0IiwiX2Zvcm1hdHRlZERhdGUiLCJkZXRhaWxzIiwibm90ZXNGaWVsZCIsIm5vdGVzIiwiZGVsZXRlQnRuIiwibG9hZEdyb3VwVGFza3MiLCJrZXlBcnJheSIsImdldEVsZW1lbnRCeUlkIiwiY2hpbGRyZW4iLCJoMiIsInVwZGF0ZUhlYWRlciIsImFjdGl2ZU9uTG9hZCIsImRlZmF1bHRHcm91cHMiLCJ0YXNrSGVhZGVyIiwidG9EbyIsIm1hc3Rlckxpc3QiLCJKU09OIiwicGFyc2UiLCJFeGFtcGxlIiwic2F2ZVRvTG9jYWwiLCJzdHJpbmdpZnkiLCJncm91cHMiLCJzZXRBY3RpdmUiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicmVtb3ZlIiwiY3JlYXRlIiwibmFtZSIsImxvZyIsInVwZGF0ZSIsIm9sZE5hbWUiLCJuZXdOYW1lIiwiYXNzaWduIiwiY2hlY2tOYW1lIiwidGFza3MiLCJfdGFza0xpc3QiLCJfcmVzb2x2ZVRhc2tFdmVudCIsIm5vZGUiLCJncm91cERhdGEiLCJ0YXNrSW5kZXgiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfY2hhbmdlU3RhdHVzIiwicGFyZW50RWxlbWVudCIsInRvZ2dsZSIsIl9nZXRUYXNrRGF0YSIsImNvbmZpcm0iLCJyZW1vdmVTaW5nbGUiLCJzcGxpY2UiLCJhbGVydCIsInRhc2tSZWYiLCJyZW1vdmVDb21wbGV0ZWQiLCJjb25maXJtTWFzc1JlbW92ZSIsIl9hY3RpdmVHcm91cCIsIm5ld1Rhc2siLCJwdXNoIiwic2VsZWN0ZWRJbmRleCIsIm1lbnVDb250YWluZXIiLCJtZW51T3BlbkJ1dHRvbiIsIm1lbnVDbG9zZUJ1dHRvbiIsIl9vblNjcmVlblNpemUiLCJzY3JvbGxXaWR0aCIsInZpc2liaWxpdHkiLCJsZWZ0IiwiX3RvZ2dsZU1lbnUiLCJzZXRUaW1lb3V0Il0sIm1hcHBpbmdzIjoieUJBRUEsTUFBTUEsRUFRRyxDQUNMQyx1QkFQSUMsU0FBU0MsY0FBYyw0QkFRM0JDLGdCQU5JRixTQUFTQyxjQUFjLHFCQU8zQkUsV0FOaUJILFNBQVNDLGNBQWMsa0JBT3hDRyxZQU5rQkosU0FBU0MsY0FBYyxrQkFVdkNJLEVBQ2dCLEtBQ2xCQyxhQUFhQyxRQUNYLFFBQVNQLFNBQVNRLGdCQUFnQkMsYUFBYSxVQUVqREgsYUFBYUMsUUFBUSxxQkFDakJULEVBQUlJLGdCQUFnQk8sYUFBYSxrQkFxRG5DQyxHQTdDaUIsTUFDckIsTUFRTUMsRUFBZ0JDLElBQ21DLFVBQW5EWixTQUFTUSxnQkFBZ0JDLGFBQWEsU0FDeENJLElBRUFDLElBRUZULEtBR0lRLEVBQWEsS0FDakJmLEVBQUlNLFlBQVlXLGFBQWEsZUFBZ0IsU0FDN0NmLFNBQVNRLGdCQUFnQk8sYUFBYSxRQUFTLFFBQy9DakIsRUFBSU0sWUFBWVksTUFBTUMsbUJBQXFCLHdCQUMzQ25CLEVBQUlLLFdBQVdZLGFBQWEsTUFDeEIsbURBR0FELEVBQWMsS0FDbEJoQixFQUFJTSxZQUFZVyxhQUFhLGVBQWdCLFFBQzdDZixT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aUIsT0FBUTBWLEdBRWhDLE1BQU1JLEVBQWMsS0FDcUIsV0FBbkNQLEVBQWN6VixNQUFNOFYsWUFDdEJMLEVBQWN6VixNQUFNOFYsV0FBYSxVQUNqQ0wsRUFBY3pWLE1BQU0rVixLQUFPLElBQzNCSixFQUFnQjlULFVBRWhCNFQsRUFBY3pWLE1BQU0rVixLQUFPLFNBQzNCRSxZQUFXLEtBQ1RSLEVBQWN6VixNQUFNOFYsV0FBYSxXQUNoQyxLQUNISixFQUFlN1QsVUFJbkI2VCxFQUFleFYsaUJBQWlCLFFBQVM4VixHQUN6Q0wsRUFBZ0J6VixpQkFBaUIsUUFBUzhWLElBakNyQixHIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBET00gPSAoKCkgPT4ge1xuICBjb25zdCBhY2Nlc3NpYmlsaXR5Q29udGFpbmVyID0gXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWNjZXNzaWJpbGl0eS1jb250YWluZXJcIik7XG4gIGNvbnN0IGFuaW1hdGlvblN3aXRjaCA9IFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FuaW1hdGlvbi1zd2l0Y2hcIik7XG4gIGNvbnN0IGdpdGh1YkxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvd2VyLW5hdiBpbWdcIik7XG4gIGNvbnN0IHRoZW1lU3dpdGNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aGVtZS1zd2l0Y2hcIik7XG5cbiAgcmV0dXJuIHtcbiAgICBhY2Nlc3NpYmlsaXR5Q29udGFpbmVyLFxuICAgIGFuaW1hdGlvblN3aXRjaCxcbiAgICBnaXRodWJMb2dvLFxuICAgIHRoZW1lU3dpdGNoXG4gIH1cbn0pKCk7XG5cbmNvbnN0IHNldHRpbmdzID0gKCgpID0+IHtcbiAgY29uc3Qgc2F2ZVRvTG9jYWwgPSAoKSA9PiB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXG4gICAgICBcInRoZW1lXCIsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0aGVtZVwiKSk7XG5cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImFuaW1hdGlvbnMtZW5hYmxlZFwiLCBcbiAgICAgICAgRE9NLmFuaW1hdGlvblN3aXRjaC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIikpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc2F2ZVRvTG9jYWxcbiAgfTtcbn0pKCk7XG5cbmNvbnN0IGRpc3BsYXlPcHRpb25zID0gKCgpID0+IHtcbiAgY29uc3QgX29uTG9hZCA9ICgpID0+IHtcbiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0aGVtZVwiKSA9PT0gXCJsaWdodFwiKSB7XG4gICAgICBfbGlnaHRUaGVtZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfZGFya1RoZW1lKCk7XG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBfdG9nZ2xlVGhlbWUgPSAoZSkgPT4ge1xuICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidGhlbWVcIikgPT09IFwibGlnaHRcIikge1xuICAgICAgX2RhcmtUaGVtZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfbGlnaHRUaGVtZSgpO1xuICAgIH07XG4gICAgc2V0dGluZ3Muc2F2ZVRvTG9jYWwoKTtcbiAgfTtcblxuICBjb25zdCBfZGFya1RoZW1lID0gKCkgPT4ge1xuICAgIERPTS50aGVtZVN3aXRjaC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidGhlbWVcIiwgXCJkYXJrXCIpO1xuICAgIERPTS50aGVtZVN3aXRjaC5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSBcImNlbnRlciBib3R0b20gLTAuOHJlbVwiO1xuICAgIERPTS5naXRodWJMb2dvLnNldEF0dHJpYnV0ZShcInNyY1wiLFxuICAgICAgICBcImFzc2V0cy9pbWFnZXMvbG9nb3MvR2l0SHViLU1hcmstTGlnaHQtMzJweC5wbmdcIik7XG4gIH07XG5cbiAgY29uc3QgX2xpZ2h0VGhlbWUgPSAoKSA9PiB7XG4gICAgRE9NLnRoZW1lU3dpdGNoLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBcInRydWVcIik7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcInRoZW1lXCIsIFwibGlnaHRcIik7XG4gICAgRE9NLnRoZW1lU3dpdGNoLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9IFwiY2VudGVyIHRvcCAycHhcIjtcbiAgICBET00uZ2l0aHViTG9nby5zZXRBdHRyaWJ1dGUoXCJzcmNcIixcbiAgICBcImFzc2V0cy9pbWFnZXMvbG9nb3MvR2l0SHViLU1hcmstMzJweC5wbmdcIik7XG4gIH07XG5cbiAgRE9NLnRoZW1lU3dpdGNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBfdG9nZ2xlVGhlbWUpO1xuICBET00udGhlbWVTd2l0Y2guYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09IFwiIFwiKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBfdG9nZ2xlVGhlbWUoKTtcbiAgICB9O1xuICB9KTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgX29uTG9hZCk7XG59KSgpO1xuXG5jb25zdCBhY2Nlc3NpYmlsaXR5T3B0aW9ucyA9ICgoKSA9PiB7XG4gIGNvbnN0IF9vbkxvYWQgPSAoKSA9PiB7XG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYW5pbWF0aW9ucy1lbmFibGVkXCIpID09PSBcImZhbHNlXCIpIHtcbiAgICAgIGFuaW1hdGlvbnNEaXNhYmxlZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbmltYXRpb25zRW5hYmxlZCgpO1xuICAgIH07XG4gIH07XG5cbiAgY29uc3QgX3RvZ2dsZUFuaW1hdGlvbnMgPSAoKSA9PiB7XG4gICAgaWYgKERPTS5hbmltYXRpb25Td2l0Y2guZ2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIpID09PSBcInRydWVcIikge1xuICAgICAgYW5pbWF0aW9uc0Rpc2FibGVkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFuaW1hdGlvbnNFbmFibGVkKCk7XG4gICAgfTtcbiAgICBzZXR0aW5ncy5zYXZlVG9Mb2NhbCgpO1xuICB9O1xuXG4gIGNvbnN0IGFuaW1hdGlvbnNFbmFibGVkID0gKCkgPT4ge1xuICAgIERPTS5hbmltYXRpb25Td2l0Y2guc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwidHJ1ZVwiKTtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2Nyb2xsQmVoYXZpb3IgPSBcInNtb290aFwiO1xuICAgIERPTS5hY2Nlc3NpYmlsaXR5Q29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSBcInRvcCAwLjc1cyBlYXNlLWluLW91dFwiO1xuICAgIERPTS5hbmltYXRpb25Td2l0Y2gudGV4dENvbnRlbnQgPSBcIkFuaW1hdGlvbnMgRW5hYmxlZFwiO1xuICAgIERPTS50aGVtZVN3aXRjaC5zdHlsZS50cmFuc2l0aW9uID0gXCJiYWNrZ3JvdW5kLXBvc2l0aW9uIDAuM3MgZWFzZS1pblwiO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWFpbi1uYXZcIikuc3R5bGUudHJhbnNpdGlvbiA9IFwibGVmdCAwLjVzXCI7XG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmxhYmVsLWFycm93XCIpKS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgaXRlbS5zdHlsZS50cmFuc2l0aW9uID0gXCJ0cmFuc2Zvcm0gMC43NXNcIjtcbiAgICB9KTtcbiAgfTtcbiAgICAgICAgXG4gIGNvbnN0IGFuaW1hdGlvbnNEaXNhYmxlZCA9ICgpID0+IHtcbiAgICBET00uYW5pbWF0aW9uU3dpdGNoLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBcImZhbHNlXCIpO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zY3JvbGxCZWhhdmlvciA9IFwiYXV0b1wiO1xuICAgIERPTS5hbmltYXRpb25Td2l0Y2guc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgRE9NLmFuaW1hdGlvblN3aXRjaC50ZXh0Q29udGVudCA9IFwiQW5pbWF0aW9ucyBEaXNhYmxlZFwiO1xuICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hbmltYXRlZFwiKSkuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGl0ZW0uc3R5bGUudHJhbnNpdGlvbiA9IFwibm9uZVwiO1xuICAgIH0pO1xuICB9O1xuXG4gIERPTS5hbmltYXRpb25Td2l0Y2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF90b2dnbGVBbmltYXRpb25zKTtcbiAgRE9NLmFuaW1hdGlvblN3aXRjaC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCIgXCIpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIF90b2dnbGVBbmltYXRpb25zKCk7XG4gICAgfTtcbiAgfSk7XG4gIFxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgX29uTG9hZCk7XG5cbiAgcmV0dXJuIHtcbiAgICBhbmltYXRpb25zRW5hYmxlZCxcbiAgICBhbmltYXRpb25zRGlzYWJsZWRcbiAgfVxufSkoKTtcblxuZXhwb3J0IHthY2Nlc3NpYmlsaXR5T3B0aW9ucywgZGlzcGxheU9wdGlvbnMsIHNldHRpbmdzfSIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBhY2Nlc3NpYmlsaXR5T3B0aW9ucywgc2V0dGluZ3MgfSBmcm9tIFwiLi9zaXRlLXNldHRpbmdzXCI7XG5cbmNvbnN0IERPTSA9ICgoKSA9PiB7XG4gIGNvbnN0IG1vZGFsQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1ib3hcIik7XG4gIGNvbnN0IG1vZGFsQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1jb250YWluZXJcIik7XG5cbiAgcmV0dXJuIHtcbiAgICBtb2RhbEJveCxcbiAgICBtb2RhbENvbnRhaW5lclxuICB9XG59KSgpO1xuXG5jb25zdCBnZW5lcmFsTW9kYWwgPSAoKCkgPT4ge1xuICBjb25zdCBvbkNsb3NlID0gKCkgPT4ge1xuICAgIHdoaWxlIChET00ubW9kYWxCb3guZmlyc3RDaGlsZCkge1xuICAgICAgRE9NLm1vZGFsQm94LnJlbW92ZUNoaWxkKERPTS5tb2RhbEJveC5maXJzdENoaWxkKVxuICAgIH07XG4gICAgRE9NLm1vZGFsQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBET00ubW9kYWxCb3guZGF0YXNldC5pbmRleFJlZiA9IFwiXCI7XG4gICAgRE9NLm1vZGFsQm94LmRhdGFzZXQuZ3JvdXBSZWYgPSBcIlwiO1xuICB9O1xuXG4gIGNvbnN0IG9uT3BlbiA9ICgpID0+IHtcbiAgICBET00ubW9kYWxDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY2xvc2UtYnV0dG9uXCIpLmZvY3VzKCk7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlQ2xvc2VCdG4gPSAoKSA9PiB7XG4gICAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGNsb3NlQnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gICAgY2xvc2VCdG4uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIkNsb3NlIG1vZGFsXCIpO1xuICAgIGNsb3NlQnRuLmNsYXNzTGlzdC5hZGQoXCJtb2RhbC1jbG9zZS1idXR0b25cIiwgXCJjbG9zZS1idG5cIiwgXCJmb2N1c2FibGVcIik7XG4gICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGdlbmVyYWxNb2RhbC5vbkNsb3NlKTtcbiAgICBET00ubW9kYWxCb3guYXBwZW5kQ2hpbGQoY2xvc2VCdG4pO1xuICB9O1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgb25DbG9zZSgpO1xuICAgIH07XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgb25DbG9zZSxcbiAgICBvbk9wZW4sXG4gICAgY3JlYXRlQ2xvc2VCdG5cbiAgfVxufSkoKTtcblxuY29uc3Qgd2FybmluZ01vZGFsID0gKCgpID0+IHtcbiAgY29uc3QgX3NlbGVjdE9wdGlvbiA9IChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImRpc2FibGUtYnV0dG9uXCIpKSB7XG4gICAgICBhY2Nlc3NpYmlsaXR5T3B0aW9ucy5hbmltYXRpb25zRGlzYWJsZWQoKTtcbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImVuYWJsZS1idXR0b25cIikpIHtcbiAgICAgIGFjY2Vzc2liaWxpdHlPcHRpb25zLmFuaW1hdGlvbnNFbmFibGVkKCk7XG4gICAgfTtcbiAgICBzZXR0aW5ncy5zYXZlVG9Mb2NhbCgpO1xuICAgIGdlbmVyYWxNb2RhbC5vbkNsb3NlKCk7XG4gIH07XG5cbiAgY29uc3QgX3JlbmRlciA9ICgpID0+IHtcbiAgICBjb25zdCBoZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xuICAgIGhlYWRpbmcudGV4dENvbnRlbnQgPSBcIlRoaXMgc2l0ZSB1c2VzIG1pbmltYWwgYW5pbWF0aW9uIGVmZmVjdHMuXCI7XG5cbiAgICBjb25zdCBwYXJhMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIHBhcmExLnRleHRDb250ZW50ID0gXCJFZmZlY3RzIGluY2x1ZGUgbW92aW5nIG1lbnVzIGFuZCBzbW9vdGggc2Nyb2xsaW5nLiBJZiB5b3Ugc3VmZmVyIGZyb20gYSB2ZXN0aWJ1bGFyIGRpc29yZGVyIG9yIG90aGVyd2lzZSBwcmVmZXIgbm8gYW5pbWF0aW9ucywgeW91IGNhbiB0dXJuIHRoZW0gb2ZmIGJ5IGNsaWNraW5nIHRoZSBmaXJzdCBidXR0b24gYmVsb3cuXCI7XG5cbiAgICBjb25zdCBwYXJhMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIHBhcmEyLnRleHRDb250ZW50PSBcIllvdSBjYW4gbGF0ZXIgY2hhbmdlIHRoaXMgc2V0dGluZyBpbiB0aGUgRGlzcGxheSAmIEFjY2Vzc2liaWxpdHkgdGFiIGF0IHRoZSB0b3Agb2YgdGhlIHBhZ2UuXCI7XG5cbiAgICBjb25zdCBkaXNhYmxlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBkaXNhYmxlQnV0dG9uLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gICAgZGlzYWJsZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZS1idXR0b25cIiwgXCJmb2N1c2FibGVcIiwgXCJwcmltYXJ5LWJ0blwiKTtcbiAgICBkaXNhYmxlQnV0dG9uLnRleHRDb250ZW50ID0gXCJESVNBQkxFIEFOSU1BVElPTlNcIjtcbiAgICBkaXNhYmxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBfc2VsZWN0T3B0aW9uKTtcblxuICAgIGNvbnN0IGVuYWJsZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgZW5hYmxlQnV0dG9uLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gICAgZW5hYmxlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJlbmFibGUtYnV0dG9uXCIsIFwiZm9jdXNhYmxlXCIsIFwic2Vjb25kYXJ5LWJ0blwiKTtcbiAgICBlbmFibGVCdXR0b24udGV4dENvbnRlbnQgPSBcIkVOQUJMRSBBTklNQVRJT05TXCI7XG4gICAgZW5hYmxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBfc2VsZWN0T3B0aW9uKTtcblxuICAgIERPTS5tb2RhbEJveC5hcHBlbmRDaGlsZChoZWFkaW5nKTtcbiAgICBET00ubW9kYWxCb3guYXBwZW5kQ2hpbGQocGFyYTEpO1xuICAgIERPTS5tb2RhbEJveC5hcHBlbmRDaGlsZChwYXJhMik7XG4gICAgRE9NLm1vZGFsQm94LmFwcGVuZENoaWxkKGRpc2FibGVCdXR0b24pO1xuICAgIERPTS5tb2RhbEJveC5hcHBlbmRDaGlsZChlbmFibGVCdXR0b24pO1xuXG4gICAgRE9NLm1vZGFsQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgfTtcblxuICBjb25zdCBfb25Mb2FkID0gKCkgPT4ge1xuICAgIGlmIChsb2NhbFN0b3JhZ2UubGVuZ3RoID09PSAwKSB7XG4gICAgICBfcmVuZGVyKCk7XG4gICAgfTtcbiAgfTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgX29uTG9hZCk7XG59KSgpO1xuXG5jb25zdCBncm91cE1vZGFsID0gKCgpID0+IHtcbiAgY29uc3QgX2RlZmF1bHRHcm91cHMgPSBbXCJJbXBvcnRhbnRcIiwgXCJOZXh0IDcgRGF5c1wiLCBcIkxhdGVyXCIsIFwiRXZlbnR1YWxseVwiXTtcbiAgY29uc3QgX3Rhc2tIZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlbGVjdGVkLWdyb3VwXCIpO1xuXG4gIGNvbnN0IF9yZW5kZXIgPSAoZSkgPT4ge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgICBjb25zdCBmaWVsZHNldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKTtcbiAgICBjb25zdCBsZWdlbmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGVnZW5kXCIpO1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29uc3QgbWFpbkJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcblxuICAgIGNvbnN0IG5hbWVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICBuYW1lTGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwibmFtZS1pbnB1dFwiKTtcbiAgICBuYW1lTGFiZWwudGV4dENvbnRlbnQgPSBcIkdyb3VwIE5hbWVcIjtcblxuICAgIGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBuYW1lSW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gICAgbmFtZUlucHV0LnNldEF0dHJpYnV0ZShcInJlcXVpcmVkXCIsIFwidHJ1ZVwiKTtcbiAgICBuYW1lSW5wdXQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJuYW1lLWlucHV0XCIpO1xuICAgIG5hbWVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJhdXRvY29tcGxldGVcIiwgXCJvZmZcIik7XG4gICAgbmFtZUlucHV0LmNsYXNzTGlzdC5hZGQoXCJmb2N1c2FibGVcIik7XG5cbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWRkLWdyb3VwLWJ0blwiKSkge1xuICAgICAgbGVnZW5kLnRleHRDb250ZW50ID0gXCJBZGQgYSBHcm91cFwiO1xuICAgICAgbWFpbkJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwic3VibWl0XCIpO1xuICAgICAgbWFpbkJ0bi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIkFERCBHUk9VUFwiKTtcbiAgICAgIG1haW5CdG4uY2xhc3NMaXN0LmFkZChcInN1Ym1pdC1ncm91cC1idG5cIiwgXCJwcmltYXJ5LWJ0blwiLCBcImZvY3VzYWJsZVwiLCBcInN1Ym1pdFwiKTtcbiAgICAgIGRpdi5hcHBlbmRDaGlsZChtYWluQnRuKTtcbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImdyb3VwLW9wdGlvbi1idG5cIikpIHtcbiAgICAgIGxlZ2VuZC50ZXh0Q29udGVudCA9IFwiR3JvdXAgT3B0aW9uc1wiO1xuICAgICAgbWFpbkJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwic3VibWl0XCIpO1xuICAgICAgbWFpbkJ0bi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIlVQREFURVwiKTtcbiAgICAgIG1haW5CdG4uY2xhc3NMaXN0LmFkZChcInVwZGF0ZS1ncm91cC1idG5cIiwgXCJzZWNvbmRhcnktYnRuXCIsIFwiZm9jdXNhYmxlXCIsIFwic3VibWl0XCIpO1xuXG4gICAgICBjb25zdCBkZWxldGVHcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICBkZWxldGVHcm91cC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xuICAgICAgZGVsZXRlR3JvdXAuY2xhc3NMaXN0LmFkZChcImRlbGV0ZS1ncm91cC1idG5cIiwgXCJkZWxldGUtYnRuXCIsIFwiZm9jdXNhYmxlXCIpO1xuICAgICAgZGVsZXRlR3JvdXAudGV4dENvbnRlbnQgPSBcIkRFTEVURSBHUk9VUFwiO1xuXG4gICAgICBjb25zdCBkZWxldGVDb21wbGV0ZWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgZGVsZXRlQ29tcGxldGVkLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gICAgICBkZWxldGVDb21wbGV0ZWQuY2xhc3NMaXN0LmFkZChcImRlbGV0ZS1jb21wbGV0ZWQtYnRuXCIsIFwiZGVsZXRlLWJ0blwiLCBcImZvY3VzYWJsZVwiKTtcbiAgICAgIGRlbGV0ZUNvbXBsZXRlZC50ZXh0Q29udGVudCA9IFwiREVMRVRFIENPTVBMRVRFRCBUQVNLU1wiO1xuXG4gICAgICBpZiAoX2RlZmF1bHRHcm91cHMuaW5kZXhPZihfdGFza0hlYWRlci50ZXh0Q29udGVudCkgPj0gMCkge1xuICAgICAgICBuYW1lTGFiZWwuc3R5bGUub3BhY2l0eSA9IFwiMC4zOFwiO1xuICAgICAgICBuYW1lSW5wdXQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICBuYW1lSW5wdXQuc3R5bGUub3BhY2l0eSA9IFwiMC4zOFwiO1xuICAgICAgICBtYWluQnRuLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgbWFpbkJ0bi5zdHlsZS5vcGFjaXR5ID0gXCIwLjM4XCI7XG4gICAgICAgIGRlbGV0ZUdyb3VwLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgZGVsZXRlR3JvdXAuc3R5bGUub3BhY2l0eSA9IFwiMC4zOFwiO1xuICAgICAgfTtcblxuICAgICAgZGl2LmFwcGVuZENoaWxkKG1haW5CdG4pO1xuICAgICAgZGl2LmFwcGVuZENoaWxkKGRlbGV0ZUdyb3VwKTtcbiAgICAgIGRpdi5hcHBlbmRDaGlsZChkZWxldGVDb21wbGV0ZWQpO1xuICAgIH07XG5cbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChsZWdlbmQpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKG5hbWVMYWJlbCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQobmFtZUlucHV0KTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChkaXYpO1xuICAgIGZvcm0uYXBwZW5kQ2hpbGQoZmllbGRzZXQpO1xuICAgIGdlbmVyYWxNb2RhbC5jcmVhdGVDbG9zZUJ0bigpO1xuICAgIERPTS5tb2RhbEJveC5hcHBlbmRDaGlsZChmb3JtKTtcbiAgfTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdyb3VwLW9wdGlvbi1idG5cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgX3JlbmRlcihlKTtcbiAgICBnZW5lcmFsTW9kYWwub25PcGVuKCk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLWdyb3VwLWJ0blwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICBfcmVuZGVyKGUpO1xuICAgIGdlbmVyYWxNb2RhbC5vbk9wZW4oKTtcbiAgfSk7XG59KSgpO1xuXG5jb25zdCB0YXNrTW9kYWwgPSAoKCkgPT4ge1xuICBjb25zdCBfcHJpb3JpdHlBcnJheSA9IFtcIk5vcm1hbFwiLCBcIkltcG9ydGFudFwiXTtcblxuICAvLyBwYXNzIGdyb3VwIGxpc3QgZnJvbSB0YXNrIG1vZHVsZSBwYXR0ZXJuIGluIGxvZ2ljLmpzIGZpbGUgYXMgYXJndW1lbnRcbiAgY29uc3QgcmVuZGVyID0gKGUsIGdyb3VwQXJyYXkpID0+IHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XG4gICAgY29uc3QgZmllbGRzZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIik7XG4gICAgY29uc3QgbGVnZW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxlZ2VuZFwiKTtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgY29uc3QgbmFtZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIG5hbWVMYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJuYW1lLWlucHV0XCIpO1xuICAgIG5hbWVMYWJlbC50ZXh0Q29udGVudCA9IFwiVGFzayBOYW1lIChyZXF1aXJlZClcIjtcblxuICAgIGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBuYW1lSW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gICAgbmFtZUlucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwibmFtZS1pbnB1dFwiKTtcbiAgICBuYW1lSW5wdXQuc2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIiwgXCJFbnRlciBhIHRhc2sgbmFtZVwiKTtcbiAgICBuYW1lSW5wdXQuc2V0QXR0cmlidXRlKFwicmVxdWlyZWRcIiwgXCJ0cnVlXCIpO1xuICAgIG5hbWVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJhdXRvY29tcGxldGVcIiwgXCJvZmZcIik7XG4gICAgbmFtZUlucHV0LmNsYXNzTmFtZSA9IFwiZm9jdXNhYmxlXCI7XG5cbiAgICBjb25zdCBncm91cExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIGdyb3VwTGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwiZ3JvdXAtc2VsZWN0XCIpO1xuICAgIGdyb3VwTGFiZWwudGV4dENvbnRlbnQgPSBcIkdyb3VwXCI7XG5cbiAgICBjb25zdCBncm91cFNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gICAgZ3JvdXBTZWxlY3Quc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJncm91cC1zZWxlY3RcIik7XG4gICAgZ3JvdXBTZWxlY3QuY2xhc3NOYW1lID0gXCJmb2N1c2FibGVcIjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGdyb3VwT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICAgIGdyb3VwT3B0aW9uLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGdyb3VwQXJyYXlbaV0pO1xuICAgICAgZ3JvdXBPcHRpb24udGV4dENvbnRlbnQgPSBncm91cEFycmF5W2ldO1xuICAgICAgZ3JvdXBTZWxlY3QuYXBwZW5kQ2hpbGQoZ3JvdXBPcHRpb24pO1xuICAgIH07XG5cbiAgICBjb25zdCBwcmlvcml0eUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIHByaW9yaXR5TGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwicHJpb3JpdHktc2VsZWN0XCIpO1xuICAgIHByaW9yaXR5TGFiZWwudGV4dENvbnRlbnQgPSBcIlByaW9yaXR5XCI7XG5cbiAgICBjb25zdCBwcmlvcml0eVNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gICAgcHJpb3JpdHlTZWxlY3Quc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJwcmlvcml0eS1zZWxlY3RcIik7XG4gICAgcHJpb3JpdHlTZWxlY3QuY2xhc3NOYW1lID0gXCJmb2N1c2FibGVcIjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9wcmlvcml0eUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwcmlvcml0eU9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICBwcmlvcml0eU9wdGlvbi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBfcHJpb3JpdHlBcnJheVtpXSk7XG4gICAgICBwcmlvcml0eU9wdGlvbi50ZXh0Q29udGVudCA9IF9wcmlvcml0eUFycmF5W2ldO1xuICAgICAgcHJpb3JpdHlTZWxlY3QuYXBwZW5kQ2hpbGQocHJpb3JpdHlPcHRpb24pO1xuICAgIH07XG5cbiAgICBjb25zdCBkYXRlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgZGF0ZUxhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBcImRhdGUtc2VsZWN0XCIpO1xuICAgIGRhdGVMYWJlbC50ZXh0Q29udGVudCA9IFwiRHVlIERhdGUgKG9wdGlvbmFsKVwiO1xuXG4gICAgY29uc3QgZGF0ZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGRhdGVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiZGF0ZVwiKTtcbiAgICBkYXRlSW5wdXQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJkYXRlLXNlbGVjdFwiKTtcbiAgICBkYXRlSW5wdXQuY2xhc3NOYW1lID0gXCJmb2N1c2FibGVcIjtcblxuICAgIGNvbnN0IG5vdGVzTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgbm90ZXNMYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJub3Rlcy1pbnB1dFwiKTtcbiAgICBub3Rlc0xhYmVsLnRleHRDb250ZW50ID0gXCJBZGRpdGlvbmFsIE5vdGVzXCI7XG5cbiAgICBjb25zdCBub3Rlc0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuICAgIG5vdGVzSW5wdXQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJub3Rlcy1pbnB1dFwiKTtcbiAgICBub3Rlc0lucHV0LnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIFwiRW50ZXIgYW55IGFkZGl0aW9uYWwgbm90ZXMgZm9yIHRoZSB0YXNrXCIpO1xuICAgIG5vdGVzSW5wdXQuY2xhc3NOYW1lID0gXCJmb2N1c2FibGVcIjtcblxuICAgIGlmIChlLnRhcmdldC50ZXh0Q29udGVudC5pbmNsdWRlcyhcIkFERCBUQVNLXCIpKSB7XG4gICAgICBsZWdlbmQudGV4dENvbnRlbnQgPSBcIkFkZCBhIFRhc2tcIjtcblxuICAgICAgY29uc3QgYWRkT25lQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgYWRkT25lQnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJzdWJtaXRcIik7XG4gICAgICBhZGRPbmVCdG4uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJBREQgT05FXCIpO1xuICAgICAgYWRkT25lQnRuLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJBZGQgdGFzayBhbmQgY2xvc2UgbW9kYWxcIik7XG4gICAgICBhZGRPbmVCdG4uY2xhc3NMaXN0LmFkZChcImFkZC1zaW5nbGUtYnRuXCIsIFwicHJpbWFyeS1idG5cIixcInN1Ym1pdFwiLCBcImZvY3VzYWJsZVwiKTtcblxuICAgICAgY29uc3QgYWRkTWFueUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIGFkZE1hbnlCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInN1Ym1pdFwiKTtcbiAgICAgIGFkZE1hbnlCdG4uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJBREQgTUFOWVwiKTtcbiAgICAgIGFkZE1hbnlCdG4uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIkFkZCB0YXNrIGFuZCBrZWVwIG1vZGFsIG9wZW5cIik7XG4gICAgICBhZGRNYW55QnRuLmNsYXNzTGlzdC5hZGQoXCJhZGQtbWFueS1idG5cIiwgXCJzZWNvbmRhcnktYnRuXCIsIFwic3VibWl0XCIsIFwiZm9jdXNhYmxlXCIpO1xuXG4gICAgICBkaXYuYXBwZW5kQ2hpbGQoYWRkT25lQnRuKTtcbiAgICAgIGRpdi5hcHBlbmRDaGlsZChhZGRNYW55QnRuKTtcbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LnRleHRDb250ZW50ID09PSAoXCJFRElUXCIpKSB7XG4gICAgICBsZWdlbmQudGV4dENvbnRlbnQgPSBcIkVkaXQgVGFza1wiO1xuXG4gICAgICBjb25zdCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgZWRpdEJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwic3VibWl0XCIpO1xuICAgICAgZWRpdEJ0bi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIlVQREFURVwiKTtcbiAgICAgIGVkaXRCdG4uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIlVwZGF0ZSB0YXNrIGFuZCBjbG9zZSBtb2RhbFwiKTtcbiAgICAgIGVkaXRCdG4uY2xhc3NMaXN0LmFkZChcInVwZGF0ZS10YXNrLWJ0blwiLCBcInByaW1hcnktYnRuXCIsIFwiZm9jdXNhYmxlXCIpO1xuXG4gICAgICBncm91cFNlbGVjdC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XG4gICAgICBncm91cExhYmVsLnN0eWxlLm9wYWNpdHkgPSBcIjAuMzhcIjtcbiAgICAgIGdyb3VwU2VsZWN0LnN0eWxlLm9wYWNpdHkgPSBcIjAuMzhcIjtcblxuICAgICAgZGl2LmFwcGVuZENoaWxkKGVkaXRCdG4pO1xuICAgIH07XG5cbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChsZWdlbmQpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKG5hbWVMYWJlbCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQobmFtZUlucHV0KTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChncm91cExhYmVsKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKGdyb3VwU2VsZWN0KTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKHByaW9yaXR5TGFiZWwpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQocHJpb3JpdHlTZWxlY3QpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQoZGF0ZUxhYmVsKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO1xuICAgIGZpZWxkc2V0LmFwcGVuZENoaWxkKGRhdGVJbnB1dCk7XG4gICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChub3Rlc0xhYmVsKTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChub3Rlc0lucHV0KTtcbiAgICBmaWVsZHNldC5hcHBlbmRDaGlsZChkaXYpO1xuICAgIGZvcm0uYXBwZW5kQ2hpbGQoZmllbGRzZXQpO1xuICAgIGdlbmVyYWxNb2RhbC5jcmVhdGVDbG9zZUJ0bigpO1xuICAgIERPTS5tb2RhbEJveC5hcHBlbmRDaGlsZChmb3JtKTtcbiAgfTtcblxuICByZXR1cm4ge3JlbmRlcn1cbn0pKCk7XG5cbmV4cG9ydCB7IGdlbmVyYWxNb2RhbCwgd2FybmluZ01vZGFsLCBncm91cE1vZGFsLCB0YXNrTW9kYWwgfSIsInZhciBNSUxMSVNFQ09ORFNfSU5fTUlOVVRFID0gNjAwMDA7XG5cbmZ1bmN0aW9uIGdldERhdGVNaWxsaXNlY29uZHNQYXJ0KGRhdGUpIHtcbiAgcmV0dXJuIGRhdGUuZ2V0VGltZSgpICUgTUlMTElTRUNPTkRTX0lOX01JTlVURTtcbn1cbi8qKlxuICogR29vZ2xlIENocm9tZSBhcyBvZiA2Ny4wLjMzOTYuODcgaW50cm9kdWNlZCB0aW1lem9uZXMgd2l0aCBvZmZzZXQgdGhhdCBpbmNsdWRlcyBzZWNvbmRzLlxuICogVGhleSB1c3VhbGx5IGFwcGVhciBmb3IgZGF0ZXMgdGhhdCBkZW5vdGUgdGltZSBiZWZvcmUgdGhlIHRpbWV6b25lcyB3ZXJlIGludHJvZHVjZWRcbiAqIChlLmcuIGZvciAnRXVyb3BlL1ByYWd1ZScgdGltZXpvbmUgdGhlIG9mZnNldCBpcyBHTVQrMDA6NTc6NDQgYmVmb3JlIDEgT2N0b2JlciAxODkxXG4gKiBhbmQgR01UKzAxOjAwOjAwIGFmdGVyIHRoYXQgZGF0ZSlcbiAqXG4gKiBEYXRlI2dldFRpbWV6b25lT2Zmc2V0IHJldHVybnMgdGhlIG9mZnNldCBpbiBtaW51dGVzIGFuZCB3b3VsZCByZXR1cm4gNTcgZm9yIHRoZSBleGFtcGxlIGFib3ZlLFxuICogd2hpY2ggd291bGQgbGVhZCB0byBpbmNvcnJlY3QgY2FsY3VsYXRpb25zLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgdGltZXpvbmUgb2Zmc2V0IGluIG1pbGxpc2Vjb25kcyB0aGF0IHRha2VzIHNlY29uZHMgaW4gYWNjb3VudC5cbiAqL1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMoZGlydHlEYXRlKSB7XG4gIHZhciBkYXRlID0gbmV3IERhdGUoZGlydHlEYXRlLmdldFRpbWUoKSk7XG4gIHZhciBiYXNlVGltZXpvbmVPZmZzZXQgPSBNYXRoLmNlaWwoZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpKTtcbiAgZGF0ZS5zZXRTZWNvbmRzKDAsIDApO1xuICB2YXIgaGFzTmVnYXRpdmVVVENPZmZzZXQgPSBiYXNlVGltZXpvbmVPZmZzZXQgPiAwO1xuICB2YXIgbWlsbGlzZWNvbmRzUGFydE9mVGltZXpvbmVPZmZzZXQgPSBoYXNOZWdhdGl2ZVVUQ09mZnNldCA/IChNSUxMSVNFQ09ORFNfSU5fTUlOVVRFICsgZ2V0RGF0ZU1pbGxpc2Vjb25kc1BhcnQoZGF0ZSkpICUgTUlMTElTRUNPTkRTX0lOX01JTlVURSA6IGdldERhdGVNaWxsaXNlY29uZHNQYXJ0KGRhdGUpO1xuICByZXR1cm4gYmFzZVRpbWV6b25lT2Zmc2V0ICogTUlMTElTRUNPTkRTX0lOX01JTlVURSArIG1pbGxpc2Vjb25kc1BhcnRPZlRpbWV6b25lT2Zmc2V0O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlcXVpcmVkQXJncyhyZXF1aXJlZCwgYXJncykge1xuICBpZiAoYXJncy5sZW5ndGggPCByZXF1aXJlZCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocmVxdWlyZWQgKyAnIGFyZ3VtZW50JyArIChyZXF1aXJlZCA+IDEgPyAncycgOiAnJykgKyAnIHJlcXVpcmVkLCBidXQgb25seSAnICsgYXJncy5sZW5ndGggKyAnIHByZXNlbnQnKTtcbiAgfVxufSIsImltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSAnLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanMnO1xuLyoqXG4gKiBAbmFtZSB0b0RhdGVcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgQ29udmVydCB0aGUgZ2l2ZW4gYXJndW1lbnQgdG8gYW4gaW5zdGFuY2Ugb2YgRGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGFuIGluc3RhbmNlIG9mIERhdGUsIHRoZSBmdW5jdGlvbiByZXR1cm5zIGl0cyBjbG9uZS5cbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXMgYSBudW1iZXIsIGl0IGlzIHRyZWF0ZWQgYXMgYSB0aW1lc3RhbXAuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIG5vbmUgb2YgdGhlIGFib3ZlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBJbnZhbGlkIERhdGUuXG4gKlxuICogKipOb3RlKio6ICphbGwqIERhdGUgYXJndW1lbnRzIHBhc3NlZCB0byBhbnkgKmRhdGUtZm5zKiBmdW5jdGlvbiBpcyBwcm9jZXNzZWQgYnkgYHRvRGF0ZWAuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gYXJndW1lbnQgLSB0aGUgdmFsdWUgdG8gY29udmVydFxuICogQHJldHVybnMge0RhdGV9IHRoZSBwYXJzZWQgZGF0ZSBpbiB0aGUgbG9jYWwgdGltZSB6b25lXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ2xvbmUgdGhlIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSB0b0RhdGUobmV3IERhdGUoMjAxNCwgMSwgMTEsIDExLCAzMCwgMzApKVxuICogLy89PiBUdWUgRmViIDExIDIwMTQgMTE6MzA6MzBcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udmVydCB0aGUgdGltZXN0YW1wIHRvIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSB0b0RhdGUoMTM5MjA5ODQzMDAwMClcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9EYXRlKGFyZ3VtZW50KSB7XG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICB2YXIgYXJnU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KTsgLy8gQ2xvbmUgdGhlIGRhdGVcblxuICBpZiAoYXJndW1lbnQgaW5zdGFuY2VvZiBEYXRlIHx8IHR5cGVvZiBhcmd1bWVudCA9PT0gJ29iamVjdCcgJiYgYXJnU3RyID09PSAnW29iamVjdCBEYXRlXScpIHtcbiAgICAvLyBQcmV2ZW50IHRoZSBkYXRlIHRvIGxvc2UgdGhlIG1pbGxpc2Vjb25kcyB3aGVuIHBhc3NlZCB0byBuZXcgRGF0ZSgpIGluIElFMTBcbiAgICByZXR1cm4gbmV3IERhdGUoYXJndW1lbnQuZ2V0VGltZSgpKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYXJndW1lbnQgPT09ICdudW1iZXInIHx8IGFyZ1N0ciA9PT0gJ1tvYmplY3QgTnVtYmVyXScpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoYXJndW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIGlmICgodHlwZW9mIGFyZ3VtZW50ID09PSAnc3RyaW5nJyB8fCBhcmdTdHIgPT09ICdbb2JqZWN0IFN0cmluZ10nKSAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXCJTdGFydGluZyB3aXRoIHYyLjAuMC1iZXRhLjEgZGF0ZS1mbnMgZG9lc24ndCBhY2NlcHQgc3RyaW5ncyBhcyBkYXRlIGFyZ3VtZW50cy4gUGxlYXNlIHVzZSBgcGFyc2VJU09gIHRvIHBhcnNlIHN0cmluZ3MuIFNlZTogaHR0cHM6Ly9naXQuaW8vZmp1bGVcIik7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cbiAgICAgIGNvbnNvbGUud2FybihuZXcgRXJyb3IoKS5zdGFjayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIH1cbn0iLCJpbXBvcnQgdG9EYXRlIGZyb20gJy4uL3RvRGF0ZS9pbmRleC5qcyc7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gJy4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzJztcbi8qKlxuICogQG5hbWUgY29tcGFyZUFzY1xuICogQGNhdGVnb3J5IENvbW1vbiBIZWxwZXJzXG4gKiBAc3VtbWFyeSBDb21wYXJlIHRoZSB0d28gZGF0ZXMgYW5kIHJldHVybiAtMSwgMCBvciAxLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ29tcGFyZSB0aGUgdHdvIGRhdGVzIGFuZCByZXR1cm4gMSBpZiB0aGUgZmlyc3QgZGF0ZSBpcyBhZnRlciB0aGUgc2Vjb25kLFxuICogLTEgaWYgdGhlIGZpcnN0IGRhdGUgaXMgYmVmb3JlIHRoZSBzZWNvbmQgb3IgMCBpZiBkYXRlcyBhcmUgZXF1YWwuXG4gKlxuICogIyMjIHYyLjAuMCBicmVha2luZyBjaGFuZ2VzOlxuICpcbiAqIC0gW0NoYW5nZXMgdGhhdCBhcmUgY29tbW9uIGZvciB0aGUgd2hvbGUgbGlicmFyeV0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdXBncmFkZUd1aWRlLm1kI0NvbW1vbi1DaGFuZ2VzKS5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlTGVmdCAtIHRoZSBmaXJzdCBkYXRlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGVSaWdodCAtIHRoZSBzZWNvbmQgZGF0ZSB0byBjb21wYXJlXG4gKiBAcmV0dXJucyB7TnVtYmVyfSB0aGUgcmVzdWx0IG9mIHRoZSBjb21wYXJpc29uXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDIgYXJndW1lbnRzIHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENvbXBhcmUgMTEgRmVicnVhcnkgMTk4NyBhbmQgMTAgSnVseSAxOTg5OlxuICogdmFyIHJlc3VsdCA9IGNvbXBhcmVBc2MobmV3IERhdGUoMTk4NywgMSwgMTEpLCBuZXcgRGF0ZSgxOTg5LCA2LCAxMCkpXG4gKiAvLz0+IC0xXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFNvcnQgdGhlIGFycmF5IG9mIGRhdGVzOlxuICogdmFyIHJlc3VsdCA9IFtcbiAqICAgbmV3IERhdGUoMTk5NSwgNiwgMiksXG4gKiAgIG5ldyBEYXRlKDE5ODcsIDEsIDExKSxcbiAqICAgbmV3IERhdGUoMTk4OSwgNiwgMTApXG4gKiBdLnNvcnQoY29tcGFyZUFzYylcbiAqIC8vPT4gW1xuICogLy8gICBXZWQgRmViIDExIDE5ODcgMDA6MDA6MDAsXG4gKiAvLyAgIE1vbiBKdWwgMTAgMTk4OSAwMDowMDowMCxcbiAqIC8vICAgU3VuIEp1bCAwMiAxOTk1IDAwOjAwOjAwXG4gKiAvLyBdXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29tcGFyZUFzYyhkaXJ0eURhdGVMZWZ0LCBkaXJ0eURhdGVSaWdodCkge1xuICByZXF1aXJlZEFyZ3MoMiwgYXJndW1lbnRzKTtcbiAgdmFyIGRhdGVMZWZ0ID0gdG9EYXRlKGRpcnR5RGF0ZUxlZnQpO1xuICB2YXIgZGF0ZVJpZ2h0ID0gdG9EYXRlKGRpcnR5RGF0ZVJpZ2h0KTtcbiAgdmFyIGRpZmYgPSBkYXRlTGVmdC5nZXRUaW1lKCkgLSBkYXRlUmlnaHQuZ2V0VGltZSgpO1xuXG4gIGlmIChkaWZmIDwgMCkge1xuICAgIHJldHVybiAtMTtcbiAgfSBlbHNlIGlmIChkaWZmID4gMCkge1xuICAgIHJldHVybiAxOyAvLyBSZXR1cm4gMCBpZiBkaWZmIGlzIDA7IHJldHVybiBOYU4gaWYgZGlmZiBpcyBOYU5cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZGlmZjtcbiAgfVxufSIsImltcG9ydCB0b0RhdGUgZnJvbSAnLi4vdG9EYXRlL2luZGV4LmpzJztcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSAnLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanMnO1xuLyoqXG4gKiBAbmFtZSBkaWZmZXJlbmNlSW5NaWxsaXNlY29uZHNcbiAqIEBjYXRlZ29yeSBNaWxsaXNlY29uZCBIZWxwZXJzXG4gKiBAc3VtbWFyeSBHZXQgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgYmV0d2VlbiB0aGUgZ2l2ZW4gZGF0ZXMuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBHZXQgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgYmV0d2VlbiB0aGUgZ2l2ZW4gZGF0ZXMuXG4gKlxuICogIyMjIHYyLjAuMCBicmVha2luZyBjaGFuZ2VzOlxuICpcbiAqIC0gW0NoYW5nZXMgdGhhdCBhcmUgY29tbW9uIGZvciB0aGUgd2hvbGUgbGlicmFyeV0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdXBncmFkZUd1aWRlLm1kI0NvbW1vbi1DaGFuZ2VzKS5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlTGVmdCAtIHRoZSBsYXRlciBkYXRlXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlUmlnaHQgLSB0aGUgZWFybGllciBkYXRlXG4gKiBAcmV0dXJucyB7TnVtYmVyfSB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kc1xuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBIb3cgbWFueSBtaWxsaXNlY29uZHMgYXJlIGJldHdlZW5cbiAqIC8vIDIgSnVseSAyMDE0IDEyOjMwOjIwLjYwMCBhbmQgMiBKdWx5IDIwMTQgMTI6MzA6MjEuNzAwP1xuICogdmFyIHJlc3VsdCA9IGRpZmZlcmVuY2VJbk1pbGxpc2Vjb25kcyhcbiAqICAgbmV3IERhdGUoMjAxNCwgNiwgMiwgMTIsIDMwLCAyMSwgNzAwKSxcbiAqICAgbmV3IERhdGUoMjAxNCwgNiwgMiwgMTIsIDMwLCAyMCwgNjAwKVxuICogKVxuICogLy89PiAxMTAwXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzKGRpcnR5RGF0ZUxlZnQsIGRpcnR5RGF0ZVJpZ2h0KSB7XG4gIHJlcXVpcmVkQXJncygyLCBhcmd1bWVudHMpO1xuICB2YXIgZGF0ZUxlZnQgPSB0b0RhdGUoZGlydHlEYXRlTGVmdCk7XG4gIHZhciBkYXRlUmlnaHQgPSB0b0RhdGUoZGlydHlEYXRlUmlnaHQpO1xuICByZXR1cm4gZGF0ZUxlZnQuZ2V0VGltZSgpIC0gZGF0ZVJpZ2h0LmdldFRpbWUoKTtcbn0iLCJpbXBvcnQgZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzIGZyb20gJy4uL2RpZmZlcmVuY2VJbk1pbGxpc2Vjb25kcy9pbmRleC5qcyc7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gJy4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzJztcbi8qKlxuICogQG5hbWUgZGlmZmVyZW5jZUluU2Vjb25kc1xuICogQGNhdGVnb3J5IFNlY29uZCBIZWxwZXJzXG4gKiBAc3VtbWFyeSBHZXQgdGhlIG51bWJlciBvZiBzZWNvbmRzIGJldHdlZW4gdGhlIGdpdmVuIGRhdGVzLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogR2V0IHRoZSBudW1iZXIgb2Ygc2Vjb25kcyBiZXR3ZWVuIHRoZSBnaXZlbiBkYXRlcy5cbiAqXG4gKiAjIyMgdjIuMC4wIGJyZWFraW5nIGNoYW5nZXM6XG4gKlxuICogLSBbQ2hhbmdlcyB0aGF0IGFyZSBjb21tb24gZm9yIHRoZSB3aG9sZSBsaWJyYXJ5XShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91cGdyYWRlR3VpZGUubWQjQ29tbW9uLUNoYW5nZXMpLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGVMZWZ0IC0gdGhlIGxhdGVyIGRhdGVcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGVSaWdodCAtIHRoZSBlYXJsaWVyIGRhdGVcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHRoZSBudW1iZXIgb2Ygc2Vjb25kc1xuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBIb3cgbWFueSBzZWNvbmRzIGFyZSBiZXR3ZWVuXG4gKiAvLyAyIEp1bHkgMjAxNCAxMjozMDowNy45OTkgYW5kIDIgSnVseSAyMDE0IDEyOjMwOjIwLjAwMD9cbiAqIHZhciByZXN1bHQgPSBkaWZmZXJlbmNlSW5TZWNvbmRzKFxuICogICBuZXcgRGF0ZSgyMDE0LCA2LCAyLCAxMiwgMzAsIDIwLCAwKSxcbiAqICAgbmV3IERhdGUoMjAxNCwgNiwgMiwgMTIsIDMwLCA3LCA5OTkpXG4gKiApXG4gKiAvLz0+IDEyXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGlmZmVyZW5jZUluU2Vjb25kcyhkaXJ0eURhdGVMZWZ0LCBkaXJ0eURhdGVSaWdodCkge1xuICByZXF1aXJlZEFyZ3MoMiwgYXJndW1lbnRzKTtcbiAgdmFyIGRpZmYgPSBkaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQpIC8gMTAwMDtcbiAgcmV0dXJuIGRpZmYgPiAwID8gTWF0aC5mbG9vcihkaWZmKSA6IE1hdGguY2VpbChkaWZmKTtcbn0iLCJpbXBvcnQgYXNzaWduIGZyb20gJy4uL2Fzc2lnbi9pbmRleC5qcyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbG9uZU9iamVjdChkaXJ0eU9iamVjdCkge1xuICByZXR1cm4gYXNzaWduKHt9LCBkaXJ0eU9iamVjdCk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgZGlydHlPYmplY3QpIHtcbiAgaWYgKHRhcmdldCA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXNzaWduIHJlcXVpcmVzIHRoYXQgaW5wdXQgcGFyYW1ldGVyIG5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZCcpO1xuICB9XG5cbiAgZGlydHlPYmplY3QgPSBkaXJ0eU9iamVjdCB8fCB7fTtcblxuICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBkaXJ0eU9iamVjdCkge1xuICAgIGlmIChkaXJ0eU9iamVjdC5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgIHRhcmdldFtwcm9wZXJ0eV0gPSBkaXJ0eU9iamVjdFtwcm9wZXJ0eV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn0iLCJ2YXIgZm9ybWF0RGlzdGFuY2VMb2NhbGUgPSB7XG4gIGxlc3NUaGFuWFNlY29uZHM6IHtcbiAgICBvbmU6ICdsZXNzIHRoYW4gYSBzZWNvbmQnLFxuICAgIG90aGVyOiAnbGVzcyB0aGFuIHt7Y291bnR9fSBzZWNvbmRzJ1xuICB9LFxuICB4U2Vjb25kczoge1xuICAgIG9uZTogJzEgc2Vjb25kJyxcbiAgICBvdGhlcjogJ3t7Y291bnR9fSBzZWNvbmRzJ1xuICB9LFxuICBoYWxmQU1pbnV0ZTogJ2hhbGYgYSBtaW51dGUnLFxuICBsZXNzVGhhblhNaW51dGVzOiB7XG4gICAgb25lOiAnbGVzcyB0aGFuIGEgbWludXRlJyxcbiAgICBvdGhlcjogJ2xlc3MgdGhhbiB7e2NvdW50fX0gbWludXRlcydcbiAgfSxcbiAgeE1pbnV0ZXM6IHtcbiAgICBvbmU6ICcxIG1pbnV0ZScsXG4gICAgb3RoZXI6ICd7e2NvdW50fX0gbWludXRlcydcbiAgfSxcbiAgYWJvdXRYSG91cnM6IHtcbiAgICBvbmU6ICdhYm91dCAxIGhvdXInLFxuICAgIG90aGVyOiAnYWJvdXQge3tjb3VudH19IGhvdXJzJ1xuICB9LFxuICB4SG91cnM6IHtcbiAgICBvbmU6ICcxIGhvdXInLFxuICAgIG90aGVyOiAne3tjb3VudH19IGhvdXJzJ1xuICB9LFxuICB4RGF5czoge1xuICAgIG9uZTogJzEgZGF5JyxcbiAgICBvdGhlcjogJ3t7Y291bnR9fSBkYXlzJ1xuICB9LFxuICBhYm91dFhXZWVrczoge1xuICAgIG9uZTogJ2Fib3V0IDEgd2VlaycsXG4gICAgb3RoZXI6ICdhYm91dCB7e2NvdW50fX0gd2Vla3MnXG4gIH0sXG4gIHhXZWVrczoge1xuICAgIG9uZTogJzEgd2VlaycsXG4gICAgb3RoZXI6ICd7e2NvdW50fX0gd2Vla3MnXG4gIH0sXG4gIGFib3V0WE1vbnRoczoge1xuICAgIG9uZTogJ2Fib3V0IDEgbW9udGgnLFxuICAgIG90aGVyOiAnYWJvdXQge3tjb3VudH19IG1vbnRocydcbiAgfSxcbiAgeE1vbnRoczoge1xuICAgIG9uZTogJzEgbW9udGgnLFxuICAgIG90aGVyOiAne3tjb3VudH19IG1vbnRocydcbiAgfSxcbiAgYWJvdXRYWWVhcnM6IHtcbiAgICBvbmU6ICdhYm91dCAxIHllYXInLFxuICAgIG90aGVyOiAnYWJvdXQge3tjb3VudH19IHllYXJzJ1xuICB9LFxuICB4WWVhcnM6IHtcbiAgICBvbmU6ICcxIHllYXInLFxuICAgIG90aGVyOiAne3tjb3VudH19IHllYXJzJ1xuICB9LFxuICBvdmVyWFllYXJzOiB7XG4gICAgb25lOiAnb3ZlciAxIHllYXInLFxuICAgIG90aGVyOiAnb3ZlciB7e2NvdW50fX0geWVhcnMnXG4gIH0sXG4gIGFsbW9zdFhZZWFyczoge1xuICAgIG9uZTogJ2FsbW9zdCAxIHllYXInLFxuICAgIG90aGVyOiAnYWxtb3N0IHt7Y291bnR9fSB5ZWFycydcbiAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZvcm1hdERpc3RhbmNlKHRva2VuLCBjb3VudCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHJlc3VsdDtcblxuICBpZiAodHlwZW9mIGZvcm1hdERpc3RhbmNlTG9jYWxlW3Rva2VuXSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXN1bHQgPSBmb3JtYXREaXN0YW5jZUxvY2FsZVt0b2tlbl07XG4gIH0gZWxzZSBpZiAoY291bnQgPT09IDEpIHtcbiAgICByZXN1bHQgPSBmb3JtYXREaXN0YW5jZUxvY2FsZVt0b2tlbl0ub25lO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9IGZvcm1hdERpc3RhbmNlTG9jYWxlW3Rva2VuXS5vdGhlci5yZXBsYWNlKCd7e2NvdW50fX0nLCBjb3VudCk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5hZGRTdWZmaXgpIHtcbiAgICBpZiAob3B0aW9ucy5jb21wYXJpc29uID4gMCkge1xuICAgICAgcmV0dXJuICdpbiAnICsgcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgJyBhZ28nO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYnVpbGRGb3JtYXRMb25nRm4oYXJncykge1xuICByZXR1cm4gZnVuY3Rpb24gKGRpcnR5T3B0aW9ucykge1xuICAgIHZhciBvcHRpb25zID0gZGlydHlPcHRpb25zIHx8IHt9O1xuICAgIHZhciB3aWR0aCA9IG9wdGlvbnMud2lkdGggPyBTdHJpbmcob3B0aW9ucy53aWR0aCkgOiBhcmdzLmRlZmF1bHRXaWR0aDtcbiAgICB2YXIgZm9ybWF0ID0gYXJncy5mb3JtYXRzW3dpZHRoXSB8fCBhcmdzLmZvcm1hdHNbYXJncy5kZWZhdWx0V2lkdGhdO1xuICAgIHJldHVybiBmb3JtYXQ7XG4gIH07XG59IiwiaW1wb3J0IGJ1aWxkRm9ybWF0TG9uZ0ZuIGZyb20gJy4uLy4uLy4uL19saWIvYnVpbGRGb3JtYXRMb25nRm4vaW5kZXguanMnO1xudmFyIGRhdGVGb3JtYXRzID0ge1xuICBmdWxsOiAnRUVFRSwgTU1NTSBkbywgeScsXG4gIGxvbmc6ICdNTU1NIGRvLCB5JyxcbiAgbWVkaXVtOiAnTU1NIGQsIHknLFxuICBzaG9ydDogJ01NL2RkL3l5eXknXG59O1xudmFyIHRpbWVGb3JtYXRzID0ge1xuICBmdWxsOiAnaDptbTpzcyBhIHp6enonLFxuICBsb25nOiAnaDptbTpzcyBhIHonLFxuICBtZWRpdW06ICdoOm1tOnNzIGEnLFxuICBzaG9ydDogJ2g6bW0gYSdcbn07XG52YXIgZGF0ZVRpbWVGb3JtYXRzID0ge1xuICBmdWxsOiBcInt7ZGF0ZX19ICdhdCcge3t0aW1lfX1cIixcbiAgbG9uZzogXCJ7e2RhdGV9fSAnYXQnIHt7dGltZX19XCIsXG4gIG1lZGl1bTogJ3t7ZGF0ZX19LCB7e3RpbWV9fScsXG4gIHNob3J0OiAne3tkYXRlfX0sIHt7dGltZX19J1xufTtcbnZhciBmb3JtYXRMb25nID0ge1xuICBkYXRlOiBidWlsZEZvcm1hdExvbmdGbih7XG4gICAgZm9ybWF0czogZGF0ZUZvcm1hdHMsXG4gICAgZGVmYXVsdFdpZHRoOiAnZnVsbCdcbiAgfSksXG4gIHRpbWU6IGJ1aWxkRm9ybWF0TG9uZ0ZuKHtcbiAgICBmb3JtYXRzOiB0aW1lRm9ybWF0cyxcbiAgICBkZWZhdWx0V2lkdGg6ICdmdWxsJ1xuICB9KSxcbiAgZGF0ZVRpbWU6IGJ1aWxkRm9ybWF0TG9uZ0ZuKHtcbiAgICBmb3JtYXRzOiBkYXRlVGltZUZvcm1hdHMsXG4gICAgZGVmYXVsdFdpZHRoOiAnZnVsbCdcbiAgfSlcbn07XG5leHBvcnQgZGVmYXVsdCBmb3JtYXRMb25nOyIsInZhciBmb3JtYXRSZWxhdGl2ZUxvY2FsZSA9IHtcbiAgbGFzdFdlZWs6IFwiJ2xhc3QnIGVlZWUgJ2F0JyBwXCIsXG4gIHllc3RlcmRheTogXCIneWVzdGVyZGF5IGF0JyBwXCIsXG4gIHRvZGF5OiBcIid0b2RheSBhdCcgcFwiLFxuICB0b21vcnJvdzogXCIndG9tb3Jyb3cgYXQnIHBcIixcbiAgbmV4dFdlZWs6IFwiZWVlZSAnYXQnIHBcIixcbiAgb3RoZXI6ICdQJ1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZvcm1hdFJlbGF0aXZlKHRva2VuLCBfZGF0ZSwgX2Jhc2VEYXRlLCBfb3B0aW9ucykge1xuICByZXR1cm4gZm9ybWF0UmVsYXRpdmVMb2NhbGVbdG9rZW5dO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkTG9jYWxpemVGbihhcmdzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZGlydHlJbmRleCwgZGlydHlPcHRpb25zKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBkaXJ0eU9wdGlvbnMgfHwge307XG4gICAgdmFyIGNvbnRleHQgPSBvcHRpb25zLmNvbnRleHQgPyBTdHJpbmcob3B0aW9ucy5jb250ZXh0KSA6ICdzdGFuZGFsb25lJztcbiAgICB2YXIgdmFsdWVzQXJyYXk7XG5cbiAgICBpZiAoY29udGV4dCA9PT0gJ2Zvcm1hdHRpbmcnICYmIGFyZ3MuZm9ybWF0dGluZ1ZhbHVlcykge1xuICAgICAgdmFyIGRlZmF1bHRXaWR0aCA9IGFyZ3MuZGVmYXVsdEZvcm1hdHRpbmdXaWR0aCB8fCBhcmdzLmRlZmF1bHRXaWR0aDtcbiAgICAgIHZhciB3aWR0aCA9IG9wdGlvbnMud2lkdGggPyBTdHJpbmcob3B0aW9ucy53aWR0aCkgOiBkZWZhdWx0V2lkdGg7XG4gICAgICB2YWx1ZXNBcnJheSA9IGFyZ3MuZm9ybWF0dGluZ1ZhbHVlc1t3aWR0aF0gfHwgYXJncy5mb3JtYXR0aW5nVmFsdWVzW2RlZmF1bHRXaWR0aF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBfZGVmYXVsdFdpZHRoID0gYXJncy5kZWZhdWx0V2lkdGg7XG5cbiAgICAgIHZhciBfd2lkdGggPSBvcHRpb25zLndpZHRoID8gU3RyaW5nKG9wdGlvbnMud2lkdGgpIDogYXJncy5kZWZhdWx0V2lkdGg7XG5cbiAgICAgIHZhbHVlc0FycmF5ID0gYXJncy52YWx1ZXNbX3dpZHRoXSB8fCBhcmdzLnZhbHVlc1tfZGVmYXVsdFdpZHRoXTtcbiAgICB9XG5cbiAgICB2YXIgaW5kZXggPSBhcmdzLmFyZ3VtZW50Q2FsbGJhY2sgPyBhcmdzLmFyZ3VtZW50Q2FsbGJhY2soZGlydHlJbmRleCkgOiBkaXJ0eUluZGV4O1xuICAgIHJldHVybiB2YWx1ZXNBcnJheVtpbmRleF07XG4gIH07XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYnVpbGRNYXRjaEZuKGFyZ3MpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChkaXJ0eVN0cmluZywgZGlydHlPcHRpb25zKSB7XG4gICAgdmFyIHN0cmluZyA9IFN0cmluZyhkaXJ0eVN0cmluZyk7XG4gICAgdmFyIG9wdGlvbnMgPSBkaXJ0eU9wdGlvbnMgfHwge307XG4gICAgdmFyIHdpZHRoID0gb3B0aW9ucy53aWR0aDtcbiAgICB2YXIgbWF0Y2hQYXR0ZXJuID0gd2lkdGggJiYgYXJncy5tYXRjaFBhdHRlcm5zW3dpZHRoXSB8fCBhcmdzLm1hdGNoUGF0dGVybnNbYXJncy5kZWZhdWx0TWF0Y2hXaWR0aF07XG4gICAgdmFyIG1hdGNoUmVzdWx0ID0gc3RyaW5nLm1hdGNoKG1hdGNoUGF0dGVybik7XG5cbiAgICBpZiAoIW1hdGNoUmVzdWx0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgbWF0Y2hlZFN0cmluZyA9IG1hdGNoUmVzdWx0WzBdO1xuICAgIHZhciBwYXJzZVBhdHRlcm5zID0gd2lkdGggJiYgYXJncy5wYXJzZVBhdHRlcm5zW3dpZHRoXSB8fCBhcmdzLnBhcnNlUGF0dGVybnNbYXJncy5kZWZhdWx0UGFyc2VXaWR0aF07XG4gICAgdmFyIHZhbHVlO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwYXJzZVBhdHRlcm5zKSA9PT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgdmFsdWUgPSBmaW5kSW5kZXgocGFyc2VQYXR0ZXJucywgZnVuY3Rpb24gKHBhdHRlcm4pIHtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdChtYXRjaGVkU3RyaW5nKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSA9IGZpbmRLZXkocGFyc2VQYXR0ZXJucywgZnVuY3Rpb24gKHBhdHRlcm4pIHtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdChtYXRjaGVkU3RyaW5nKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhbHVlID0gYXJncy52YWx1ZUNhbGxiYWNrID8gYXJncy52YWx1ZUNhbGxiYWNrKHZhbHVlKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gb3B0aW9ucy52YWx1ZUNhbGxiYWNrID8gb3B0aW9ucy52YWx1ZUNhbGxiYWNrKHZhbHVlKSA6IHZhbHVlO1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICByZXN0OiBzdHJpbmcuc2xpY2UobWF0Y2hlZFN0cmluZy5sZW5ndGgpXG4gICAgfTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZmluZEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIHByZWRpY2F0ZShvYmplY3Rba2V5XSkpIHtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlKSB7XG4gIGZvciAodmFyIGtleSA9IDA7IGtleSA8IGFycmF5Lmxlbmd0aDsga2V5KyspIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2tleV0pKSB7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBidWlsZE1hdGNoUGF0dGVybkZuIGZyb20gJy4uLy4uLy4uL19saWIvYnVpbGRNYXRjaFBhdHRlcm5Gbi9pbmRleC5qcyc7XG5pbXBvcnQgYnVpbGRNYXRjaEZuIGZyb20gJy4uLy4uLy4uL19saWIvYnVpbGRNYXRjaEZuL2luZGV4LmpzJztcbnZhciBtYXRjaE9yZGluYWxOdW1iZXJQYXR0ZXJuID0gL14oXFxkKykodGh8c3R8bmR8cmQpPy9pO1xudmFyIHBhcnNlT3JkaW5hbE51bWJlclBhdHRlcm4gPSAvXFxkKy9pO1xudmFyIG1hdGNoRXJhUGF0dGVybnMgPSB7XG4gIG5hcnJvdzogL14oYnxhKS9pLFxuICBhYmJyZXZpYXRlZDogL14oYlxcLj9cXHM/Y1xcLj98YlxcLj9cXHM/Y1xcLj9cXHM/ZVxcLj98YVxcLj9cXHM/ZFxcLj98Y1xcLj9cXHM/ZVxcLj8pL2ksXG4gIHdpZGU6IC9eKGJlZm9yZSBjaHJpc3R8YmVmb3JlIGNvbW1vbiBlcmF8YW5ubyBkb21pbml8Y29tbW9uIGVyYSkvaVxufTtcbnZhciBwYXJzZUVyYVBhdHRlcm5zID0ge1xuICBhbnk6IFsvXmIvaSwgL14oYXxjKS9pXVxufTtcbnZhciBtYXRjaFF1YXJ0ZXJQYXR0ZXJucyA9IHtcbiAgbmFycm93OiAvXlsxMjM0XS9pLFxuICBhYmJyZXZpYXRlZDogL15xWzEyMzRdL2ksXG4gIHdpZGU6IC9eWzEyMzRdKHRofHN0fG5kfHJkKT8gcXVhcnRlci9pXG59O1xudmFyIHBhcnNlUXVhcnRlclBhdHRlcm5zID0ge1xuICBhbnk6IFsvMS9pLCAvMi9pLCAvMy9pLCAvNC9pXVxufTtcbnZhciBtYXRjaE1vbnRoUGF0dGVybnMgPSB7XG4gIG5hcnJvdzogL15bamZtYXNvbmRdL2ksXG4gIGFiYnJldmlhdGVkOiAvXihqYW58ZmVifG1hcnxhcHJ8bWF5fGp1bnxqdWx8YXVnfHNlcHxvY3R8bm92fGRlYykvaSxcbiAgd2lkZTogL14oamFudWFyeXxmZWJydWFyeXxtYXJjaHxhcHJpbHxtYXl8anVuZXxqdWx5fGF1Z3VzdHxzZXB0ZW1iZXJ8b2N0b2Jlcnxub3ZlbWJlcnxkZWNlbWJlcikvaVxufTtcbnZhciBwYXJzZU1vbnRoUGF0dGVybnMgPSB7XG4gIG5hcnJvdzogWy9eai9pLCAvXmYvaSwgL15tL2ksIC9eYS9pLCAvXm0vaSwgL15qL2ksIC9eai9pLCAvXmEvaSwgL15zL2ksIC9eby9pLCAvXm4vaSwgL15kL2ldLFxuICBhbnk6IFsvXmphL2ksIC9eZi9pLCAvXm1hci9pLCAvXmFwL2ksIC9ebWF5L2ksIC9eanVuL2ksIC9eanVsL2ksIC9eYXUvaSwgL15zL2ksIC9eby9pLCAvXm4vaSwgL15kL2ldXG59O1xudmFyIG1hdGNoRGF5UGF0dGVybnMgPSB7XG4gIG5hcnJvdzogL15bc210d2ZdL2ksXG4gIHNob3J0OiAvXihzdXxtb3x0dXx3ZXx0aHxmcnxzYSkvaSxcbiAgYWJicmV2aWF0ZWQ6IC9eKHN1bnxtb258dHVlfHdlZHx0aHV8ZnJpfHNhdCkvaSxcbiAgd2lkZTogL14oc3VuZGF5fG1vbmRheXx0dWVzZGF5fHdlZG5lc2RheXx0aHVyc2RheXxmcmlkYXl8c2F0dXJkYXkpL2lcbn07XG52YXIgcGFyc2VEYXlQYXR0ZXJucyA9IHtcbiAgbmFycm93OiBbL15zL2ksIC9ebS9pLCAvXnQvaSwgL153L2ksIC9edC9pLCAvXmYvaSwgL15zL2ldLFxuICBhbnk6IFsvXnN1L2ksIC9ebS9pLCAvXnR1L2ksIC9edy9pLCAvXnRoL2ksIC9eZi9pLCAvXnNhL2ldXG59O1xudmFyIG1hdGNoRGF5UGVyaW9kUGF0dGVybnMgPSB7XG4gIG5hcnJvdzogL14oYXxwfG1pfG58KGluIHRoZXxhdCkgKG1vcm5pbmd8YWZ0ZXJub29ufGV2ZW5pbmd8bmlnaHQpKS9pLFxuICBhbnk6IC9eKFthcF1cXC4/XFxzP21cXC4/fG1pZG5pZ2h0fG5vb258KGluIHRoZXxhdCkgKG1vcm5pbmd8YWZ0ZXJub29ufGV2ZW5pbmd8bmlnaHQpKS9pXG59O1xudmFyIHBhcnNlRGF5UGVyaW9kUGF0dGVybnMgPSB7XG4gIGFueToge1xuICAgIGFtOiAvXmEvaSxcbiAgICBwbTogL15wL2ksXG4gICAgbWlkbmlnaHQ6IC9ebWkvaSxcbiAgICBub29uOiAvXm5vL2ksXG4gICAgbW9ybmluZzogL21vcm5pbmcvaSxcbiAgICBhZnRlcm5vb246IC9hZnRlcm5vb24vaSxcbiAgICBldmVuaW5nOiAvZXZlbmluZy9pLFxuICAgIG5pZ2h0OiAvbmlnaHQvaVxuICB9XG59O1xudmFyIG1hdGNoID0ge1xuICBvcmRpbmFsTnVtYmVyOiBidWlsZE1hdGNoUGF0dGVybkZuKHtcbiAgICBtYXRjaFBhdHRlcm46IG1hdGNoT3JkaW5hbE51bWJlclBhdHRlcm4sXG4gICAgcGFyc2VQYXR0ZXJuOiBwYXJzZU9yZGluYWxOdW1iZXJQYXR0ZXJuLFxuICAgIHZhbHVlQ2FsbGJhY2s6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgfVxuICB9KSxcbiAgZXJhOiBidWlsZE1hdGNoRm4oe1xuICAgIG1hdGNoUGF0dGVybnM6IG1hdGNoRXJhUGF0dGVybnMsXG4gICAgZGVmYXVsdE1hdGNoV2lkdGg6ICd3aWRlJyxcbiAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZUVyYVBhdHRlcm5zLFxuICAgIGRlZmF1bHRQYXJzZVdpZHRoOiAnYW55J1xuICB9KSxcbiAgcXVhcnRlcjogYnVpbGRNYXRjaEZuKHtcbiAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaFF1YXJ0ZXJQYXR0ZXJucyxcbiAgICBkZWZhdWx0TWF0Y2hXaWR0aDogJ3dpZGUnLFxuICAgIHBhcnNlUGF0dGVybnM6IHBhcnNlUXVhcnRlclBhdHRlcm5zLFxuICAgIGRlZmF1bHRQYXJzZVdpZHRoOiAnYW55JyxcbiAgICB2YWx1ZUNhbGxiYWNrOiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHJldHVybiBpbmRleCArIDE7XG4gICAgfVxuICB9KSxcbiAgbW9udGg6IGJ1aWxkTWF0Y2hGbih7XG4gICAgbWF0Y2hQYXR0ZXJuczogbWF0Y2hNb250aFBhdHRlcm5zLFxuICAgIGRlZmF1bHRNYXRjaFdpZHRoOiAnd2lkZScsXG4gICAgcGFyc2VQYXR0ZXJuczogcGFyc2VNb250aFBhdHRlcm5zLFxuICAgIGRlZmF1bHRQYXJzZVdpZHRoOiAnYW55J1xuICB9KSxcbiAgZGF5OiBidWlsZE1hdGNoRm4oe1xuICAgIG1hdGNoUGF0dGVybnM6IG1hdGNoRGF5UGF0dGVybnMsXG4gICAgZGVmYXVsdE1hdGNoV2lkdGg6ICd3aWRlJyxcbiAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZURheVBhdHRlcm5zLFxuICAgIGRlZmF1bHRQYXJzZVdpZHRoOiAnYW55J1xuICB9KSxcbiAgZGF5UGVyaW9kOiBidWlsZE1hdGNoRm4oe1xuICAgIG1hdGNoUGF0dGVybnM6IG1hdGNoRGF5UGVyaW9kUGF0dGVybnMsXG4gICAgZGVmYXVsdE1hdGNoV2lkdGg6ICdhbnknLFxuICAgIHBhcnNlUGF0dGVybnM6IHBhcnNlRGF5UGVyaW9kUGF0dGVybnMsXG4gICAgZGVmYXVsdFBhcnNlV2lkdGg6ICdhbnknXG4gIH0pXG59O1xuZXhwb3J0IGRlZmF1bHQgbWF0Y2g7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYnVpbGRNYXRjaFBhdHRlcm5GbihhcmdzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZGlydHlTdHJpbmcsIGRpcnR5T3B0aW9ucykge1xuICAgIHZhciBzdHJpbmcgPSBTdHJpbmcoZGlydHlTdHJpbmcpO1xuICAgIHZhciBvcHRpb25zID0gZGlydHlPcHRpb25zIHx8IHt9O1xuICAgIHZhciBtYXRjaFJlc3VsdCA9IHN0cmluZy5tYXRjaChhcmdzLm1hdGNoUGF0dGVybik7XG5cbiAgICBpZiAoIW1hdGNoUmVzdWx0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgbWF0Y2hlZFN0cmluZyA9IG1hdGNoUmVzdWx0WzBdO1xuICAgIHZhciBwYXJzZVJlc3VsdCA9IHN0cmluZy5tYXRjaChhcmdzLnBhcnNlUGF0dGVybik7XG5cbiAgICBpZiAoIXBhcnNlUmVzdWx0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSBhcmdzLnZhbHVlQ2FsbGJhY2sgPyBhcmdzLnZhbHVlQ2FsbGJhY2socGFyc2VSZXN1bHRbMF0pIDogcGFyc2VSZXN1bHRbMF07XG4gICAgdmFsdWUgPSBvcHRpb25zLnZhbHVlQ2FsbGJhY2sgPyBvcHRpb25zLnZhbHVlQ2FsbGJhY2sodmFsdWUpIDogdmFsdWU7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIHJlc3Q6IHN0cmluZy5zbGljZShtYXRjaGVkU3RyaW5nLmxlbmd0aClcbiAgICB9O1xuICB9O1xufSIsImltcG9ydCBmb3JtYXREaXN0YW5jZSBmcm9tICcuL19saWIvZm9ybWF0RGlzdGFuY2UvaW5kZXguanMnO1xuaW1wb3J0IGZvcm1hdExvbmcgZnJvbSAnLi9fbGliL2Zvcm1hdExvbmcvaW5kZXguanMnO1xuaW1wb3J0IGZvcm1hdFJlbGF0aXZlIGZyb20gJy4vX2xpYi9mb3JtYXRSZWxhdGl2ZS9pbmRleC5qcyc7XG5pbXBvcnQgbG9jYWxpemUgZnJvbSAnLi9fbGliL2xvY2FsaXplL2luZGV4LmpzJztcbmltcG9ydCBtYXRjaCBmcm9tICcuL19saWIvbWF0Y2gvaW5kZXguanMnO1xuLyoqXG4gKiBAdHlwZSB7TG9jYWxlfVxuICogQGNhdGVnb3J5IExvY2FsZXNcbiAqIEBzdW1tYXJ5IEVuZ2xpc2ggbG9jYWxlIChVbml0ZWQgU3RhdGVzKS5cbiAqIEBsYW5ndWFnZSBFbmdsaXNoXG4gKiBAaXNvLTYzOS0yIGVuZ1xuICogQGF1dGhvciBTYXNoYSBLb3NzIFtAa29zc25vY29ycF17QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2tvc3Nub2NvcnB9XG4gKiBAYXV0aG9yIExlc2hhIEtvc3MgW0BsZXNoYWtvc3Nde0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9sZXNoYWtvc3N9XG4gKi9cblxudmFyIGxvY2FsZSA9IHtcbiAgY29kZTogJ2VuLVVTJyxcbiAgZm9ybWF0RGlzdGFuY2U6IGZvcm1hdERpc3RhbmNlLFxuICBmb3JtYXRMb25nOiBmb3JtYXRMb25nLFxuICBmb3JtYXRSZWxhdGl2ZTogZm9ybWF0UmVsYXRpdmUsXG4gIGxvY2FsaXplOiBsb2NhbGl6ZSxcbiAgbWF0Y2g6IG1hdGNoLFxuICBvcHRpb25zOiB7XG4gICAgd2Vla1N0YXJ0c09uOiAwXG4gICAgLyogU3VuZGF5ICovXG4gICAgLFxuICAgIGZpcnN0V2Vla0NvbnRhaW5zRGF0ZTogMVxuICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgbG9jYWxlOyIsImltcG9ydCBidWlsZExvY2FsaXplRm4gZnJvbSAnLi4vLi4vLi4vX2xpYi9idWlsZExvY2FsaXplRm4vaW5kZXguanMnO1xudmFyIGVyYVZhbHVlcyA9IHtcbiAgbmFycm93OiBbJ0InLCAnQSddLFxuICBhYmJyZXZpYXRlZDogWydCQycsICdBRCddLFxuICB3aWRlOiBbJ0JlZm9yZSBDaHJpc3QnLCAnQW5ubyBEb21pbmknXVxufTtcbnZhciBxdWFydGVyVmFsdWVzID0ge1xuICBuYXJyb3c6IFsnMScsICcyJywgJzMnLCAnNCddLFxuICBhYmJyZXZpYXRlZDogWydRMScsICdRMicsICdRMycsICdRNCddLFxuICB3aWRlOiBbJzFzdCBxdWFydGVyJywgJzJuZCBxdWFydGVyJywgJzNyZCBxdWFydGVyJywgJzR0aCBxdWFydGVyJ10gLy8gTm90ZTogaW4gRW5nbGlzaCwgdGhlIG5hbWVzIG9mIGRheXMgb2YgdGhlIHdlZWsgYW5kIG1vbnRocyBhcmUgY2FwaXRhbGl6ZWQuXG4gIC8vIElmIHlvdSBhcmUgbWFraW5nIGEgbmV3IGxvY2FsZSBiYXNlZCBvbiB0aGlzIG9uZSwgY2hlY2sgaWYgdGhlIHNhbWUgaXMgdHJ1ZSBmb3IgdGhlIGxhbmd1YWdlIHlvdSdyZSB3b3JraW5nIG9uLlxuICAvLyBHZW5lcmFsbHksIGZvcm1hdHRlZCBkYXRlcyBzaG91bGQgbG9vayBsaWtlIHRoZXkgYXJlIGluIHRoZSBtaWRkbGUgb2YgYSBzZW50ZW5jZSxcbiAgLy8gZS5nLiBpbiBTcGFuaXNoIGxhbmd1YWdlIHRoZSB3ZWVrZGF5cyBhbmQgbW9udGhzIHNob3VsZCBiZSBpbiB0aGUgbG93ZXJjYXNlLlxuXG59O1xudmFyIG1vbnRoVmFsdWVzID0ge1xuICBuYXJyb3c6IFsnSicsICdGJywgJ00nLCAnQScsICdNJywgJ0onLCAnSicsICdBJywgJ1MnLCAnTycsICdOJywgJ0QnXSxcbiAgYWJicmV2aWF0ZWQ6IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnXSxcbiAgd2lkZTogWydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ11cbn07XG52YXIgZGF5VmFsdWVzID0ge1xuICBuYXJyb3c6IFsnUycsICdNJywgJ1QnLCAnVycsICdUJywgJ0YnLCAnUyddLFxuICBzaG9ydDogWydTdScsICdNbycsICdUdScsICdXZScsICdUaCcsICdGcicsICdTYSddLFxuICBhYmJyZXZpYXRlZDogWydTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnXSxcbiAgd2lkZTogWydTdW5kYXknLCAnTW9uZGF5JywgJ1R1ZXNkYXknLCAnV2VkbmVzZGF5JywgJ1RodXJzZGF5JywgJ0ZyaWRheScsICdTYXR1cmRheSddXG59O1xudmFyIGRheVBlcmlvZFZhbHVlcyA9IHtcbiAgbmFycm93OiB7XG4gICAgYW06ICdhJyxcbiAgICBwbTogJ3AnLFxuICAgIG1pZG5pZ2h0OiAnbWknLFxuICAgIG5vb246ICduJyxcbiAgICBtb3JuaW5nOiAnbW9ybmluZycsXG4gICAgYWZ0ZXJub29uOiAnYWZ0ZXJub29uJyxcbiAgICBldmVuaW5nOiAnZXZlbmluZycsXG4gICAgbmlnaHQ6ICduaWdodCdcbiAgfSxcbiAgYWJicmV2aWF0ZWQ6IHtcbiAgICBhbTogJ0FNJyxcbiAgICBwbTogJ1BNJyxcbiAgICBtaWRuaWdodDogJ21pZG5pZ2h0JyxcbiAgICBub29uOiAnbm9vbicsXG4gICAgbW9ybmluZzogJ21vcm5pbmcnLFxuICAgIGFmdGVybm9vbjogJ2FmdGVybm9vbicsXG4gICAgZXZlbmluZzogJ2V2ZW5pbmcnLFxuICAgIG5pZ2h0OiAnbmlnaHQnXG4gIH0sXG4gIHdpZGU6IHtcbiAgICBhbTogJ2EubS4nLFxuICAgIHBtOiAncC5tLicsXG4gICAgbWlkbmlnaHQ6ICdtaWRuaWdodCcsXG4gICAgbm9vbjogJ25vb24nLFxuICAgIG1vcm5pbmc6ICdtb3JuaW5nJyxcbiAgICBhZnRlcm5vb246ICdhZnRlcm5vb24nLFxuICAgIGV2ZW5pbmc6ICdldmVuaW5nJyxcbiAgICBuaWdodDogJ25pZ2h0J1xuICB9XG59O1xudmFyIGZvcm1hdHRpbmdEYXlQZXJpb2RWYWx1ZXMgPSB7XG4gIG5hcnJvdzoge1xuICAgIGFtOiAnYScsXG4gICAgcG06ICdwJyxcbiAgICBtaWRuaWdodDogJ21pJyxcbiAgICBub29uOiAnbicsXG4gICAgbW9ybmluZzogJ2luIHRoZSBtb3JuaW5nJyxcbiAgICBhZnRlcm5vb246ICdpbiB0aGUgYWZ0ZXJub29uJyxcbiAgICBldmVuaW5nOiAnaW4gdGhlIGV2ZW5pbmcnLFxuICAgIG5pZ2h0OiAnYXQgbmlnaHQnXG4gIH0sXG4gIGFiYnJldmlhdGVkOiB7XG4gICAgYW06ICdBTScsXG4gICAgcG06ICdQTScsXG4gICAgbWlkbmlnaHQ6ICdtaWRuaWdodCcsXG4gICAgbm9vbjogJ25vb24nLFxuICAgIG1vcm5pbmc6ICdpbiB0aGUgbW9ybmluZycsXG4gICAgYWZ0ZXJub29uOiAnaW4gdGhlIGFmdGVybm9vbicsXG4gICAgZXZlbmluZzogJ2luIHRoZSBldmVuaW5nJyxcbiAgICBuaWdodDogJ2F0IG5pZ2h0J1xuICB9LFxuICB3aWRlOiB7XG4gICAgYW06ICdhLm0uJyxcbiAgICBwbTogJ3AubS4nLFxuICAgIG1pZG5pZ2h0OiAnbWlkbmlnaHQnLFxuICAgIG5vb246ICdub29uJyxcbiAgICBtb3JuaW5nOiAnaW4gdGhlIG1vcm5pbmcnLFxuICAgIGFmdGVybm9vbjogJ2luIHRoZSBhZnRlcm5vb24nLFxuICAgIGV2ZW5pbmc6ICdpbiB0aGUgZXZlbmluZycsXG4gICAgbmlnaHQ6ICdhdCBuaWdodCdcbiAgfVxufTtcblxuZnVuY3Rpb24gb3JkaW5hbE51bWJlcihkaXJ0eU51bWJlciwgX2RpcnR5T3B0aW9ucykge1xuICB2YXIgbnVtYmVyID0gTnVtYmVyKGRpcnR5TnVtYmVyKTsgLy8gSWYgb3JkaW5hbCBudW1iZXJzIGRlcGVuZCBvbiBjb250ZXh0LCBmb3IgZXhhbXBsZSxcbiAgLy8gaWYgdGhleSBhcmUgZGlmZmVyZW50IGZvciBkaWZmZXJlbnQgZ3JhbW1hdGljYWwgZ2VuZGVycyxcbiAgLy8gdXNlIGBvcHRpb25zLnVuaXRgOlxuICAvL1xuICAvLyAgIHZhciBvcHRpb25zID0gZGlydHlPcHRpb25zIHx8IHt9XG4gIC8vICAgdmFyIHVuaXQgPSBTdHJpbmcob3B0aW9ucy51bml0KVxuICAvL1xuICAvLyB3aGVyZSBgdW5pdGAgY2FuIGJlICd5ZWFyJywgJ3F1YXJ0ZXInLCAnbW9udGgnLCAnd2VlaycsICdkYXRlJywgJ2RheU9mWWVhcicsXG4gIC8vICdkYXknLCAnaG91cicsICdtaW51dGUnLCAnc2Vjb25kJ1xuXG4gIHZhciByZW0xMDAgPSBudW1iZXIgJSAxMDA7XG5cbiAgaWYgKHJlbTEwMCA+IDIwIHx8IHJlbTEwMCA8IDEwKSB7XG4gICAgc3dpdGNoIChyZW0xMDAgJSAxMCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gbnVtYmVyICsgJ3N0JztcblxuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gbnVtYmVyICsgJ25kJztcblxuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gbnVtYmVyICsgJ3JkJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVtYmVyICsgJ3RoJztcbn1cblxudmFyIGxvY2FsaXplID0ge1xuICBvcmRpbmFsTnVtYmVyOiBvcmRpbmFsTnVtYmVyLFxuICBlcmE6IGJ1aWxkTG9jYWxpemVGbih7XG4gICAgdmFsdWVzOiBlcmFWYWx1ZXMsXG4gICAgZGVmYXVsdFdpZHRoOiAnd2lkZSdcbiAgfSksXG4gIHF1YXJ0ZXI6IGJ1aWxkTG9jYWxpemVGbih7XG4gICAgdmFsdWVzOiBxdWFydGVyVmFsdWVzLFxuICAgIGRlZmF1bHRXaWR0aDogJ3dpZGUnLFxuICAgIGFyZ3VtZW50Q2FsbGJhY2s6IGZ1bmN0aW9uIChxdWFydGVyKSB7XG4gICAgICByZXR1cm4gTnVtYmVyKHF1YXJ0ZXIpIC0gMTtcbiAgICB9XG4gIH0pLFxuICBtb250aDogYnVpbGRMb2NhbGl6ZUZuKHtcbiAgICB2YWx1ZXM6IG1vbnRoVmFsdWVzLFxuICAgIGRlZmF1bHRXaWR0aDogJ3dpZGUnXG4gIH0pLFxuICBkYXk6IGJ1aWxkTG9jYWxpemVGbih7XG4gICAgdmFsdWVzOiBkYXlWYWx1ZXMsXG4gICAgZGVmYXVsdFdpZHRoOiAnd2lkZSdcbiAgfSksXG4gIGRheVBlcmlvZDogYnVpbGRMb2NhbGl6ZUZuKHtcbiAgICB2YWx1ZXM6IGRheVBlcmlvZFZhbHVlcyxcbiAgICBkZWZhdWx0V2lkdGg6ICd3aWRlJyxcbiAgICBmb3JtYXR0aW5nVmFsdWVzOiBmb3JtYXR0aW5nRGF5UGVyaW9kVmFsdWVzLFxuICAgIGRlZmF1bHRGb3JtYXR0aW5nV2lkdGg6ICd3aWRlJ1xuICB9KVxufTtcbmV4cG9ydCBkZWZhdWx0IGxvY2FsaXplOyIsImltcG9ydCBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzIGZyb20gJy4uL19saWIvZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcy9pbmRleC5qcyc7XG5pbXBvcnQgY29tcGFyZUFzYyBmcm9tICcuLi9jb21wYXJlQXNjL2luZGV4LmpzJztcbmltcG9ydCB0b0RhdGUgZnJvbSAnLi4vdG9EYXRlL2luZGV4LmpzJztcbmltcG9ydCBkaWZmZXJlbmNlSW5TZWNvbmRzIGZyb20gJy4uL2RpZmZlcmVuY2VJblNlY29uZHMvaW5kZXguanMnO1xuaW1wb3J0IGNsb25lT2JqZWN0IGZyb20gJy4uL19saWIvY2xvbmVPYmplY3QvaW5kZXguanMnO1xuaW1wb3J0IGRlZmF1bHRMb2NhbGUgZnJvbSAnLi4vbG9jYWxlL2VuLVVTL2luZGV4LmpzJztcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSAnLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanMnO1xudmFyIE1JTlVURVNfSU5fREFZID0gMTQ0MDtcbnZhciBNSU5VVEVTX0lOX01PTlRIID0gNDMyMDA7XG52YXIgTUlOVVRFU19JTl9ZRUFSID0gNTI1NjAwO1xuLyoqXG4gKiBAbmFtZSBmb3JtYXREaXN0YW5jZVN0cmljdFxuICogQGNhdGVnb3J5IENvbW1vbiBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIGdpdmVuIGRhdGVzIGluIHdvcmRzLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBnaXZlbiBkYXRlcyBpbiB3b3JkcywgdXNpbmcgc3RyaWN0IHVuaXRzLlxuICogVGhpcyBpcyBsaWtlIGBmb3JtYXREaXN0YW5jZWAsIGJ1dCBkb2VzIG5vdCB1c2UgaGVscGVycyBsaWtlICdhbG1vc3QnLCAnb3ZlcicsXG4gKiAnbGVzcyB0aGFuJyBhbmQgdGhlIGxpa2UuXG4gKlxuICogfCBEaXN0YW5jZSBiZXR3ZWVuIGRhdGVzIHwgUmVzdWx0ICAgICAgICAgICAgICB8XG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwgMCAuLi4gNTkgc2VjcyAgICAgICAgICB8IFswLi41OV0gc2Vjb25kcyAgICAgfFxuICogfCAxIC4uLiA1OSBtaW5zICAgICAgICAgIHwgWzEuLjU5XSBtaW51dGVzICAgICB8XG4gKiB8IDEgLi4uIDIzIGhycyAgICAgICAgICAgfCBbMS4uMjNdIGhvdXJzICAgICAgIHxcbiAqIHwgMSAuLi4gMjkgZGF5cyAgICAgICAgICB8IFsxLi4yOV0gZGF5cyAgICAgICAgfFxuICogfCAxIC4uLiAxMSBtb250aHMgICAgICAgIHwgWzEuLjExXSBtb250aHMgICAgICB8XG4gKiB8IDEgLi4uIE4geWVhcnMgICAgICAgICAgfCBbMS4uTl0gIHllYXJzICAgICAgIHxcbiAqXG4gKiAjIyMgdjIuMC4wIGJyZWFraW5nIGNoYW5nZXM6XG4gKlxuICogLSBbQ2hhbmdlcyB0aGF0IGFyZSBjb21tb24gZm9yIHRoZSB3aG9sZSBsaWJyYXJ5XShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91cGdyYWRlR3VpZGUubWQjQ29tbW9uLUNoYW5nZXMpLlxuICpcbiAqIC0gVGhlIGZ1bmN0aW9uIHdhcyByZW5hbWVkIGZyb20gYGRpc3RhbmNlSW5Xb3Jkc1N0cmljdGAgdG8gYGZvcm1hdERpc3RhbmNlU3RyaWN0YFxuICogICB0byBtYWtlIGl0cyBuYW1lIGNvbnNpc3RlbnQgd2l0aCBgZm9ybWF0YCBhbmQgYGZvcm1hdFJlbGF0aXZlYC5cbiAqXG4gKiAtIFRoZSBvcmRlciBvZiBhcmd1bWVudHMgaXMgc3dhcHBlZCB0byBtYWtlIHRoZSBmdW5jdGlvblxuICogICBjb25zaXN0ZW50IHdpdGggYGRpZmZlcmVuY2VJbi4uLmAgZnVuY3Rpb25zLlxuICpcbiAqICAgYGBgamF2YXNjcmlwdFxuICogICAvLyBCZWZvcmUgdjIuMC4wXG4gKlxuICogICBkaXN0YW5jZUluV29yZHNTdHJpY3QoXG4gKiAgICAgbmV3IERhdGUoMjAxNSwgMCwgMiksXG4gKiAgICAgbmV3IERhdGUoMjAxNCwgNiwgMilcbiAqICAgKSAvLz0+ICc2IG1vbnRocydcbiAqXG4gKiAgIC8vIHYyLjAuMCBvbndhcmRcbiAqXG4gKiAgIGZvcm1hdERpc3RhbmNlU3RyaWN0KFxuICogICAgIG5ldyBEYXRlKDIwMTQsIDYsIDIpLFxuICogICAgIG5ldyBEYXRlKDIwMTUsIDAsIDIpXG4gKiAgICkgLy89PiAnNiBtb250aHMnXG4gKiAgIGBgYFxuICpcbiAqIC0gYHBhcnRpYWxNZXRob2RgIG9wdGlvbiBpcyByZW5hbWVkIHRvIGByb3VuZGluZ01ldGhvZGAuXG4gKlxuICogICBgYGBqYXZhc2NyaXB0XG4gKiAgIC8vIEJlZm9yZSB2Mi4wLjBcbiAqXG4gKiAgIGRpc3RhbmNlSW5Xb3Jkc1N0cmljdChcbiAqICAgICBuZXcgRGF0ZSgxOTg2LCAzLCA0LCAxMCwgMzIsIDApLFxuICogICAgIG5ldyBEYXRlKDE5ODYsIDMsIDQsIDEwLCAzMywgMSksXG4gKiAgICAgeyBwYXJ0aWFsTWV0aG9kOiAnY2VpbCcgfVxuICogICApIC8vPT4gJzIgbWludXRlcydcbiAqXG4gKiAgIC8vIHYyLjAuMCBvbndhcmRcbiAqXG4gKiAgIGZvcm1hdERpc3RhbmNlU3RyaWN0KFxuICogICAgIG5ldyBEYXRlKDE5ODYsIDMsIDQsIDEwLCAzMywgMSksXG4gKiAgICAgbmV3IERhdGUoMTk4NiwgMywgNCwgMTAsIDMyLCAwKSxcbiAqICAgICB7IHJvdW5kaW5nTWV0aG9kOiAnY2VpbCcgfVxuICogICApIC8vPT4gJzIgbWludXRlcydcbiAqICAgYGBgXG4gKlxuICogLSBJZiBgcm91bmRpbmdNZXRob2RgIGlzIG5vdCBzcGVjaWZpZWQsIGl0IG5vdyBkZWZhdWx0cyB0byBgcm91bmRgIGluc3RlYWQgb2YgYGZsb29yYC5cbiAqXG4gKiAtIGB1bml0YCBvcHRpb24gbm93IGFjY2VwdHMgb25lIG9mIHRoZSBzdHJpbmdzOlxuICogICAnc2Vjb25kJywgJ21pbnV0ZScsICdob3VyJywgJ2RheScsICdtb250aCcgb3IgJ3llYXInIGluc3RlYWQgb2YgJ3MnLCAnbScsICdoJywgJ2QnLCAnTScgb3IgJ1knXG4gKlxuICogICBgYGBqYXZhc2NyaXB0XG4gKiAgIC8vIEJlZm9yZSB2Mi4wLjBcbiAqXG4gKiAgIGRpc3RhbmNlSW5Xb3Jkc1N0cmljdChcbiAqICAgICBuZXcgRGF0ZSgxOTg2LCAzLCA0LCAxMCwgMzIsIDApLFxuICogICAgIG5ldyBEYXRlKDE5ODYsIDMsIDQsIDEwLCAzMywgMSksXG4gKiAgICAgeyB1bml0OiAnbScgfVxuICogICApXG4gKlxuICogICAvLyB2Mi4wLjAgb253YXJkXG4gKlxuICogICBmb3JtYXREaXN0YW5jZVN0cmljdChcbiAqICAgICBuZXcgRGF0ZSgxOTg2LCAzLCA0LCAxMCwgMzMsIDEpLFxuICogICAgIG5ldyBEYXRlKDE5ODYsIDMsIDQsIDEwLCAzMiwgMCksXG4gKiAgICAgeyB1bml0OiAnbWludXRlJyB9XG4gKiAgIClcbiAqICAgYGBgXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZSAtIHRoZSBkYXRlXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBiYXNlRGF0ZSAtIHRoZSBkYXRlIHRvIGNvbXBhcmUgd2l0aFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmFkZFN1ZmZpeD1mYWxzZV0gLSByZXN1bHQgaW5kaWNhdGVzIGlmIHRoZSBzZWNvbmQgZGF0ZSBpcyBlYXJsaWVyIG9yIGxhdGVyIHRoYW4gdGhlIGZpcnN0XG4gKiBAcGFyYW0geydzZWNvbmQnfCdtaW51dGUnfCdob3VyJ3wnZGF5J3wnbW9udGgnfCd5ZWFyJ30gW29wdGlvbnMudW5pdF0gLSBpZiBzcGVjaWZpZWQsIHdpbGwgZm9yY2UgYSB1bml0XG4gKiBAcGFyYW0geydmbG9vcid8J2NlaWwnfCdyb3VuZCd9IFtvcHRpb25zLnJvdW5kaW5nTWV0aG9kPSdyb3VuZCddIC0gd2hpY2ggd2F5IHRvIHJvdW5kIHBhcnRpYWwgdW5pdHNcbiAqIEBwYXJhbSB7TG9jYWxlfSBbb3B0aW9ucy5sb2NhbGU9ZGVmYXVsdExvY2FsZV0gLSB0aGUgbG9jYWxlIG9iamVjdC4gU2VlIFtMb2NhbGVde0BsaW5rIGh0dHBzOi8vZGF0ZS1mbnMub3JnL2RvY3MvTG9jYWxlfVxuICogQHJldHVybnMge1N0cmluZ30gdGhlIGRpc3RhbmNlIGluIHdvcmRzXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDIgYXJndW1lbnRzIHJlcXVpcmVkXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBgZGF0ZWAgbXVzdCBub3QgYmUgSW52YWxpZCBEYXRlXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBgYmFzZURhdGVgIG11c3Qgbm90IGJlIEludmFsaWQgRGF0ZVxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gYG9wdGlvbnMucm91bmRpbmdNZXRob2RgIG11c3QgYmUgJ2Zsb29yJywgJ2NlaWwnIG9yICdyb3VuZCdcbiAqIEB0aHJvd3Mge1JhbmdlRXJyb3J9IGBvcHRpb25zLnVuaXRgIG11c3QgYmUgJ3NlY29uZCcsICdtaW51dGUnLCAnaG91cicsICdkYXknLCAnbW9udGgnIG9yICd5ZWFyJ1xuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gYG9wdGlvbnMubG9jYWxlYCBtdXN0IGNvbnRhaW4gYGZvcm1hdERpc3RhbmNlYCBwcm9wZXJ0eVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBXaGF0IGlzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIDIgSnVseSAyMDE0IGFuZCAxIEphbnVhcnkgMjAxNT9cbiAqIHZhciByZXN1bHQgPSBmb3JtYXREaXN0YW5jZVN0cmljdChuZXcgRGF0ZSgyMDE0LCA2LCAyKSwgbmV3IERhdGUoMjAxNSwgMCwgMikpXG4gKiAvLz0+ICc2IG1vbnRocydcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gV2hhdCBpcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiAxIEphbnVhcnkgMjAxNSAwMDowMDoxNVxuICogLy8gYW5kIDEgSmFudWFyeSAyMDE1IDAwOjAwOjAwP1xuICogdmFyIHJlc3VsdCA9IGZvcm1hdERpc3RhbmNlU3RyaWN0KFxuICogICBuZXcgRGF0ZSgyMDE1LCAwLCAxLCAwLCAwLCAxNSksXG4gKiAgIG5ldyBEYXRlKDIwMTUsIDAsIDEsIDAsIDAsIDApXG4gKiApXG4gKiAvLz0+ICcxNSBzZWNvbmRzJ1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBXaGF0IGlzIHRoZSBkaXN0YW5jZSBmcm9tIDEgSmFudWFyeSAyMDE2XG4gKiAvLyB0byAxIEphbnVhcnkgMjAxNSwgd2l0aCBhIHN1ZmZpeD9cbiAqIHZhciByZXN1bHQgPSBmb3JtYXREaXN0YW5jZVN0cmljdChuZXcgRGF0ZSgyMDE1LCAwLCAxKSwgbmV3IERhdGUoMjAxNiwgMCwgMSksIHtcbiAqICAgYWRkU3VmZml4OiB0cnVlXG4gKiB9KVxuICogLy89PiAnMSB5ZWFyIGFnbydcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gV2hhdCBpcyB0aGUgZGlzdGFuY2UgZnJvbSAxIEphbnVhcnkgMjAxNlxuICogLy8gdG8gMSBKYW51YXJ5IDIwMTUsIGluIG1pbnV0ZXM/XG4gKiB2YXIgcmVzdWx0ID0gZm9ybWF0RGlzdGFuY2VTdHJpY3QobmV3IERhdGUoMjAxNiwgMCwgMSksIG5ldyBEYXRlKDIwMTUsIDAsIDEpLCB7XG4gKiAgIHVuaXQ6ICdtaW51dGUnXG4gKiB9KVxuICogLy89PiAnNTI1NjAwIG1pbnV0ZXMnXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoYXQgaXMgdGhlIGRpc3RhbmNlIGZyb20gMSBKYW51YXJ5IDIwMTVcbiAqIC8vIHRvIDI4IEphbnVhcnkgMjAxNSwgaW4gbW9udGhzLCByb3VuZGVkIHVwP1xuICogdmFyIHJlc3VsdCA9IGZvcm1hdERpc3RhbmNlU3RyaWN0KG5ldyBEYXRlKDIwMTUsIDAsIDI4KSwgbmV3IERhdGUoMjAxNSwgMCwgMSksIHtcbiAqICAgdW5pdDogJ21vbnRoJyxcbiAqICAgcm91bmRpbmdNZXRob2Q6ICdjZWlsJ1xuICogfSlcbiAqIC8vPT4gJzEgbW9udGgnXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoYXQgaXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gMSBBdWd1c3QgMjAxNiBhbmQgMSBKYW51YXJ5IDIwMTUgaW4gRXNwZXJhbnRvP1xuICogaW1wb3J0IHsgZW9Mb2NhbGUgfSBmcm9tICdkYXRlLWZucy9sb2NhbGUvZW8nXG4gKiB2YXIgcmVzdWx0ID0gZm9ybWF0RGlzdGFuY2VTdHJpY3QobmV3IERhdGUoMjAxNiwgNywgMSksIG5ldyBEYXRlKDIwMTUsIDAsIDEpLCB7XG4gKiAgIGxvY2FsZTogZW9Mb2NhbGVcbiAqIH0pXG4gKiAvLz0+ICcxIGphcm8nXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZm9ybWF0RGlzdGFuY2VTdHJpY3QoZGlydHlEYXRlLCBkaXJ0eUJhc2VEYXRlLCBkaXJ0eU9wdGlvbnMpIHtcbiAgcmVxdWlyZWRBcmdzKDIsIGFyZ3VtZW50cyk7XG4gIHZhciBvcHRpb25zID0gZGlydHlPcHRpb25zIHx8IHt9O1xuICB2YXIgbG9jYWxlID0gb3B0aW9ucy5sb2NhbGUgfHwgZGVmYXVsdExvY2FsZTtcblxuICBpZiAoIWxvY2FsZS5mb3JtYXREaXN0YW5jZSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdsb2NhbGUgbXVzdCBjb250YWluIGxvY2FsaXplLmZvcm1hdERpc3RhbmNlIHByb3BlcnR5Jyk7XG4gIH1cblxuICB2YXIgY29tcGFyaXNvbiA9IGNvbXBhcmVBc2MoZGlydHlEYXRlLCBkaXJ0eUJhc2VEYXRlKTtcblxuICBpZiAoaXNOYU4oY29tcGFyaXNvbikpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCB0aW1lIHZhbHVlJyk7XG4gIH1cblxuICB2YXIgbG9jYWxpemVPcHRpb25zID0gY2xvbmVPYmplY3Qob3B0aW9ucyk7XG4gIGxvY2FsaXplT3B0aW9ucy5hZGRTdWZmaXggPSBCb29sZWFuKG9wdGlvbnMuYWRkU3VmZml4KTtcbiAgbG9jYWxpemVPcHRpb25zLmNvbXBhcmlzb24gPSBjb21wYXJpc29uO1xuICB2YXIgZGF0ZUxlZnQ7XG4gIHZhciBkYXRlUmlnaHQ7XG5cbiAgaWYgKGNvbXBhcmlzb24gPiAwKSB7XG4gICAgZGF0ZUxlZnQgPSB0b0RhdGUoZGlydHlCYXNlRGF0ZSk7XG4gICAgZGF0ZVJpZ2h0ID0gdG9EYXRlKGRpcnR5RGF0ZSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0ZUxlZnQgPSB0b0RhdGUoZGlydHlEYXRlKTtcbiAgICBkYXRlUmlnaHQgPSB0b0RhdGUoZGlydHlCYXNlRGF0ZSk7XG4gIH1cblxuICB2YXIgcm91bmRpbmdNZXRob2QgPSBvcHRpb25zLnJvdW5kaW5nTWV0aG9kID09IG51bGwgPyAncm91bmQnIDogU3RyaW5nKG9wdGlvbnMucm91bmRpbmdNZXRob2QpO1xuICB2YXIgcm91bmRpbmdNZXRob2RGbjtcblxuICBpZiAocm91bmRpbmdNZXRob2QgPT09ICdmbG9vcicpIHtcbiAgICByb3VuZGluZ01ldGhvZEZuID0gTWF0aC5mbG9vcjtcbiAgfSBlbHNlIGlmIChyb3VuZGluZ01ldGhvZCA9PT0gJ2NlaWwnKSB7XG4gICAgcm91bmRpbmdNZXRob2RGbiA9IE1hdGguY2VpbDtcbiAgfSBlbHNlIGlmIChyb3VuZGluZ01ldGhvZCA9PT0gJ3JvdW5kJykge1xuICAgIHJvdW5kaW5nTWV0aG9kRm4gPSBNYXRoLnJvdW5kO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwicm91bmRpbmdNZXRob2QgbXVzdCBiZSAnZmxvb3InLCAnY2VpbCcgb3IgJ3JvdW5kJ1wiKTtcbiAgfVxuXG4gIHZhciBzZWNvbmRzID0gZGlmZmVyZW5jZUluU2Vjb25kcyhkYXRlUmlnaHQsIGRhdGVMZWZ0KTtcbiAgdmFyIG9mZnNldEluU2Vjb25kcyA9IChnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzKGRhdGVSaWdodCkgLSBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzKGRhdGVMZWZ0KSkgLyAxMDAwO1xuICB2YXIgbWludXRlcyA9IHJvdW5kaW5nTWV0aG9kRm4oKHNlY29uZHMgLSBvZmZzZXRJblNlY29uZHMpIC8gNjApO1xuICB2YXIgdW5pdDtcblxuICBpZiAob3B0aW9ucy51bml0ID09IG51bGwpIHtcbiAgICBpZiAobWludXRlcyA8IDEpIHtcbiAgICAgIHVuaXQgPSAnc2Vjb25kJztcbiAgICB9IGVsc2UgaWYgKG1pbnV0ZXMgPCA2MCkge1xuICAgICAgdW5pdCA9ICdtaW51dGUnO1xuICAgIH0gZWxzZSBpZiAobWludXRlcyA8IE1JTlVURVNfSU5fREFZKSB7XG4gICAgICB1bml0ID0gJ2hvdXInO1xuICAgIH0gZWxzZSBpZiAobWludXRlcyA8IE1JTlVURVNfSU5fTU9OVEgpIHtcbiAgICAgIHVuaXQgPSAnZGF5JztcbiAgICB9IGVsc2UgaWYgKG1pbnV0ZXMgPCBNSU5VVEVTX0lOX1lFQVIpIHtcbiAgICAgIHVuaXQgPSAnbW9udGgnO1xuICAgIH0gZWxzZSB7XG4gICAgICB1bml0ID0gJ3llYXInO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB1bml0ID0gU3RyaW5nKG9wdGlvbnMudW5pdCk7XG4gIH0gLy8gMCB1cCB0byA2MCBzZWNvbmRzXG5cblxuICBpZiAodW5pdCA9PT0gJ3NlY29uZCcpIHtcbiAgICByZXR1cm4gbG9jYWxlLmZvcm1hdERpc3RhbmNlKCd4U2Vjb25kcycsIHNlY29uZHMsIGxvY2FsaXplT3B0aW9ucyk7IC8vIDEgdXAgdG8gNjAgbWluc1xuICB9IGVsc2UgaWYgKHVuaXQgPT09ICdtaW51dGUnKSB7XG4gICAgcmV0dXJuIGxvY2FsZS5mb3JtYXREaXN0YW5jZSgneE1pbnV0ZXMnLCBtaW51dGVzLCBsb2NhbGl6ZU9wdGlvbnMpOyAvLyAxIHVwIHRvIDI0IGhvdXJzXG4gIH0gZWxzZSBpZiAodW5pdCA9PT0gJ2hvdXInKSB7XG4gICAgdmFyIGhvdXJzID0gcm91bmRpbmdNZXRob2RGbihtaW51dGVzIC8gNjApO1xuICAgIHJldHVybiBsb2NhbGUuZm9ybWF0RGlzdGFuY2UoJ3hIb3VycycsIGhvdXJzLCBsb2NhbGl6ZU9wdGlvbnMpOyAvLyAxIHVwIHRvIDMwIGRheXNcbiAgfSBlbHNlIGlmICh1bml0ID09PSAnZGF5Jykge1xuICAgIHZhciBkYXlzID0gcm91bmRpbmdNZXRob2RGbihtaW51dGVzIC8gTUlOVVRFU19JTl9EQVkpO1xuICAgIHJldHVybiBsb2NhbGUuZm9ybWF0RGlzdGFuY2UoJ3hEYXlzJywgZGF5cywgbG9jYWxpemVPcHRpb25zKTsgLy8gMSB1cCB0byAxMiBtb250aHNcbiAgfSBlbHNlIGlmICh1bml0ID09PSAnbW9udGgnKSB7XG4gICAgdmFyIG1vbnRocyA9IHJvdW5kaW5nTWV0aG9kRm4obWludXRlcyAvIE1JTlVURVNfSU5fTU9OVEgpO1xuICAgIHJldHVybiBsb2NhbGUuZm9ybWF0RGlzdGFuY2UoJ3hNb250aHMnLCBtb250aHMsIGxvY2FsaXplT3B0aW9ucyk7IC8vIDEgeWVhciB1cCB0byBtYXggRGF0ZVxuICB9IGVsc2UgaWYgKHVuaXQgPT09ICd5ZWFyJykge1xuICAgIHZhciB5ZWFycyA9IHJvdW5kaW5nTWV0aG9kRm4obWludXRlcyAvIE1JTlVURVNfSU5fWUVBUik7XG4gICAgcmV0dXJuIGxvY2FsZS5mb3JtYXREaXN0YW5jZSgneFllYXJzJywgeWVhcnMsIGxvY2FsaXplT3B0aW9ucyk7XG4gIH1cblxuICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInVuaXQgbXVzdCBiZSAnc2Vjb25kJywgJ21pbnV0ZScsICdob3VyJywgJ2RheScsICdtb250aCcgb3IgJ3llYXInXCIpO1xufSIsImltcG9ydCB0b0RhdGUgZnJvbSAnLi4vdG9EYXRlL2luZGV4LmpzJztcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSAnLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanMnO1xuLyoqXG4gKiBAbmFtZSBzdGFydE9mRGF5XG4gKiBAY2F0ZWdvcnkgRGF5IEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgc3RhcnQgb2YgYSBkYXkgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhIGRheSBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqICMjIyB2Mi4wLjAgYnJlYWtpbmcgY2hhbmdlczpcbiAqXG4gKiAtIFtDaGFuZ2VzIHRoYXQgYXJlIGNvbW1vbiBmb3IgdGhlIHdob2xlIGxpYnJhcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNDb21tb24tQ2hhbmdlcykuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZSAtIHRoZSBvcmlnaW5hbCBkYXRlXG4gKiBAcmV0dXJucyB7RGF0ZX0gdGhlIHN0YXJ0IG9mIGEgZGF5XG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIHN0YXJ0IG9mIGEgZGF5IGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogdmFyIHJlc3VsdCA9IHN0YXJ0T2ZEYXkobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSlcbiAqIC8vPT4gVHVlIFNlcCAwMiAyMDE0IDAwOjAwOjAwXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RhcnRPZkRheShkaXJ0eURhdGUpIHtcbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIHZhciBkYXRlID0gdG9EYXRlKGRpcnR5RGF0ZSk7XG4gIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIHJldHVybiBkYXRlO1xufSIsImltcG9ydCBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzIGZyb20gJy4uL19saWIvZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcy9pbmRleC5qcyc7XG5pbXBvcnQgc3RhcnRPZkRheSBmcm9tICcuLi9zdGFydE9mRGF5L2luZGV4LmpzJztcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSAnLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanMnO1xudmFyIE1JTExJU0VDT05EU19JTl9EQVkgPSA4NjQwMDAwMDtcbi8qKlxuICogQG5hbWUgZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzXG4gKiBAY2F0ZWdvcnkgRGF5IEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEdldCB0aGUgbnVtYmVyIG9mIGNhbGVuZGFyIGRheXMgYmV0d2VlbiB0aGUgZ2l2ZW4gZGF0ZXMuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBHZXQgdGhlIG51bWJlciBvZiBjYWxlbmRhciBkYXlzIGJldHdlZW4gdGhlIGdpdmVuIGRhdGVzLiBUaGlzIG1lYW5zIHRoYXQgdGhlIHRpbWVzIGFyZSByZW1vdmVkXG4gKiBmcm9tIHRoZSBkYXRlcyBhbmQgdGhlbiB0aGUgZGlmZmVyZW5jZSBpbiBkYXlzIGlzIGNhbGN1bGF0ZWQuXG4gKlxuICogIyMjIHYyLjAuMCBicmVha2luZyBjaGFuZ2VzOlxuICpcbiAqIC0gW0NoYW5nZXMgdGhhdCBhcmUgY29tbW9uIGZvciB0aGUgd2hvbGUgbGlicmFyeV0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdXBncmFkZUd1aWRlLm1kI0NvbW1vbi1DaGFuZ2VzKS5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlTGVmdCAtIHRoZSBsYXRlciBkYXRlXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlUmlnaHQgLSB0aGUgZWFybGllciBkYXRlXG4gKiBAcmV0dXJucyB7TnVtYmVyfSB0aGUgbnVtYmVyIG9mIGNhbGVuZGFyIGRheXNcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMiBhcmd1bWVudHMgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSG93IG1hbnkgY2FsZW5kYXIgZGF5cyBhcmUgYmV0d2VlblxuICogLy8gMiBKdWx5IDIwMTEgMjM6MDA6MDAgYW5kIDIgSnVseSAyMDEyIDAwOjAwOjAwP1xuICogdmFyIHJlc3VsdCA9IGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyhcbiAqICAgbmV3IERhdGUoMjAxMiwgNiwgMiwgMCwgMCksXG4gKiAgIG5ldyBEYXRlKDIwMTEsIDYsIDIsIDIzLCAwKVxuICogKVxuICogLy89PiAzNjZcbiAqIC8vIEhvdyBtYW55IGNhbGVuZGFyIGRheXMgYXJlIGJldHdlZW5cbiAqIC8vIDIgSnVseSAyMDExIDIzOjU5OjAwIGFuZCAzIEp1bHkgMjAxMSAwMDowMTowMD9cbiAqIHZhciByZXN1bHQgPSBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMoXG4gKiAgIG5ldyBEYXRlKDIwMTEsIDYsIDMsIDAsIDEpLFxuICogICBuZXcgRGF0ZSgyMDExLCA2LCAyLCAyMywgNTkpXG4gKiApXG4gKiAvLz0+IDFcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQpIHtcbiAgcmVxdWlyZWRBcmdzKDIsIGFyZ3VtZW50cyk7XG4gIHZhciBzdGFydE9mRGF5TGVmdCA9IHN0YXJ0T2ZEYXkoZGlydHlEYXRlTGVmdCk7XG4gIHZhciBzdGFydE9mRGF5UmlnaHQgPSBzdGFydE9mRGF5KGRpcnR5RGF0ZVJpZ2h0KTtcbiAgdmFyIHRpbWVzdGFtcExlZnQgPSBzdGFydE9mRGF5TGVmdC5nZXRUaW1lKCkgLSBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzKHN0YXJ0T2ZEYXlMZWZ0KTtcbiAgdmFyIHRpbWVzdGFtcFJpZ2h0ID0gc3RhcnRPZkRheVJpZ2h0LmdldFRpbWUoKSAtIGdldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMoc3RhcnRPZkRheVJpZ2h0KTsgLy8gUm91bmQgdGhlIG51bWJlciBvZiBkYXlzIHRvIHRoZSBuZWFyZXN0IGludGVnZXJcbiAgLy8gYmVjYXVzZSB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpbiBhIGRheSBpcyBub3QgY29uc3RhbnRcbiAgLy8gKGUuZy4gaXQncyBkaWZmZXJlbnQgaW4gdGhlIGRheSBvZiB0aGUgZGF5bGlnaHQgc2F2aW5nIHRpbWUgY2xvY2sgc2hpZnQpXG5cbiAgcmV0dXJuIE1hdGgucm91bmQoKHRpbWVzdGFtcExlZnQgLSB0aW1lc3RhbXBSaWdodCkgLyBNSUxMSVNFQ09ORFNfSU5fREFZKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IGZvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3QgZnJvbSBcImRhdGUtZm5zL2Zvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3RcIjtcbmltcG9ydCBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMgZnJvbSAnZGF0ZS1mbnMvZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzJztcblxuY29uc3QgZ3JvdXBDb250YWluZXIgPSAoKCkgPT4ge1xuICBjb25zdCBfY3VzdG9tR3JvdXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jdXN0b20tZ3JvdXBzLWNvbnRhaW5lclwiKTtcblxuICBjb25zdCBfY2xlYXIgPSAoKSA9PiB7XG4gICAgd2hpbGUgKF9jdXN0b21Hcm91cHMuZmlyc3RDaGlsZCkge1xuICAgICAgX2N1c3RvbUdyb3Vwcy5yZW1vdmVDaGlsZChfY3VzdG9tR3JvdXBzLmZpcnN0Q2hpbGQpO1xuICAgIH07XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyID0gKGxpc3QpID0+IHtcbiAgICBfY2xlYXIoKTtcbiAgICBPYmplY3Qua2V5cyhsaXN0KS5mb3JFYWNoKGdyb3VwID0+IHtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICBidXR0b24uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcbiAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIGBHcm91cCBuYW1lOiAke2dyb3VwfWApO1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjdXN0b20tZ3JvdXBcIiwgXCJmb2N1c2FibGVcIiwgXCJncm91cC1idG5cIik7XG4gICAgICBidXR0b24udGV4dENvbnRlbnQgPSBncm91cDtcbiAgICAgIF9jdXN0b21Hcm91cHMuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4ge3JlbmRlcn1cbn0pKCk7XG5cbmNvbnN0IHRhc2tDb250YWluZXIgPSAoKCkgPT4ge1xuICBjb25zdCBfdGFza0hlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VsZWN0ZWQtZ3JvdXBcIik7XG4gIGNvbnN0IF90YXNrc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2stY29udGFpbmVyXCIpO1xuXG4gIGNvbnN0IF9jbGVhciA9ICgpID0+IHtcbiAgICB3aGlsZSAoX3Rhc2tzTGlzdC5maXJzdENoaWxkKSB7XG4gICAgICBfdGFza3NMaXN0LnJlbW92ZUNoaWxkKF90YXNrc0xpc3QuZmlyc3RDaGlsZCk7XG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBfY2hlY2tEYXRlID0gKGRhdGUpID0+IHtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZSgoZGF0ZSkuc3BsaXQoXCItXCIpLmpvaW4oXCIsIFwiKSk7XG4gICAgcmV0dXJuIGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyhuZXdEYXRlLCBub3cpO1xuICB9O1xuXG4gIGNvbnN0IF9mb3JtYXR0ZWREYXRlID0gKGRhdGUpID0+IHtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZSgoZGF0ZSkuc3BsaXQoXCItXCIpLmpvaW4oXCIsIFwiKSk7XG4gIFxuICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgY2FzZSBkYXRlID09PSBcIlwiOlxuICAgICAgICByZXR1cm4gXCJObyBkdWUgZGF0ZVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKG5ld0RhdGUsIG5vdykgPCAwOlxuICAgICAgICByZXR1cm4gXCJEdWUgZGF0ZSBwYXNzZWRcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyhuZXdEYXRlLCBub3cpID09PSAwOlxuICAgICAgICByZXR1cm4gXCJUb2RheVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKG5ld0RhdGUsIG5vdykgPT09IDE6XG4gICAgICAgIHJldHVybiBcIlRvbW9ycm93XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMobmV3RGF0ZSwgbm93KSA8PSAyOTpcbiAgICAgICAgcmV0dXJuIGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyhuZXdEYXRlLCBub3cpICsgXCIgZGF5c1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0KG5ld0RhdGUpO1xuICAgICAgICBicmVhaztcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IF9yZW5kZXIgPSAodGFzaywgZ3JvdXAsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgdGFza0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiKTtcbiAgICB0YXNrSXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWdyb3VwXCIsIGdyb3VwKTtcbiAgICB0YXNrSXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIsIGluZGV4KTtcbiAgICB0YXNrSXRlbS5jbGFzc05hbWUgPSBcInRhc2staXRlbVwiO1xuXG4gICAgY29uc3QgcHJpb3JpdHlCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBwcmlvcml0eUJveC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIGAke3Rhc2sucHJpb3JpdHl9IHRhc2tgKTtcbiAgICBwcmlvcml0eUJveC5jbGFzc05hbWUgPSBcInRhc2stcHJpb3JpdHlcIlxuICAgIGlmICh0YXNrLnByaW9yaXR5ID09PSBcIkltcG9ydGFudFwiKSB7XG4gICAgICBjb25zdCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICBpY29uLmNsYXNzTmFtZSA9IFwibWF0ZXJpYWwtaWNvbnNcIjtcbiAgICAgIGljb24udGV4dENvbnRlbnQgPSBcInByaW9yaXR5X2hpZ2hcIjtcbiAgICAgIHByaW9yaXR5Qm94LmFwcGVuZENoaWxkKGljb24pO1xuICAgIH07XG5cbiAgICBjb25zdCBzdGF0dXNCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBzdGF0dXNCb3guc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImNoZWNrYm94XCIpO1xuICAgIHN0YXR1c0JveC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICBzdGF0dXNCb3guc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwgXCIwXCIpO1xuICAgIHN0YXR1c0JveC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIHRhc2sudGFza05hbWUpO1xuICAgIHN0YXR1c0JveC5jbGFzc0xpc3QuYWRkKFwidGFzay1zdGF0dXNcIiwgXCJmb2N1c2FibGVcIik7XG4gICAgaWYgKHRhc2suY29tcGxldGVkKSB7XG4gICAgICBzdGF0dXNCb3guc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXG4gICAgICBcInVybChhc3NldHMvaW1hZ2VzL2ljb25zL2RvbmUtYmxhY2stMjRkcC5zdmcpXCI7XG4gICAgfTtcblxuICAgIGNvbnN0IG5hbWVGaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIG5hbWVGaWVsZC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwiYnV0dG9uXCIpO1xuICAgIG5hbWVGaWVsZC5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLCBcIjBcIik7XG4gICAgbmFtZUZpZWxkLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgYERldGFpbHMgZm9yICR7dGFzay50YXNrTmFtZX1gKTtcbiAgICBuYW1lRmllbGQuY2xhc3NMaXN0LmFkZChcInRhc2stbmFtZVwiLCBcImZvY3VzYWJsZVwiKTtcbiAgICBuYW1lRmllbGQudGV4dENvbnRlbnQgPSB0YXNrLnRhc2tOYW1lO1xuXG4gICAgY29uc3QgZGF0ZUZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgZGF0ZUZpZWxkLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXG4gICAgICAgIGBEdWUgZGF0ZSBmb3IgdGFzayAke3Rhc2sudGFza05hbWV9OiAke3Rhc2suZHVlRGF0ZX1gKTtcbiAgICBkYXRlRmllbGQuY2xhc3NOYW1lID0gXCJ0YXNrLWRhdGVcIjtcbiAgICBkYXRlRmllbGQudGV4dENvbnRlbnQgPSBfZm9ybWF0dGVkRGF0ZSh0YXNrLmR1ZURhdGUpO1xuXG4gICAgY29uc3QgZGV0YWlscyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGV0YWlscy5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRhc2tcIiwgdGFzay50YXNrTmFtZSk7XG4gICAgZGV0YWlscy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWdyb3VwXCIsIGdyb3VwKTtcbiAgICBkZXRhaWxzLnNldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIiwgaW5kZXgpO1xuICAgIGRldGFpbHMuY2xhc3NOYW1lID0gXCJ0YXNrLWRldGFpbHNcIjtcblxuICAgIGNvbnN0IG5vdGVzRmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBub3Rlc0ZpZWxkLmNsYXNzTmFtZSA9IFwidGFzay1ub3Rlc1wiO1xuICAgIG5vdGVzRmllbGQudGV4dENvbnRlbnQgPSB0YXNrLm5vdGVzO1xuXG4gICAgY29uc3QgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgZWRpdEJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xuICAgIGVkaXRCdG4uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBgRWRpdCB0YXNrICR7dGFzay50YXNrTmFtZX1gKTtcbiAgICBlZGl0QnRuLmNsYXNzTGlzdC5hZGQoXCJlZGl0LWJ0blwiLCBcImZvY3VzYWJsZVwiKTtcbiAgICBlZGl0QnRuLnRleHRDb250ZW50ID0gXCJFRElUXCI7XG5cbiAgICBjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGRlbGV0ZUJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xuICAgIGRlbGV0ZUJ0bi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIGBEZWxldGUgdGFzayAke3Rhc2sudGFza05hbWV9YCk7XG4gICAgZGVsZXRlQnRuLmNsYXNzTGlzdC5hZGQoXCJkZWxldGUtYnRuXCIsIFwiZm9jdXNhYmxlXCIpO1xuICAgIGRlbGV0ZUJ0bi50ZXh0Q29udGVudCA9IFwiREVMRVRFXCI7XG5cbiAgICBkZXRhaWxzLmFwcGVuZENoaWxkKG5vdGVzRmllbGQpO1xuICAgIGRldGFpbHMuYXBwZW5kQ2hpbGQoZWRpdEJ0bik7XG4gICAgZGV0YWlscy5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xuICAgIHRhc2tJdGVtLmFwcGVuZENoaWxkKHByaW9yaXR5Qm94KTtcbiAgICB0YXNrSXRlbS5hcHBlbmRDaGlsZChzdGF0dXNCb3gpO1xuICAgIHRhc2tJdGVtLmFwcGVuZENoaWxkKG5hbWVGaWVsZCk7XG4gICAgdGFza0l0ZW0uYXBwZW5kQ2hpbGQoZGF0ZUZpZWxkKTtcbiAgICB0YXNrSXRlbS5hcHBlbmRDaGlsZChkZXRhaWxzKTtcbiAgICBfdGFza3NMaXN0LmFwcGVuZENoaWxkKHRhc2tJdGVtKTtcbiAgfTtcblxuICBjb25zdCBsb2FkR3JvdXBUYXNrcyA9IChsaXN0LCB0YXJnZXQpID0+IHtcbiAgICBjb25zdCBrZXlBcnJheSA9IE9iamVjdC5rZXlzKGxpc3QpO1xuICAgIF9jbGVhcigpO1xuICAgIHN3aXRjaCAodGFyZ2V0KSB7XG4gICAgICBjYXNlIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW1wb3J0YW50XCIpOlxuICAgICAgICBPYmplY3QudmFsdWVzKGxpc3QpLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaXRlbVtpXS5wcmlvcml0eSA9PT0gXCJJbXBvcnRhbnRcIikge1xuICAgICAgICAgICAgICBfcmVuZGVyKGl0ZW1baV0sIGtleUFycmF5W2luZGV4XSwgaSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXh0LTctZGF5c1wiKTpcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhsaXN0KS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKF9jaGVja0RhdGUoaXRlbVtpXS5kdWVEYXRlKSA8PSA3KSB7XG4gICAgICAgICAgICAgIF9yZW5kZXIoaXRlbVtpXSwga2V5QXJyYXlbaW5kZXhdLCBpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxhdGVyXCIpOlxuICAgICAgICBPYmplY3QudmFsdWVzKGxpc3QpLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoX2NoZWNrRGF0ZShpdGVtW2ldLmR1ZURhdGUpID4gNykge1xuICAgICAgICAgICAgICBfcmVuZGVyKGl0ZW1baV0sIGtleUFycmF5W2luZGV4XSwgaSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJldmVudHVhbGx5XCIpOlxuICAgICAgICBPYmplY3QudmFsdWVzKGxpc3QpLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaXRlbVtpXS5kdWVEYXRlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgIF9yZW5kZXIoaXRlbVtpXSwga2V5QXJyYXlbaW5kZXhdLCBpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbGlzdFt0YXJnZXQudGV4dENvbnRlbnRdLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgX3JlbmRlcihpdGVtLCB0YXJnZXQudGV4dENvbnRlbnQsIGluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH07XG4gICAgaWYgKF90YXNrc0xpc3QuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBoMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcbiAgICAgIGgyLnRleHRDb250ZW50ID0gXCJObyB0YXNrcyBmb3IgdGhpcyBncm91cCFcIjtcbiAgICAgIF90YXNrc0xpc3QuYXBwZW5kQ2hpbGQoaDIpO1xuICAgIH07XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlSGVhZGVyID0gKHRhcmdldCkgPT4ge1xuICAgIF90YXNrSGVhZGVyLnRleHRDb250ZW50ID0gdGFyZ2V0LnRleHRDb250ZW50O1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgbG9hZEdyb3VwVGFza3MsXG4gICAgdXBkYXRlSGVhZGVyXG4gIH1cbn0pKCk7XG5cbmV4cG9ydCB7IGdyb3VwQ29udGFpbmVyLCB0YXNrQ29udGFpbmVyIH0iLCJpbXBvcnQgZGlzdGFuY2VJblN0cmljdFdvcmRzIGZyb20gJy4uL2Zvcm1hdERpc3RhbmNlU3RyaWN0L2luZGV4LmpzJztcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSAnLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanMnO1xuLyoqXG4gKiBAbmFtZSBmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0XG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgZ2l2ZW4gZGF0ZSBhbmQgbm93IGluIHdvcmRzLlxuICogQHB1cmUgZmFsc2VcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgZ2l2ZW4gZGF0ZXMgaW4gd29yZHMsIHVzaW5nIHN0cmljdCB1bml0cy5cbiAqIFRoaXMgaXMgbGlrZSBgZm9ybWF0RGlzdGFuY2VgLCBidXQgZG9lcyBub3QgdXNlIGhlbHBlcnMgbGlrZSAnYWxtb3N0JywgJ292ZXInLFxuICogJ2xlc3MgdGhhbicgYW5kIHRoZSBsaWtlLlxuICpcbiAqIHwgRGlzdGFuY2UgYmV0d2VlbiBkYXRlcyB8IFJlc3VsdCAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IDAgLi4uIDU5IHNlY3MgICAgICAgICAgfCBbMC4uNTldIHNlY29uZHMgICAgIHxcbiAqIHwgMSAuLi4gNTkgbWlucyAgICAgICAgICB8IFsxLi41OV0gbWludXRlcyAgICAgfFxuICogfCAxIC4uLiAyMyBocnMgICAgICAgICAgIHwgWzEuLjIzXSBob3VycyAgICAgICB8XG4gKiB8IDEgLi4uIDI5IGRheXMgICAgICAgICAgfCBbMS4uMjldIGRheXMgICAgICAgIHxcbiAqIHwgMSAuLi4gMTEgbW9udGhzICAgICAgICB8IFsxLi4xMV0gbW9udGhzICAgICAgfFxuICogfCAxIC4uLiBOIHllYXJzICAgICAgICAgIHwgWzEuLk5dICB5ZWFycyAgICAgICB8XG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZSAtIHRoZSBnaXZlbiBkYXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucy5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYWRkU3VmZml4PWZhbHNlXSAtIHJlc3VsdCBpbmRpY2F0ZXMgaWYgdGhlIHNlY29uZCBkYXRlIGlzIGVhcmxpZXIgb3IgbGF0ZXIgdGhhbiB0aGUgZmlyc3RcbiAqIEBwYXJhbSB7J3NlY29uZCd8J21pbnV0ZSd8J2hvdXInfCdkYXknfCdtb250aCd8J3llYXInfSBbb3B0aW9ucy51bml0XSAtIGlmIHNwZWNpZmllZCwgd2lsbCBmb3JjZSBhIHVuaXRcbiAqIEBwYXJhbSB7J2Zsb29yJ3wnY2VpbCd8J3JvdW5kJ30gW29wdGlvbnMucm91bmRpbmdNZXRob2Q9J3JvdW5kJ10gLSB3aGljaCB3YXkgdG8gcm91bmQgcGFydGlhbCB1bml0c1xuICogQHBhcmFtIHtMb2NhbGV9IFtvcHRpb25zLmxvY2FsZT1kZWZhdWx0TG9jYWxlXSAtIHRoZSBsb2NhbGUgb2JqZWN0LiBTZWUgW0xvY2FsZV17QGxpbmsgaHR0cHM6Ly9kYXRlLWZucy5vcmcvZG9jcy9Mb2NhbGV9XG4gKiBAcmV0dXJucyB7U3RyaW5nfSB0aGUgZGlzdGFuY2UgaW4gd29yZHNcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gYGRhdGVgIG11c3Qgbm90IGJlIEludmFsaWQgRGF0ZVxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gYG9wdGlvbnMubG9jYWxlYCBtdXN0IGNvbnRhaW4gYGZvcm1hdERpc3RhbmNlYCBwcm9wZXJ0eVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0b2RheSBpcyAxIEphbnVhcnkgMjAxNSwgd2hhdCBpcyB0aGUgZGlzdGFuY2UgdG8gMiBKdWx5IDIwMTQ/XG4gKiB2YXIgcmVzdWx0ID0gZm9ybWF0RGlzdGFuY2VUb05vd1N0cmljdChcbiAqICAgbmV3IERhdGUoMjAxNCwgNiwgMilcbiAqIClcbiAqIC8vPT4gJzYgbW9udGhzJ1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiBub3cgaXMgMSBKYW51YXJ5IDIwMTUgMDA6MDA6MDAsXG4gKiAvLyB3aGF0IGlzIHRoZSBkaXN0YW5jZSB0byAxIEphbnVhcnkgMjAxNSAwMDowMDoxNSwgaW5jbHVkaW5nIHNlY29uZHM/XG4gKiB2YXIgcmVzdWx0ID0gZm9ybWF0RGlzdGFuY2VUb05vd1N0cmljdChcbiAqICAgbmV3IERhdGUoMjAxNSwgMCwgMSwgMCwgMCwgMTUpXG4gKiApXG4gKiAvLz0+ICcyMCBzZWNvbmRzJ1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0b2RheSBpcyAxIEphbnVhcnkgMjAxNSxcbiAqIC8vIHdoYXQgaXMgdGhlIGRpc3RhbmNlIHRvIDEgSmFudWFyeSAyMDE2LCB3aXRoIGEgc3VmZml4P1xuICogdmFyIHJlc3VsdCA9IGZvcm1hdERpc3RhbmNlVG9Ob3dTdHJpY3QoXG4gKiAgIG5ldyBEYXRlKDIwMTYsIDAsIDEpLFxuICogICB7YWRkU3VmZml4OiB0cnVlfVxuICogKVxuICogLy89PiAnaW4gMSB5ZWFyJ1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0b2RheSBpcyAyOCBKYW51YXJ5IDIwMTUsXG4gKiAvLyB3aGF0IGlzIHRoZSBkaXN0YW5jZSB0byAxIEphbnVhcnkgMjAxNSwgaW4gbW9udGhzLCByb3VuZGVkIHVwPz9cbiAqIHZhciByZXN1bHQgPSBmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0KG5ldyBEYXRlKDIwMTUsIDAsIDEpLCB7XG4gKiAgIHVuaXQ6ICdtb250aCcsXG4gKiAgIHJvdW5kaW5nTWV0aG9kOiAnY2VpbCdcbiAqIH0pXG4gKiAvLz0+ICcxIG1vbnRoJ1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0b2RheSBpcyAxIEphbnVhcnkgMjAxNSxcbiAqIC8vIHdoYXQgaXMgdGhlIGRpc3RhbmNlIHRvIDEgQXVndXN0IDIwMTYgaW4gRXNwZXJhbnRvP1xuICogdmFyIGVvTG9jYWxlID0gcmVxdWlyZSgnZGF0ZS1mbnMvbG9jYWxlL2VvJylcbiAqIHZhciByZXN1bHQgPSBmb3JtYXREaXN0YW5jZVRvTm93U3RyaWN0KFxuICogICBuZXcgRGF0ZSgyMDE2LCA3LCAxKSxcbiAqICAge2xvY2FsZTogZW9Mb2NhbGV9XG4gKiApXG4gKiAvLz0+ICcxIGphcm8nXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZm9ybWF0RGlzdGFuY2VUb05vd1N0cmljdChkaXJ0eURhdGUsIGRpcnR5T3B0aW9ucykge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGRpc3RhbmNlSW5TdHJpY3RXb3JkcyhkaXJ0eURhdGUsIERhdGUubm93KCksIGRpcnR5T3B0aW9ucyk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IGdlbmVyYWxNb2RhbCwgdGFza01vZGFsIH0gZnJvbSBcIi4vbW9kYWxzXCI7XG5pbXBvcnQgeyBncm91cENvbnRhaW5lciwgdGFza0NvbnRhaW5lciB9IGZyb20gXCIuL3JlbmRlci1jb250YWluZXJzXCI7XG5cbmNvbnN0IERPTSA9ICgoKSA9PiB7XG4gIGNvbnN0IGFjdGl2ZU9uTG9hZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW1wb3J0YW50XCIpO1xuICBjb25zdCBkZWZhdWx0R3JvdXBzID0gW1wiSW1wb3J0YW50XCIsIFwiTmV4dCA3IERheXNcIiwgXCJMYXRlclwiLCBcIkV2ZW50dWFsbHlcIl07XG4gIGNvbnN0IG1vZGFsQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1ib3hcIik7XG4gIGNvbnN0IHRhc2tIZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlbGVjdGVkLWdyb3VwXCIpO1xuICBcbiAgcmV0dXJuIHtcbiAgICBhY3RpdmVPbkxvYWQsXG4gICAgZGVmYXVsdEdyb3VwcyxcbiAgICBtb2RhbEJveCxcbiAgICB0YXNrSGVhZGVyXG4gIH1cbn0pKCk7XG5cbmNvbnN0IHRvRG8gPSAoKCkgPT4ge1xuICBjb25zdCBtYXN0ZXJMaXN0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRvRG8tbGlzdFwiKSkgfHwgXG4gICAge1xuICAgICAgRXhhbXBsZTogW1xuICAgICAgICB7XG4gICAgICAgICAgdGFza05hbWU6IFwiRG8gdGhlIGRpc2hlc1wiLFxuICAgICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgcHJpb3JpdHk6IFwiTm9ybWFsXCIsXG4gICAgICAgICAgZHVlRGF0ZTogXCJcIixcbiAgICAgICAgICBub3RlczpcbiAgICAgICAgICAgIFwiTGV0IHRoZSBwYW5zIHNvYWssIHB1dCB0aGUgcGxhdGVzIGluIHRoZSBkaXNod2FzaGVyLCB3YXNoIHRoZSBtdWdzIGJ5IGhhbmQuXFxuXFxuV2FzaCBwYW5zIGFmdGVyIDMwIG1pbnV0ZXMgc29ha2luZy5cIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRhc2tOYW1lOiBcIkJyaW5nIE11ZmZpbiB0byB2ZXRcIixcbiAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICAgIHByaW9yaXR5OiBcIkltcG9ydGFudFwiLFxuICAgICAgICAgIGR1ZURhdGU6IFwiMjAyMS0xMi0zMVwiLFxuICAgICAgICAgIG5vdGVzOiBcIlBhY2sgaGVyIGZhdm9yaXRlIHRveSBzbyBzaGUgc3RheXMgY2FsbS5cIixcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfTtcblxuICBjb25zdCBzYXZlVG9Mb2NhbCA9ICgpID0+IHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvRG8tbGlzdFwiLCBKU09OLnN0cmluZ2lmeShsaXN0KSk7XG4gIH07XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIChlKSA9PiB7XG4gICAgZ3JvdXBDb250YWluZXIucmVuZGVyKG1hc3Rlckxpc3QpO1xuICAgIHRhc2tDb250YWluZXIubG9hZEdyb3VwVGFza3MobWFzdGVyTGlzdCwgRE9NLmFjdGl2ZU9uTG9hZCk7XG4gIH0pO1xuXG4gIHJldHVybiB7IFxuICAgIG1hc3Rlckxpc3QsXG4gICAgc2F2ZVRvTG9jYWxcbiAgfVxufSkoKTtcblxuY29uc3QgZ3JvdXBzID0gKCgpID0+IHtcbiAgY29uc3QgX3NldEluYWN0aXZlID0gKCkgPT4ge1xuICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImdyb3VwLWJ0blwiKSkuZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlID0gKG5hbWUpID0+IHtcbiAgICB0b0RvLm1hc3Rlckxpc3RbbmFtZV0gPSBbXTtcbiAgICBjb25zb2xlLmxvZyh0b0RvLm1hc3Rlckxpc3QpO1xuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZSA9IChvbGROYW1lLCBuZXdOYW1lKSA9PiB7XG4gICAgZGVsZXRlIE9iamVjdC5hc3NpZ24odG9Eby5tYXN0ZXJMaXN0LCB7W25ld05hbWVdOiB0b0RvLm1hc3Rlckxpc3Rbb2xkTmFtZV19KVtvbGROYW1lXTtcbiAgICBjb25zb2xlLmxvZyh0b0RvLm1hc3Rlckxpc3QpO1xuICB9O1xuXG4gIGNvbnN0IGNoZWNrTmFtZSA9IChuYW1lKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIERPTS5kZWZhdWx0R3JvdXBzLmluZGV4T2YobmFtZSkgPj0gMCB8fFxuICAgICAgT2JqZWN0LmtleXModG9Eby5tYXN0ZXJMaXN0KS5pbmRleE9mKG5hbWUpID49IDAgfHxcbiAgICAgIG5hbWUubWF0Y2goL15cXHN7MSx9JC8pIHx8XG4gICAgICBuYW1lID09PSBcIlwiXG4gICAgKTtcbiAgfTtcblxuICBjb25zdCByZW1vdmUgPSAobmFtZSkgPT4ge1xuICAgIGRlbGV0ZSB0b0RvLm1hc3Rlckxpc3RbbmFtZV07XG4gICAgY29uc29sZS5sb2codG9Eby5tYXN0ZXJMaXN0KTtcbiAgfTtcblxuICBjb25zdCBzZXRBY3RpdmUgPSAodGFyZ2V0KSA9PiB7XG4gICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gIH07XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluLW5hdlwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZ3JvdXAtYnRuXCIpKSB7XG4gICAgICBfc2V0SW5hY3RpdmUoKTtcbiAgICAgIHNldEFjdGl2ZShlLnRhcmdldCk7XG4gICAgICB0YXNrQ29udGFpbmVyLnVwZGF0ZUhlYWRlcihlLnRhcmdldCk7XG4gICAgICB0YXNrQ29udGFpbmVyLmxvYWRHcm91cFRhc2tzKHRvRG8ubWFzdGVyTGlzdCwgZS50YXJnZXQpO1xuICAgIH07XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZSxcbiAgICBjaGVja05hbWUsXG4gICAgcmVtb3ZlLFxuICAgIHNldEFjdGl2ZVxuICB9XG59KSgpO1xuXG5jb25zdCB0YXNrcyA9ICgoKSA9PiB7XG4gIGNvbnN0IF90YXNrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1jb250YWluZXJcIik7XG4gIFxuICBjb25zdCBfY2hhbmdlU3RhdHVzID0gKG5vZGUpID0+IHtcbiAgICBjb25zdCBncm91cERhdGEgPSBub2RlLmRhdGFzZXQuZ3JvdXA7XG4gICAgY29uc3QgdGFza0luZGV4ID0gbm9kZS5kYXRhc2V0LmluZGV4O1xuXG4gICAgaWYgKG5vZGUuY2hpbGRyZW5bMV0uZ2V0QXR0cmlidXRlKFwic3R5bGVcIikgPT09IG51bGwpIHtcbiAgICAgIHRvRG8ubWFzdGVyTGlzdFtncm91cERhdGFdW3Rhc2tJbmRleF0uY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgIG5vZGUuY2hpbGRyZW5bMV0uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXG4gICAgICAgICAgXCJ1cmwoYXNzZXRzL2ltYWdlcy9pY29ucy9kb25lLWJsYWNrLTI0ZHAuc3ZnKVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b0RvLm1hc3Rlckxpc3RbZ3JvdXBEYXRhXVt0YXNrSW5kZXhdLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgbm9kZS5jaGlsZHJlblsxXS5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgICB9O1xuICAgIGNvbnNvbGUubG9nKHRvRG8ubWFzdGVyTGlzdCk7XG4gIH07XG5cbiAgY29uc3QgX2dldFRhc2tEYXRhID0gKG5vZGUpID0+IHtcbiAgICBjb25zdCBncm91cERhdGEgPSBub2RlLmRhdGFzZXQuZ3JvdXA7XG4gICAgY29uc3QgdGFza0luZGV4ID0gbm9kZS5kYXRhc2V0LmluZGV4O1xuICAgIC8vIHN0b3JlIHJlZmVyZW5jZSB0byBncm91cCBhbmQgaW5kZXggb2YgdGFzayBiZWluZyB1cGRhdGVkXG4gICAgRE9NLm1vZGFsQm94LmRhdGFzZXQuaW5kZXhSZWYgPSB0YXNrSW5kZXg7XG4gICAgRE9NLm1vZGFsQm94LmRhdGFzZXQuZ3JvdXBSZWYgPSBncm91cERhdGE7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25hbWUtaW5wdXRcIikudmFsdWUgPSBcbiAgICAgICAgdG9Eby5tYXN0ZXJMaXN0W2dyb3VwRGF0YV1bdGFza0luZGV4XS50YXNrTmFtZTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dyb3VwLXNlbGVjdFwiKS52YWx1ZSA9IGdyb3VwRGF0YTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ByaW9yaXR5LXNlbGVjdFwiKS52YWx1ZSA9IFxuICAgICAgICB0b0RvLm1hc3Rlckxpc3RbZ3JvdXBEYXRhXVt0YXNrSW5kZXhdLnByaW9yaXR5O1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGF0ZS1zZWxlY3RcIikudmFsdWUgPSBcbiAgICAgICAgdG9Eby5tYXN0ZXJMaXN0W2dyb3VwRGF0YV1bdGFza0luZGV4XS5kdWVEYXRlO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbm90ZXMtaW5wdXRcIikudmFsdWUgPSBcbiAgICAgICAgdG9Eby5tYXN0ZXJMaXN0W2dyb3VwRGF0YV1bdGFza0luZGV4XS5ub3RlcztcbiAgfTtcblxuICBjb25zdCBfcmVzb2x2ZVRhc2tFdmVudCA9IChlKSA9PiB7XG4gICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICBjYXNlIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInRhc2stc3RhdHVzXCIpOlxuICAgICAgICBfY2hhbmdlU3RhdHVzKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQpO1xuICAgICAgICAvLyB0b0RvLnNhdmVUb0xvY2FsKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJ0YXNrLW5hbWVcIik6XG4gICAgICAgIC8vIHRvZ2dsZSdzIHRhc2sgaXRlbSdzIGRldGFpbHMgc2VjdGlvblxuICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuWzRdLmNsYXNzTGlzdC50b2dnbGUoXCJleHBhbmRlZFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImVkaXQtYnRuXCIpOlxuICAgICAgICB0YXNrTW9kYWwucmVuZGVyKGUsIE9iamVjdC5rZXlzKHRvRG8ubWFzdGVyTGlzdCkpO1xuICAgICAgICBfZ2V0VGFza0RhdGEoZS50YXJnZXQucGFyZW50RWxlbWVudCk7XG4gICAgICAgIGdlbmVyYWxNb2RhbC5vbk9wZW4oKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImRlbGV0ZS1idG5cIik6XG4gICAgICAgIGlmIChjb25maXJtKGBQbGVhc2UgY2xpY2sgXCJPS1wiIHRvIGNvbmZpcm0gZGVsZXRpb24gb2YgdGFzayBcbiAgICAgICAgICAgIFwiJHtlLnRhcmdldC5wYXJlbnRFbGVtZW50LmRhdGFzZXQudGFza31cIi5gKSkge1xuICAgICAgICAgIHJlbW92ZVNpbmdsZShlLnRhcmdldC5wYXJlbnRFbGVtZW50KTtcbiAgICAgICAgICB0YXNrQ29udGFpbmVyLmxvYWRHcm91cFRhc2tzKHRvRG8ubWFzdGVyTGlzdCwgRE9NLnRhc2tIZWFkZXIpO1xuICAgICAgICAgIC8vIHRvRG8uc2F2ZVRvTG9jYWwoKTtcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGUgPSAodGFza05hbWUsIHByaW9yaXR5LCBkdWVEYXRlLCBub3RlcywgY29tcGxldGVkKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRhc2tOYW1lLFxuICAgICAgcHJpb3JpdHksXG4gICAgICBkdWVEYXRlLFxuICAgICAgbm90ZXMsXG4gICAgICBjb21wbGV0ZWRcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGdyb3VwUmVmID0gRE9NLm1vZGFsQm94LmdldEF0dHJpYnV0ZShcImRhdGEtZ3JvdXAtcmVmXCIpO1xuICAgIGNvbnN0IHRhc2tSZWYgPSBET00ubW9kYWxCb3guZ2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleC1yZWZcIik7XG5cbiAgICB0b0RvLm1hc3Rlckxpc3RbZ3JvdXBSZWZdW3Rhc2tSZWZdLnRhc2tOYW1lID0gXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZS1pbnB1dFwiKS52YWx1ZTtcbiAgICB0b0RvLm1hc3Rlckxpc3RbZ3JvdXBSZWZdW3Rhc2tSZWZdLnByaW9yaXR5ID0gXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJpb3JpdHktc2VsZWN0XCIpLnZhbHVlO1xuICAgIHRvRG8ubWFzdGVyTGlzdFtncm91cFJlZl1bdGFza1JlZl0uZHVlRGF0ZSA9IFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RhdGUtc2VsZWN0XCIpLnZhbHVlO1xuICAgIHRvRG8ubWFzdGVyTGlzdFtncm91cFJlZl1bdGFza1JlZl0ubm90ZXMgPSBcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNub3Rlcy1pbnB1dFwiKS52YWx1ZTtcbiAgfTtcblxuICBjb25zdCBjaGVja05hbWUgPSAobmFtZSkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICBuYW1lLm1hdGNoKC9eXFxzezEsfSQvKSB8fFxuICAgICAgbmFtZSA9PT0gXCJcIlxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlU2luZ2xlID0gKG5vZGUpID0+IHtcbiAgICB0b0RvLm1hc3Rlckxpc3Rbbm9kZS5kYXRhc2V0Lmdyb3VwXS5zcGxpY2Uobm9kZS5kYXRhc2V0LmluZGV4LCAxKTtcbiAgICBub2RlLnJlbW92ZSgpO1xuICAgIGNvbnNvbGUubG9nKHRvRG8ubWFzdGVyTGlzdCk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlQ29tcGxldGVkID0gKGdyb3VwKSA9PiB7XG4gICAgaWYgKERPTS5kZWZhdWx0R3JvdXBzLmluZGV4T2YoZ3JvdXApID49IDApIHtcbiAgICAgIGNvbnN0IGtleUFycmF5ID0gT2JqZWN0LmtleXModG9Eby5tYXN0ZXJMaXN0KTtcbiAgICAgIE9iamVjdC52YWx1ZXModG9Eby5tYXN0ZXJMaXN0KS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gKGl0ZW0ubGVuZ3RoIC0gMSk7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGl0ZW1baV0uY29tcGxldGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0b0RvLm1hc3Rlckxpc3Rba2V5QXJyYXlbaW5kZXhdXS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b0RvLm1hc3Rlckxpc3RbZ3JvdXBdLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9ICh0b0RvLm1hc3Rlckxpc3RbZ3JvdXBdLmxlbmd0aCAtIDEpOyBpID49IDAgOyBpLS0pIHtcbiAgICAgICAgICBpZiAoaXRlbS5jb21wbGV0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRvRG8ubWFzdGVyTGlzdFtncm91cF0uc3BsaWNlKGksIDEpXG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgY29uc3QgY29uZmlybU1hc3NSZW1vdmUgPSAoKSA9PiB7XG4gICAgaWYgKERPTS5kZWZhdWx0R3JvdXBzLmluZGV4T2YoRE9NLnRhc2tIZWFkZXIudGV4dENvbnRlbnQpID49IDApIHtcbiAgICAgIHJldHVybiBjb25maXJtKGBUaGlzIHdpbGwgZGVsZXRlIGFsbCBjb21wbGV0ZWQgdGFza3MgaW4gZXZlcnkgZ3JvdXAuIGAgKyBcbiAgICAgICAgICAgICAgICAgICAgYFxcblxcblBsZWFzZSBjbGljayBcIk9LXCIgdG8gY29uZmlybSBkZWxldGlvbi5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNvbmZpcm0oYFRoaXMgd2lsbCBkZWxldGUgYWxsIGNvbXBsZXRlZCB0YXNrcyBpbiB0aGUgYCArIFxuICAgICAgICAgICAgICAgICAgICBgJHtET00udGFza0hlYWRlci50ZXh0Q29udGVudH0gZ3JvdXAuXFxuXFxuUGxlYXNlIGNsaWNrIGAgKyBcbiAgICAgICAgICAgICAgICAgICAgYFwiT0tcIiB0byBjb25maXJtIGRlbGV0aW9uLmApO1xuICAgIH07XG4gIH07XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFzay1idG5cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgaWYgKE9iamVjdC5rZXlzKHRvRG8ubWFzdGVyTGlzdCkubGVuZ3RoID09PSAwKSB7XG4gICAgICBhbGVydChcIk5vIGdyb3VwcyBleGlzdC4gUGxlYXNlIGNyZWF0ZSBhIGdyb3VwIGJlZm9yZSBhZGRpbmcgYSB0YXNrLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFza01vZGFsLnJlbmRlcihlLCBPYmplY3Qua2V5cyh0b0RvLm1hc3Rlckxpc3QpKTtcbiAgICAgIGdlbmVyYWxNb2RhbC5vbk9wZW4oKTtcbiAgICB9O1xuICB9KTtcblxuICBfdGFza0xpc3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF9yZXNvbHZlVGFza0V2ZW50KTtcbiAgX3Rhc2tMaXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIiBcIikgX3Jlc29sdmVUYXNrRXZlbnQoZSk7XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgY3JlYXRlLFxuICAgIHVwZGF0ZSxcbiAgICBjaGVja05hbWUsXG4gICAgcmVtb3ZlU2luZ2xlLFxuICAgIHJlbW92ZUNvbXBsZXRlZCxcbiAgICBjb25maXJtTWFzc1JlbW92ZSxcbiAgfVxufSkoKTtcblxuY29uc3QgbW9kYWxFdmVudHMgPSAoKCkgPT4ge1xuICBjb25zdCBfdGFza0hlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VsZWN0ZWQtZ3JvdXBcIik7XG5cbiAgRE9NLm1vZGFsQm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGNvbnN0IF9hY3RpdmVHcm91cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWN0aXZlXCIpO1xuICAgIGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZS1pbnB1dFwiKTtcbiAgICBjb25zdCBncm91cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ3JvdXAtc2VsZWN0XCIpO1xuXG4gICAgc3dpdGNoIChlLnRhcmdldCkge1xuICAgICAgY2FzZSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdC1ncm91cC1idG5cIik6XG4gICAgICBjYXNlIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXBkYXRlLWdyb3VwLWJ0blwiKTpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoZ3JvdXBzLmNoZWNrTmFtZShuYW1lSW5wdXQudmFsdWUpKSB7XG4gICAgICAgICAgYWxlcnQoXCJHcm91cCBuYW1lIGNhbm5vdCBiZSBibGFuayBhbmQgY2Fubm90IGFscmVhZHkgYmUgdGFrZW4uXCIgKyBcbiAgICAgICAgICAgICAgICBcIlxcblxcblBsZWFzZSBlbnRlciBhIG5ldyBuYW1lLlwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInN1Ym1pdC1ncm91cC1idG5cIikpIHtcbiAgICAgICAgICAgIGdyb3Vwcy5jcmVhdGUobmFtZUlucHV0LnZhbHVlKTtcbiAgICAgICAgICAgIGdyb3VwQ29udGFpbmVyLnJlbmRlcih0b0RvLm1hc3Rlckxpc3QpO1xuICAgICAgICAgICAgZ3JvdXBzLnNldEFjdGl2ZShET00uYWN0aXZlT25Mb2FkKTtcbiAgICAgICAgICAgIHRhc2tDb250YWluZXIubG9hZEdyb3VwVGFza3ModG9Eby5tYXN0ZXJMaXN0LCBET00uYWN0aXZlT25Mb2FkKTtcbiAgICAgICAgICAgIHRhc2tDb250YWluZXIudXBkYXRlSGVhZGVyKERPTS5hY3RpdmVPbkxvYWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBncm91cHMudXBkYXRlKERPTS50YXNrSGVhZGVyLnRleHRDb250ZW50LCBuYW1lSW5wdXQudmFsdWUpO1xuICAgICAgICAgICAgX2FjdGl2ZUdyb3VwLnRleHRDb250ZW50ID0gbmFtZUlucHV0LnZhbHVlO1xuICAgICAgICAgICAgdGFza0NvbnRhaW5lci51cGRhdGVIZWFkZXIoX2FjdGl2ZUdyb3VwKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICAgIC8vIHRvRG8uc2F2ZVRvTG9jYWwoKTtcbiAgICAgICAgICBnZW5lcmFsTW9kYWwub25DbG9zZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kZWxldGUtZ3JvdXAtYnRuXCIpOlxuICAgICAgICBpZiAoY29uZmlybShgVGhpcyB3aWxsIGRlbGV0ZSB0aGUgJHtET00udGFza0hlYWRlci50ZXh0Q29udGVudH0gYCArIFxuICAgICAgICAgICAgYGdyb3VwLCBhbG9uZyB3aXRoIGFueSB0YXNrcyB3aXRoaW4gaXQuXFxuXFxuUGxlYXNlIGNsaWNrIFwiT0tcIiBgICsgXG4gICAgICAgICAgICBgdG8gY29uZmlybSBkZWxldGlvbi5gKSkge1xuICAgICAgICAgIGdyb3Vwcy5yZW1vdmUoRE9NLnRhc2tIZWFkZXIudGV4dENvbnRlbnQpO1xuICAgICAgICAgIC8vIHRvRG8uc2F2ZVRvTG9jYWwoKTsgXG4gICAgICAgICAgZ2VuZXJhbE1vZGFsLm9uQ2xvc2UoKTtcbiAgICAgICAgICBncm91cENvbnRhaW5lci5yZW5kZXIodG9Eby5tYXN0ZXJMaXN0KTtcbiAgICAgICAgICBncm91cHMuc2V0QWN0aXZlKERPTS5hY3RpdmVPbkxvYWQpO1xuICAgICAgICAgIHRhc2tDb250YWluZXIubG9hZEdyb3VwVGFza3ModG9Eby5tYXN0ZXJMaXN0LCBET00uYWN0aXZlT25Mb2FkKTtcbiAgICAgICAgICB0YXNrQ29udGFpbmVyLnVwZGF0ZUhlYWRlcihET00uYWN0aXZlT25Mb2FkKTtcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGVsZXRlLWNvbXBsZXRlZC1idG5cIik6XG4gICAgICAgIGlmICh0YXNrcy5jb25maXJtTWFzc1JlbW92ZSgpKSB7XG4gICAgICAgICAgdGFza3MucmVtb3ZlQ29tcGxldGVkKERPTS50YXNrSGVhZGVyLnRleHRDb250ZW50KTtcbiAgICAgICAgICAvLyB0b0RvLnNhdmVUb0xvY2FsKCk7XG4gICAgICAgICAgZ2VuZXJhbE1vZGFsLm9uQ2xvc2UoKTtcbiAgICAgICAgICB0YXNrQ29udGFpbmVyLmxvYWRHcm91cFRhc2tzKHRvRG8ubWFzdGVyTGlzdCwgX2FjdGl2ZUdyb3VwKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyh0b0RvLm1hc3Rlckxpc3QpO1xuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtc2luZ2xlLWJ0blwiKTpcbiAgICAgIGNhc2UgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtbWFueS1idG5cIik6XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHRhc2tzLmNoZWNrTmFtZShuYW1lSW5wdXQudmFsdWUpKSB7XG4gICAgICAgICAgYWxlcnQoXCJUYXNrIG5hbWUgY2Fubm90IGJlIGJsYW5rLlxcblxcblBsZWFzZSBlbnRlciBhIG5ldyBuYW1lLlwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbmV3VGFzayA9IHRhc2tzLmNyZWF0ZShcbiAgICAgICAgICAgIG5hbWVJbnB1dC52YWx1ZSxcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJpb3JpdHktc2VsZWN0XCIpLnZhbHVlLFxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkYXRlLXNlbGVjdFwiKS52YWx1ZSxcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbm90ZXMtaW5wdXRcIikudmFsdWUsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICk7XG4gICAgICAgICAgdG9Eby5tYXN0ZXJMaXN0W2dyb3VwLnZhbHVlXS5wdXNoKG5ld1Rhc2spO1xuICAgICAgICAgIC8vIHRvRG8uc2F2ZVRvTG9jYWwoKTtcbiAgICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWRkLW1hbnktYnRuXCIpKSB7XG4gICAgICAgICAgICBuYW1lSW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICAgIG5hbWVJbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICBncm91cC5zZWxlY3RlZEluZGV4ID0gMDtcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJpb3JpdHktc2VsZWN0XCIpLnNlbGVjdGVkSW5kZXggPSAwO1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkYXRlLXNlbGVjdFwiKS52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25vdGVzLWlucHV0XCIpLnZhbHVlID0gXCJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2VuZXJhbE1vZGFsLm9uQ2xvc2UoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRhc2tDb250YWluZXIubG9hZEdyb3VwVGFza3ModG9Eby5tYXN0ZXJMaXN0LCBfYWN0aXZlR3JvdXApO1xuICAgICAgICAgIGNvbnNvbGUubG9nKHRvRG8ubWFzdGVyTGlzdCk7XG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVwZGF0ZS10YXNrLWJ0blwiKTpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAodGFza3MuY2hlY2tOYW1lKG5hbWVJbnB1dC52YWx1ZSkpIHtcbiAgICAgICAgICBhbGVydChcIlRhc2sgbmFtZSBjYW5ub3QgYmUgYmxhbmsuXFxuXFxuUGxlYXNlIGVudGVyIGEgbmV3IG5hbWUuXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YXNrcy51cGRhdGUoKTtcbiAgICAgICAgICAvLyB0b0RvLnNhdmVUb0xvY2FsKCk7XG4gICAgICAgICAgZ2VuZXJhbE1vZGFsLm9uQ2xvc2UoKTtcbiAgICAgICAgICB0YXNrQ29udGFpbmVyLmxvYWRHcm91cFRhc2tzKHRvRG8ubWFzdGVyTGlzdCwgRE9NLnRhc2tIZWFkZXIpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKHRvRG8ubWFzdGVyTGlzdCk7XG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gIH0pO1xufSkoKTtcblxuZXhwb3J0IHsgdG9EbywgZ3JvdXBzLCB0YXNrcywgbW9kYWxFdmVudHMgfTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCB7IGFjY2Vzc2liaWxpdHlPcHRpb25zLCBkaXNwbGF5T3B0aW9ucyB9IGZyb20gXCIuL3NpdGUtc2V0dGluZ3NcIjtcbmltcG9ydCB7IGdyb3VwTW9kYWwsIHdhcm5pbmdNb2RhbCB9IGZyb20gXCIuL21vZGFsc1wiO1xuaW1wb3J0IHsgZ3JvdXBzLCBtb2RhbEV2ZW50cywgdGFza3MsIHRvRG8gfSBmcm9tIFwiLi9sb2dpY1wiO1xuaW1wb3J0IGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyBmcm9tICdkYXRlLWZucy9kaWZmZXJlbmNlSW5DYWxlbmRhckRheXMnXG5pbXBvcnQgZm9ybWF0RGlzdGFuY2VUb05vd1N0cmljdCBmcm9tIFwiZGF0ZS1mbnMvZm9ybWF0RGlzdGFuY2VUb05vd1N0cmljdFwiO1xuXG5jb25zb2xlLmxvZyh0b0RvLm1hc3Rlckxpc3QpO1xuXG5jb25zdCBtZW51VmlzaWJpbGl0eSA9ICgoKSA9PiB7XG4gIGNvbnN0IG1lbnVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haW4tbmF2XCIpO1xuICBjb25zdCBtZW51T3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS1idXR0b25cIik7XG4gIGNvbnN0IG1lbnVDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS1jbG9zZS1idXR0b25cIik7XG5cbiAgY29uc3QgX29uU2NyZWVuU2l6ZSA9ICgpID0+IHtcbiAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoID4gNzYzKSB7XG4gICAgICBtZW51Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgIG1lbnVDb250YWluZXIuc3R5bGUubGVmdCA9IFwiMFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZW51Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgbWVudUNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gXCItODAwcHhcIjtcbiAgICB9O1xuICB9O1xuICBcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgX29uU2NyZWVuU2l6ZSk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBfb25TY3JlZW5TaXplKTtcblxuICBjb25zdCBfdG9nZ2xlTWVudSA9ICgpID0+IHtcbiAgICBpZiAobWVudUNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID09PSBcImhpZGRlblwiKSB7XG4gICAgICBtZW51Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgIG1lbnVDb250YWluZXIuc3R5bGUubGVmdCA9IFwiMFwiO1xuICAgICAgbWVudUNsb3NlQnV0dG9uLmZvY3VzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lbnVDb250YWluZXIuc3R5bGUubGVmdCA9IFwiLTgwMHB4XCI7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbWVudUNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIlxuICAgICAgfSwgNjAwKTtcbiAgICAgIG1lbnVPcGVuQnV0dG9uLmZvY3VzKCk7XG4gICAgfTtcbiAgfTtcblxuICBtZW51T3BlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgX3RvZ2dsZU1lbnUpO1xuICBtZW51Q2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF90b2dnbGVNZW51KTtcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==